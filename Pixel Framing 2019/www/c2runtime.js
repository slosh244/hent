// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,da,ea,fa,ga,x,ha,ia,ja,ka,ma,na,O,oa,qa,sa,ta,ua,va,xa,P,ya,za,Aa,Da,Ea,U,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb={},$b={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(a,c,e,h){this.set(a,c,e,h)}function t(){this.Pa=this.Oa=this.Ra=this.Qa=this.$a=this.Za=this.za=this.ya=0}function r(a,c,e,h){a<c?e<h?(m=a<e?a:e,y=c>h?c:h):(m=a<h?a:h,y=c>e?c:e):e<h?(m=c<e?c:e,y=a>h?a:h):(m=c<h?c:h,y=a>e?a:e)}function q(){this.items=this.G=null;this.Zg=0;la&&(this.G=new Set);this.rg=[];this.ee=!0}function l(a){wa[V++]=a}function u(){this.ua=this.Pj=this.y=this.qk=0}function k(a){this.La=[];this.ai=this.ci=this.di=this.bi=0;this.Ch(a)}function a(a,c){this.vk=
a;this.uk=c;this.cells={}}function b(a,c){this.vk=a;this.uk=c;this.cells={}}function n(a,c,e){var h;return D.length?(h=D.pop(),h.bl=a,h.x=c,h.y=e,h):new aa(a,c,e)}function c(a,c,e){this.bl=a;this.x=c;this.y=e;this.eb=new ba}function g(a,c,e){var h;return A.length?(h=A.pop(),h.bl=a,h.x=c,h.y=e,h):new ca(a,c,e)}function f(a,c,e){this.bl=a;this.x=c;this.y=e;this.eb=[];this.Pf=!0;this.ld=new ba;this.vg=!1}function e(a,c){return a.cd-c.cd}da=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ga=function(a){return"number"===typeof a};x=function(a){return"string"===typeof a};ha=function(a){return 0<a&&0===(a-1&a)};ia=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};ja=function(a){return 0>a?-a:a};ka=function(a,c){return a>c?a:c};ma=function(a,c){return a<c?a:c};na=Math.PI;O=function(a){return 0<=a?a|0:(a|0)-1};oa=function(a){var c=a|0;return c===a?c:c+1};
qa=function(a,c,e,h,g,b,f,w){var z,C,p,m;a<e?(C=a,z=e):(C=e,z=a);g<f?(m=g,p=f):(m=f,p=g);if(z<m||C>p)return!1;c<h?(C=c,z=h):(C=h,z=c);b<w?(m=b,p=w):(m=w,p=b);if(z<m||C>p)return!1;z=g-a+f-e;C=b-c+w-h;a=e-a;c=h-c;g=f-g;b=w-b;w=ja(c*g-b*a);return ja(g*C-b*z)>w?!1:ja(a*C-c*z)<=w};d.prototype.set=function(a,c,e,h){this.left=a;this.top=c;this.right=e;this.bottom=h};d.prototype.Af=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};d.prototype.width=function(){return this.right-
this.left};d.prototype.height=function(){return this.bottom-this.top};d.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};d.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};d.prototype.Xt=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};d.prototype.Yt=function(a,c,e){return!(a.right+
c<this.left||a.bottom+e<this.top||a.left+c>this.right||a.top+e>this.bottom)};d.prototype.tb=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};d.prototype.Dg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};sa=d;t.prototype.Ge=function(a){this.ya=a.left;this.za=a.top;this.Za=a.right;this.$a=a.top;this.Qa=a.right;this.Ra=a.bottom;this.Oa=a.left;this.Pa=a.bottom};t.prototype.Pp=function(a,c){if(0===c)this.Ge(a);else{var e=
Math.sin(c),h=Math.cos(c),g=a.left*e,b=a.top*e,f=a.right*e,e=a.bottom*e,w=a.left*h,z=a.top*h,C=a.right*h,h=a.bottom*h;this.ya=w-b;this.za=z+g;this.Za=C-b;this.$a=z+f;this.Qa=C-e;this.Ra=h+f;this.Oa=w-e;this.Pa=h+g}};t.prototype.offset=function(a,c){this.ya+=a;this.za+=c;this.Za+=a;this.$a+=c;this.Qa+=a;this.Ra+=c;this.Oa+=a;this.Pa+=c;return this};var m=0,y=0;t.prototype.un=function(a){r(this.ya,this.Za,this.Qa,this.Oa);a.left=m;a.right=y;r(this.za,this.$a,this.Ra,this.Pa);a.top=m;a.bottom=y};t.prototype.tb=
function(a,c){var e=this.ya,h=this.za,g=this.Za-e,b=this.$a-h,f=this.Qa-e,w=this.Ra-h,z=a-e,C=c-h,p=g*g+b*b,m=g*f+b*w,b=g*z+b*C,n=f*f+w*w,k=f*z+w*C,y=1/(p*n-m*m),g=(n*b-m*k)*y,p=(p*k-m*b)*y;if(0<=g&&0<p&&1>g+p)return!0;g=this.Oa-e;b=this.Pa-h;p=g*g+b*b;m=g*f+b*w;b=g*z+b*C;y=1/(p*n-m*m);g=(n*b-m*k)*y;p=(p*k-m*b)*y;return 0<=g&&0<p&&1>g+p};t.prototype.be=function(a,c){if(c)switch(a){case 0:return this.ya;case 1:return this.Za;case 2:return this.Qa;case 3:return this.Oa;case 4:return this.ya;default:return this.ya}else switch(a){case 0:return this.za;
case 1:return this.$a;case 2:return this.Ra;case 3:return this.Pa;case 4:return this.za;default:return this.za}};t.prototype.cp=function(){return(this.ya+this.Za+this.Qa+this.Oa)/4};t.prototype.dp=function(){return(this.za+this.$a+this.Ra+this.Pa)/4};t.prototype.ro=function(a){var c=a.cp(),e=a.dp();if(this.tb(c,e))return!0;c=this.cp();e=this.dp();if(a.tb(c,e))return!0;var h,g,b,f,w,z,p,m;for(p=0;4>p;p++)for(m=0;4>m;m++)if(c=this.be(p,!0),e=this.be(p,!1),h=this.be(p+1,!0),g=this.be(p+1,!1),b=a.be(m,
!0),f=a.be(m,!1),w=a.be(m+1,!0),z=a.be(m+1,!1),qa(c,e,h,g,b,f,w,z))return!0;return!1};ta=t;ua=function(a,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e]);return a};va=function(a,c){var e,h;c=O(c);if(!(0>c||c>=a.length)){e=c;for(h=a.length-1;e<h;e++)a[e]=a[e+1];xa(a,h)}};xa=function(a,c){a.length=c};P=function(a){xa(a,0)};ya=function(a,c){P(a);var e,h;e=0;for(h=c.length;e<h;++e)a[e]=c[e]};za=function(a,c){a.push.apply(a,c)};Aa=function(a,c){var e,h;e=0;for(h=a.length;e<h;++e)if(a[e]===c)return e;
return-1};Da=function(a,c){var e=Aa(a,c);-1!==e&&va(a,e)};Ea=function(a,c,e){return a<c?c:a>e?e:a};U=function(a){return a/(180/na)};Fa=function(a){return 180/na*a};Ga=function(a){a%=360;0>a&&(a+=360);return a};Ha=function(a){a%=2*na;0>a&&(a+=2*na);return a};Ia=function(a){return Ga(Fa(a))};Ja=function(a){return Ha(U(a))};Ka=function(a,c,e,h){return Math.atan2(h-c,e-a)};La=function(a,c){if(a===c)return 0;var e=Math.sin(a),h=Math.cos(a),g=Math.sin(c),b=Math.cos(c),e=e*g+h*b;return 1<=e?0:-1>=e?na:Math.acos(e)};
Ma=function(a,c,e){var h=Math.sin(a),g=Math.cos(a),b=Math.sin(c),f=Math.cos(c);return Math.acos(h*b+g*f)>e?0<g*b-h*f?Ha(a+e):Ha(a-e):Ha(c)};Na=function(a,c){var e=Math.sin(a),h=Math.cos(a),g=Math.sin(c),b=Math.cos(c);return 0>=h*g-e*b};Oa=function(a,c,e,h){a=e-a;c=h-c;return Math.sqrt(a*a+c*c)};Pa=function(a,c){return!a!==!c};Qa=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};Ra=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var J=+new Date;Sa=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-J};var h=!1,p=h=!1,v=!1;"undefined"!==typeof window&&(h=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),h=!h&&/safari/i.test(navigator.userAgent),p=/(iphone|ipod|ipad)/i.test(navigator.userAgent),v=window.c2ejecta);
var la=!h&&!v&&!p&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;q.prototype.contains=function(a){return this.Ed()?!1:la?this.G.has(a):this.items&&this.items.hasOwnProperty(a)};q.prototype.add=function(a){if(la)this.G.has(a)||(this.G.add(a),this.ee=!1);else{var c=a.toString(),e=this.items;e?e.hasOwnProperty(c)||(e[c]=a,this.Zg++,this.ee=!1):(this.items={},this.items[c]=a,this.Zg=1,this.ee=!1)}};q.prototype.remove=function(a){if(!this.Ed())if(la)this.G.has(a)&&(this.G["delete"](a),
this.ee=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.Zg--,this.ee=!1)}};q.prototype.clear=function(){this.Ed()||(la?this.G.clear():(this.items=null,this.Zg=0),P(this.rg),this.ee=!0)};q.prototype.Ed=function(){return 0===this.count()};q.prototype.count=function(){return la?this.G.size:this.Zg};var wa=null,V=0;q.prototype.lv=function(){if(!this.ee){if(la)P(this.rg),wa=this.rg,V=0,this.G.forEach(l),wa=null,V=0;else{var a=this.rg;P(a);var c,e=0,h=this.items;
if(h)for(c in h)h.hasOwnProperty(c)&&(a[e++]=h[c])}this.ee=!0}};q.prototype.qd=function(){this.lv();return this.rg};ba=q;var K=new ba;Ta=function(a){var c,e;c=0;for(e=a.length;c<e;++c)K.add(a[c]);ya(a,K.qd());K.clear()};Ua=function(a,c){la?Va(a,c.G):Wa(a,c.qd())};Va=function(a,c){var e,h,g,b;h=e=0;for(g=a.length;e<g;++e)b=a[e],c.has(b)||(a[h++]=b);xa(a,h)};Wa=function(a,c){var e,h,g,b;h=e=0;for(g=a.length;e<g;++e)b=a[e],-1===Aa(c,b)&&(a[h++]=b);xa(a,h)};u.prototype.add=function(a){this.y=a-this.qk;
this.Pj=this.ua+this.y;this.qk=this.Pj-this.ua-this.y;this.ua=this.Pj};u.prototype.reset=function(){this.ua=this.Pj=this.y=this.qk=0};Xa=u;Ya=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};k.prototype.Ch=function(a){this.Ap=a;this.Bc=a.length/2;this.La.length=a.length;this.gi=this.hi=-1;this.xn=0};k.prototype.te=function(){return!this.Ap.length};k.prototype.Z=function(){for(var a=this.La,c=a[0],e=c,h=a[1],g=h,b,f,w=1,z=this.Bc;w<z;++w)f=2*w,b=a[f],f=a[f+1],b<c&&(c=b),b>e&&(e=b),
f<h&&(h=f),f>g&&(g=f);this.bi=c;this.ci=e;this.di=h;this.ai=g};k.prototype.Ge=function(a,c,e){this.La.length=8;this.Bc=4;var h=this.La;h[0]=a.left-c;h[1]=a.top-e;h[2]=a.right-c;h[3]=a.top-e;h[4]=a.right-c;h[5]=a.bottom-e;h[6]=a.left-c;h[7]=a.bottom-e;this.hi=a.right-a.left;this.gi=a.bottom-a.top;this.Z()};k.prototype.Fe=function(a,c,e,h,g){this.La.length=8;this.Bc=4;var b=this.La;b[0]=a.ya-c;b[1]=a.za-e;b[2]=a.Za-c;b[3]=a.$a-e;b[4]=a.Qa-c;b[5]=a.Ra-e;b[6]=a.Oa-c;b[7]=a.Pa-e;this.hi=h;this.gi=g;this.Z()};
k.prototype.Op=function(a){this.Bc=a.Bc;ya(this.La,a.La);this.bi=a.bi;this.di-a.di;this.ci=a.ci;this.ai=a.ai};k.prototype.de=function(a,c,e){if(this.hi!==a||this.gi!==c||this.xn!==e){this.hi=a;this.gi=c;this.xn=e;var h,b,g,f,w,z=0,p=1,m=this.Ap,n=this.La;0!==e&&(z=Math.sin(e),p=Math.cos(e));e=0;for(g=this.Bc;e<g;e++)h=2*e,b=h+1,f=m[h]*a,w=m[b]*c,n[h]=f*p-w*z,n[b]=w*p+f*z;this.Z()}};k.prototype.tb=function(a,c){var e=this.La;if(a===e[0]&&c===e[1])return!0;var h,b,g,f=this.Bc,w=this.bi-110,z=this.di-
101,p=this.ci+131,m=this.ai+120,n,k,y=0,d=0;for(h=0;h<f;h++)b=2*h,g=(h+1)%f*2,n=e[b],b=e[b+1],k=e[g],g=e[g+1],qa(w,z,a,c,n,b,k,g)&&y++,qa(p,m,a,c,n,b,k,g)&&d++;return 1===y%2||1===d%2};k.prototype.Sg=function(a,c,e){var h=a.La,b=this.La;if(this.tb(h[0]+c,h[1]+e)||a.tb(b[0]-c,b[1]-e))return!0;var g,f,w,z,p,m,n,k,y,d,v,l;g=0;for(z=this.Bc;g<z;g++)for(f=2*g,w=(g+1)%z*2,k=b[f],f=b[f+1],y=b[w],d=b[w+1],w=0,n=a.Bc;w<n;w++)if(p=2*w,m=(w+1)%n*2,v=h[p]+c,p=h[p+1]+e,l=h[m]+c,m=h[m+1]+e,qa(k,f,y,d,v,p,l,m))return!0;
return!1};Za=k;a.prototype.ne=function(a,c,e){var h;h=this.cells[a];return h?(h=h[c])?h:e?(h=n(this,a,c),this.cells[a][c]=h):null:e?(h=n(this,a,c),this.cells[a]={},this.cells[a][c]=h):null};a.prototype.Fb=function(a){return O(a/this.vk)};a.prototype.Gb=function(a){return O(a/this.uk)};a.prototype.update=function(a,c,e){var h,b,g,f,w;if(c)for(h=c.left,b=c.right;h<=b;++h)for(g=c.top,f=c.bottom;g<=f;++g)if(!e||!e.tb(h,g))if(w=this.ne(h,g,!1))w.remove(a),w.Ed()&&(w.eb.clear(),1E3>D.length&&D.push(w),
this.cells[h][g]=null);if(e)for(h=e.left,b=e.right;h<=b;++h)for(g=e.top,f=e.bottom;g<=f;++g)c&&c.tb(h,g)||this.ne(h,g,!0).ll(a)};a.prototype.wj=function(a,c){var e,h,g,b,f,w;e=this.Fb(a.left);g=this.Gb(a.top);h=this.Fb(a.right);for(f=this.Gb(a.bottom);e<=h;++e)for(b=g;b<=f;++b)(w=this.ne(e,b,!1))&&w.dump(c)};ab=a;b.prototype.ne=function(a,c,e){var h;h=this.cells[a];return h?(h=h[c])?h:e?(h=g(this,a,c),this.cells[a][c]=h):null:e?(h=g(this,a,c),this.cells[a]={},this.cells[a][c]=h):null};b.prototype.Fb=
function(a){return O(a/this.vk)};b.prototype.Gb=function(a){return O(a/this.uk)};b.prototype.update=function(a,c,e){var h,g,b,f,w;if(c)for(h=c.left,g=c.right;h<=g;++h)for(b=c.top,f=c.bottom;b<=f;++b)if(!e||!e.tb(h,b))if(w=this.ne(h,b,!1))w.remove(a),w.Ed()&&(w.reset(),1E3>A.length&&A.push(w),this.cells[h][b]=null);if(e)for(h=e.left,g=e.right;h<=g;++h)for(b=e.top,f=e.bottom;b<=f;++b)c&&c.tb(h,b)||this.ne(h,b,!0).ll(a)};b.prototype.wj=function(a,c,e,h,b){var g,f;a=this.Fb(a);c=this.Gb(c);e=this.Fb(e);
for(g=this.Gb(h);a<=e;++a)for(h=c;h<=g;++h)(f=this.ne(a,h,!1))&&f.dump(b)};b.prototype.ou=function(a){var c,e,h,b,g;c=a.left;h=a.top;e=a.right;for(b=a.bottom;c<=e;++c)for(a=h;a<=b;++a)if(g=this.ne(c,a,!1))g.Pf=!1};bb=b;var D=[];c.prototype.Ed=function(){return this.eb.Ed()};c.prototype.ll=function(a){this.eb.add(a)};c.prototype.remove=function(a){this.eb.remove(a)};c.prototype.dump=function(a){za(a,this.eb.qd())};aa=c;var A=[];f.prototype.Ed=function(){if(!this.eb.length)return!0;if(this.eb.length>
this.ld.count())return!1;this.Ok();return!0};f.prototype.ll=function(a){this.ld.contains(a)?(this.ld.remove(a),this.ld.Ed()&&(this.vg=!1)):this.eb.length?(this.eb[this.eb.length-1].jd()>a.jd()&&(this.Pf=!1),this.eb.push(a)):(this.eb.push(a),this.Pf=!0)};f.prototype.remove=function(a){this.ld.add(a);this.vg=!0;30<=this.ld.count()&&this.Ok()};f.prototype.Ok=function(){this.vg&&(this.ld.count()===this.eb.length?this.reset():(Ua(this.eb,this.ld),this.ld.clear(),this.vg=!1))};f.prototype.Ds=function(){this.Pf||
(this.eb.sort(e),this.Pf=!0)};f.prototype.reset=function(){P(this.eb);this.Pf=!0;this.ld.clear();this.vg=!1};f.prototype.dump=function(a){this.Ok();this.Ds();this.eb.length&&a.push(this.eb)};ca=f;var H="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");cb=function(a){return 0>=a||11<=a?"source-over":H[a-1]};db=function(a,c,e){if(e)switch(a.yb=e.ONE,a.ub=e.ONE_MINUS_SRC_ALPHA,c){case 1:a.yb=e.ONE;a.ub=e.ONE;break;case 3:a.yb=
e.ONE;a.ub=e.ZERO;break;case 4:a.yb=e.ONE_MINUS_DST_ALPHA;a.ub=e.ONE;break;case 5:a.yb=e.DST_ALPHA;a.ub=e.ZERO;break;case 6:a.yb=e.ZERO;a.ub=e.SRC_ALPHA;break;case 7:a.yb=e.ONE_MINUS_DST_ALPHA;a.ub=e.ZERO;break;case 8:a.yb=e.ZERO;a.ub=e.ONE_MINUS_SRC_ALPHA;break;case 9:a.yb=e.DST_ALPHA;a.ub=e.ONE_MINUS_SRC_ALPHA;break;case 10:a.yb=e.ONE_MINUS_DST_ALPHA,a.ub=e.SRC_ALPHA}};eb=function(a){return Math.round(1E6*a)/1E6};fb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?
!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};gb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||fb(a.tagName,"canvas")?!0:!1}})();var ac="undefined"!==typeof Float32Array?Float32Array:Array;function bc(d){var t=new ac(3);d&&(t[0]=d[0],t[1]=d[1],t[2]=d[2]);return t}
function cc(d){var t=new ac(16);d&&(t[0]=d[0],t[1]=d[1],t[2]=d[2],t[3]=d[3],t[4]=d[4],t[5]=d[5],t[6]=d[6],t[7]=d[7],t[8]=d[8],t[9]=d[9],t[10]=d[10],t[11]=d[11],t[12]=d[12],t[13]=d[13],t[14]=d[14],t[15]=d[15]);return t}function dc(d,t){t[0]=d[0];t[1]=d[1];t[2]=d[2];t[3]=d[3];t[4]=d[4];t[5]=d[5];t[6]=d[6];t[7]=d[7];t[8]=d[8];t[9]=d[9];t[10]=d[10];t[11]=d[11];t[12]=d[12];t[13]=d[13];t[14]=d[14];t[15]=d[15]}
function ec(d,t){var r=t[0],q=t[1];t=t[2];d[0]*=r;d[1]*=r;d[2]*=r;d[3]*=r;d[4]*=q;d[5]*=q;d[6]*=q;d[7]*=q;d[8]*=t;d[9]*=t;d[10]*=t;d[11]*=t}
function fc(d,t,r,q){q||(q=cc());var l,u,k,a,b,n,c,g,f=d[0],e=d[1];d=d[2];u=r[0];k=r[1];l=r[2];r=t[1];n=t[2];f===t[0]&&e===r&&d===n?(d=q,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(r=f-t[0],n=e-t[1],c=d-t[2],g=1/Math.sqrt(r*r+n*n+c*c),r*=g,n*=g,c*=g,t=k*c-l*n,l=l*r-u*c,u=u*n-k*r,(g=Math.sqrt(t*t+l*l+u*u))?(g=1/g,t*=g,l*=g,u*=g):u=l=t=0,k=n*u-c*l,a=c*t-r*u,b=r*l-n*t,(g=Math.sqrt(k*k+a*a+b*b))?(g=1/g,k*=g,a*=g,b*=g):b=a=k=0,
q[0]=t,q[1]=k,q[2]=r,q[3]=0,q[4]=l,q[5]=a,q[6]=n,q[7]=0,q[8]=u,q[9]=b,q[10]=c,q[11]=0,q[12]=-(t*f+l*e+u*d),q[13]=-(k*f+a*e+b*d),q[14]=-(r*f+n*e+c*d),q[15]=1)}
(function(){function d(a,b,n){this.qe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.ma=!!n;this.Pi=this.Tg=!1;this.ti=0;this.dk=1;this.Sm=1E3;this.qv=(this.Sm-this.dk)/32768;this.sk=bc([0,0,100]);this.Lo=bc([0,0,0]);this.iq=bc([0,1,0]);this.Th=bc([1,1,1]);this.Nn=!0;this.gj=cc();this.lc=cc();this.zl=cc();this.Bk=cc();this.u=a;this.version=0===this.u.getParameter(this.u.VERSION).indexOf("WebGL 2")?2:1;this.no()}function t(a,b,n){this.u=a;this.Dh=
b;this.name=n;this.xc=a.getAttribLocation(b,"aPos");this.Ae=a.getAttribLocation(b,"aTex");this.Jo=a.getUniformLocation(b,"matP");this.cj=a.getUniformLocation(b,"matMV");this.Xf=a.getUniformLocation(b,"opacity");this.Ll=a.getUniformLocation(b,"colorFill");this.Ko=a.getUniformLocation(b,"samplerFront");this.jh=a.getUniformLocation(b,"samplerBack");this.jf=a.getUniformLocation(b,"destStart");this.hf=a.getUniformLocation(b,"destEnd");this.mh=a.getUniformLocation(b,"seconds");this.Nl=a.getUniformLocation(b,
"pixelWidth");this.Ml=a.getUniformLocation(b,"pixelHeight");this.ih=a.getUniformLocation(b,"layerScale");this.hh=a.getUniformLocation(b,"layerAngle");this.nh=a.getUniformLocation(b,"viewOrigin");this.kh=a.getUniformLocation(b,"scrollPos");this.Tt=!!(this.Nl||this.Ml||this.mh||this.jh||this.jf||this.hf||this.ih||this.hh||this.nh||this.kh);this.To=this.Uo=-999;this.fj=1;this.Po=this.Oo=0;this.Ro=this.No=this.Mo=1;this.Xo=this.Wo=this.Vo=this.Zo=this.Yo=this.Qo=0;this.yl=[];this.So=cc();this.Xf&&a.uniform1f(this.Xf,
1);this.Ll&&a.uniform4f(this.Ll,1,1,1,1);this.Ko&&a.uniform1i(this.Ko,0);this.jh&&a.uniform1i(this.jh,1);this.jf&&a.uniform2f(this.jf,0,0);this.hf&&a.uniform2f(this.hf,1,1);this.ih&&a.uniform1f(this.ih,1);this.hh&&a.uniform1f(this.hh,0);this.nh&&a.uniform2f(this.nh,0,0);this.kh&&a.uniform2f(this.kh,0,0);this.mh&&a.uniform1f(this.mh,0);this.We=!1}function r(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&
a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function q(a,b){this.type=a;this.n=b;this.u=b.u;this.Pb=this.pb=this.rp=0;this.P=this.Fc=null;this.Qp=[]}var l=cc();d.prototype.no=function(){var a=this.u,b;this.Do=1;this.$e=this.ve=null;this.si=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.ma?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.Eo=a.ONE;this.Ao=a.ONE_MINUS_SRC_ALPHA;this.Sh=new Float32Array(8E3*(this.ma?3:2));this.Kh=new Float32Array(16E3);this.$l=new Float32Array(32E3);this.Zl=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Zl);a.bufferData(a.ARRAY_BUFFER,this.$l.byteLength,a.DYNAMIC_DRAW);this.Rh=Array(4);this.Jh=Array(4);for(b=0;4>b;b++)this.Rh[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Rh[b]),a.bufferData(a.ARRAY_BUFFER,this.Sh.byteLength,a.DYNAMIC_DRAW),this.Jh[b]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Jh[b]),a.bufferData(a.ARRAY_BUFFER,this.Kh.byteLength,a.DYNAMIC_DRAW);this.ud=0;this.Vt=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Vt);for(var n=new Uint16Array(12E3),c=b=0;12E3>b;)n[b++]=c,n[b++]=c+1,n[b++]=c+2,n[b++]=c,n[b++]=c+2,n[b++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,n,a.STATIC_DRAW);this.dg=this.Ie=this.Hc=0;this.Ea=[];b=this.ma?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";n=this.Ag({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Ea.push(n);n=this.Ag({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ea.push(n);n=this.Ag({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Ea.push(n);n=this.Ag({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Ea.push(n);for(var g in gc)gc.hasOwnProperty(g)&&this.Ea.push(this.Ag(gc[g],b,g));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Lc=[];this.rc=0;this.lb=this.Sa=!1;this.In=this.ah=-1;this.Cf=null;this.Nk=a.createFramebuffer();this.wi=this.yj=null;this.sn=!1;this.ma&&(this.wi=a.createRenderbuffer());this.Ke=bc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.ru=a[0];this.Pl=a[1];2048<this.Pl&&(this.Pl=2048);this.Tb(0)};t.prototype.Nm=function(a){r(this.So,
a)||(dc(a,this.So),this.u.uniformMatrix4fv(this.cj,!1,a))};d.prototype.Ag=function(a,b,n){var c=this.u,g=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(g,a.src);c.compileShader(g);if(!c.getShaderParameter(g,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(g),c.deleteShader(g),Error("error compiling fragment shader: "+a);var f=c.createShader(c.VERTEX_SHADER);c.shaderSource(f,b);c.compileShader(f);if(!c.getShaderParameter(f,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(f),c.deleteShader(g),c.deleteShader(f),
Error("error compiling vertex shader: "+a);b=c.createProgram();c.attachShader(b,g);c.attachShader(b,f);c.linkProgram(b);if(!c.getProgramParameter(b,c.LINK_STATUS))throw a=c.getProgramInfoLog(b),c.deleteShader(g),c.deleteShader(f),c.deleteProgram(b),Error("error linking shader program: "+a);c.useProgram(b);c.deleteShader(g);c.deleteShader(f);g=new t(c,b,n);g.Lk=a.Lk||0;g.Mk=a.Mk||0;g.Hn=!!a.Hn;g.Uc=!!a.Uc;g.qn=!!a.qn;g.Q=a.Q||[];a=0;for(f=g.Q.length;a<f;a++)g.Q[a][1]=c.getUniformLocation(b,g.Q[a][0]),
g.yl.push(0),c.uniform1f(g.Q[a][1],0);return g};d.prototype.$k=function(a){var b,n;b=0;for(n=this.Ea.length;b<n;b++)if(this.Ea[b].name===a)return b;return-1};d.prototype.zp=function(a,b,n){var c=this.lc,g=this.gj,f=[0,0,0,0,0,0,0,0];f[0]=c[0]*a+c[4]*b+c[12];f[1]=c[1]*a+c[5]*b+c[13];f[2]=c[2]*a+c[6]*b+c[14];f[3]=c[3]*a+c[7]*b+c[15];f[4]=g[0]*f[0]+g[4]*f[1]+g[8]*f[2]+g[12]*f[3];f[5]=g[1]*f[0]+g[5]*f[1]+g[9]*f[2]+g[13]*f[3];f[6]=g[2]*f[0]+g[6]*f[1]+g[10]*f[2]+g[14]*f[3];f[7]=-f[2];0!==f[7]&&(f[7]=1/
f[7],f[4]*=f[7],f[5]*=f[7],f[6]*=f[7],n[0]=(.5*f[4]+.5)*this.width,n[1]=(.5*f[5]+.5)*this.height)};d.prototype.qf=function(a,b,n){if(this.width!==a||this.height!==b||n){this.gd();n=this.u;this.width=a;this.height=b;n.viewport(0,0,a,b);fc(this.sk,this.Lo,this.iq,this.lc);if(this.ma){var c=-a/2;a=a/2;var g=b/2;b=-b/2;var f=this.dk,e=this.Sm,m=this.gj;m||(m=cc());var k=a-c,d=b-g,h=e-f;m[0]=2/k;m[1]=0;m[2]=0;m[3]=0;m[4]=0;m[5]=2/d;m[6]=0;m[7]=0;m[8]=0;m[9]=0;m[10]=-2/h;m[11]=0;m[12]=-(c+a)/k;m[13]=-(b+
g)/d;m[14]=-(e+f)/h;m[15]=1;this.Th[0]=1;this.Th[1]=1}else b=a/b,c=this.dk,a=this.Sm,m=this.gj,e=c*Math.tan(45*Math.PI/360),b*=e,g=-b,f=-e,m||(m=cc()),k=b-g,d=e-f,h=a-c,m[0]=2*c/k,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=2*c/d,m[6]=0,m[7]=0,m[8]=(b+g)/k,m[9]=(e+f)/d,m[10]=-(a+c)/h,m[11]=-1,m[12]=0,m[13]=0,m[14]=-(a*c*2)/h,m[15]=0,c=[0,0],a=[0,0],this.zp(0,0,c),this.zp(1,1,a),this.Th[0]=1/(a[0]-c[0]),this.Th[1]=-1/(a[1]-c[1]);c=0;for(a=this.Ea.length;c<a;c++)g=this.Ea[c],g.We=!1,g.Jo&&(n.useProgram(g.Dh),
n.uniformMatrix4fv(g.Jo,!1,this.gj));n.useProgram(this.Ea[this.ah].Dh);n.bindTexture(n.TEXTURE_2D,null);n.activeTexture(n.TEXTURE1);n.bindTexture(n.TEXTURE_2D,null);n.activeTexture(n.TEXTURE0);this.$e=this.ve=null;this.wi&&(n.bindFramebuffer(n.FRAMEBUFFER,this.Nk),n.bindRenderbuffer(n.RENDERBUFFER,this.wi),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,this.width,this.height),this.sn||(n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.wi),this.sn=!0),n.bindRenderbuffer(n.RENDERBUFFER,
null),n.bindFramebuffer(n.FRAMEBUFFER,null),this.yj=null)}};d.prototype.Cc=function(){fc(this.sk,this.Lo,this.iq,this.lc);ec(this.lc,this.Th)};d.prototype.translate=function(a,b){if(0!==a||0!==b){this.Ke[0]=a;this.Ke[1]=b;this.Ke[2]=0;var n=this.lc,c=this.Ke,g=c[0],f=c[1],c=c[2];n[12]=n[0]*g+n[4]*f+n[8]*c+n[12];n[13]=n[1]*g+n[5]*f+n[9]*c+n[13];n[14]=n[2]*g+n[6]*f+n[10]*c+n[14];n[15]=n[3]*g+n[7]*f+n[11]*c+n[15]}};d.prototype.scale=function(a,b){if(1!==a||1!==b)this.Ke[0]=a,this.Ke[1]=b,this.Ke[2]=
1,ec(this.lc,this.Ke)};d.prototype.Aj=function(a){if(0!==a){var b=this.lc,n,c=Math.sin(a);a=Math.cos(a);var g=b[0],f=b[1],e=b[2],m=b[3],k=b[4],d=b[5],h=b[6],p=b[7];n?b!==n&&(n[8]=b[8],n[9]=b[9],n[10]=b[10],n[11]=b[11],n[12]=b[12],n[13]=b[13],n[14]=b[14],n[15]=b[15]):n=b;n[0]=g*a+k*c;n[1]=f*a+d*c;n[2]=e*a+h*c;n[3]=m*a+p*c;n[4]=g*-c+k*a;n[5]=f*-c+d*a;n[6]=e*-c+h*a;n[7]=m*-c+p*a}};d.prototype.pc=function(){if(!r(this.zl,this.lc)){var a=this.Cb();a.type=5;a.P?dc(this.lc,a.P):a.P=cc(this.lc);dc(this.lc,
this.zl);this.lb=this.Sa=!1}};d.prototype.Ej=function(a){this.ma&&(32760<a&&(a=32760),this.ti=this.sk[2]-this.dk-a*this.qv)};q.prototype.ls=function(){var a=this.u,b=this.n;0!==this.pb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.Nk),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Pi=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Pi=
!1)};q.prototype.qs=function(){this.u.bindTexture(this.u.TEXTURE_2D,this.Fc)};q.prototype.rs=function(){var a=this.u;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Fc);a.activeTexture(a.TEXTURE0)};q.prototype.ms=function(){var a=this.rp,b=this.n;b.si=a;b=b.Cf;b.Xf&&b.fj!==a&&(b.fj=a,this.u.uniform1f(b.Xf,a))};q.prototype.es=function(){this.u.drawElements(this.u.TRIANGLES,this.Pb,this.u.UNSIGNED_SHORT,this.pb)};q.prototype.hs=function(){this.u.blendFunc(this.pb,this.Pb)};q.prototype.ts=
function(){var a,b,n,c=this.n.Ea,g=this.n.In;a=0;for(b=c.length;a<b;a++)n=c[a],a===g&&n.cj?(n.Nm(this.P),n.We=!0):n.We=!1;dc(this.P,this.n.Bk)};q.prototype.gs=function(){var a=this.u,b=this.n;this.Fc?(b.$e===this.Fc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.$e=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.Nk),b.Pi||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Fc,0)):(b.ma||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};q.prototype.bs=function(){var a=this.u,b=this.pb;0===b?(a.clearColor(this.P[0],this.P[1],this.P[2],this.P[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.P[0],this.P[1],this.P[2],this.P[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};q.prototype.ks=function(){var a=this.u;0!==this.pb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};q.prototype.ds=
function(){var a=this.u,b=this.n;b.ma&&a.disable(a.DEPTH_TEST);var n=b.Ea[1];a.useProgram(n.Dh);!n.We&&n.cj&&(n.Nm(b.Bk),n.We=!0);a.enableVertexAttribArray(n.xc);a.bindBuffer(a.ARRAY_BUFFER,b.Zl);a.vertexAttribPointer(n.xc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.pb/4,this.Pb);n=b.Cf;a.useProgram(n.Dh);0<=n.xc&&(a.enableVertexAttribArray(n.xc),a.bindBuffer(a.ARRAY_BUFFER,b.Rh[b.ud]),a.vertexAttribPointer(n.xc,b.ma?3:2,a.FLOAT,!1,0,0));0<=n.Ae&&(a.enableVertexAttribArray(n.Ae),a.bindBuffer(a.ARRAY_BUFFER,
b.Jh[b.ud]),a.vertexAttribPointer(n.Ae,2,a.FLOAT,!1,0,0));b.ma&&a.enable(a.DEPTH_TEST)};q.prototype.ns=function(){var a=this.u,b=this.n,n=b.Ea[this.pb];b.In=this.pb;b.Cf=n;a.useProgram(n.Dh);!n.We&&n.cj&&(n.Nm(b.Bk),n.We=!0);n.Xf&&n.fj!==b.si&&(n.fj=b.si,a.uniform1f(n.Xf,b.si));0<=n.xc&&(a.enableVertexAttribArray(n.xc),a.bindBuffer(a.ARRAY_BUFFER,b.Rh[b.ud]),a.vertexAttribPointer(n.xc,b.ma?3:2,a.FLOAT,!1,0,0));0<=n.Ae&&(a.enableVertexAttribArray(n.Ae),a.bindBuffer(a.ARRAY_BUFFER,b.Jh[b.ud]),a.vertexAttribPointer(n.Ae,
2,a.FLOAT,!1,0,0))};q.prototype.js=function(){var a=this.P;this.u.uniform4f(this.n.Cf.Ll,a[0],a[1],a[2],a[3])};q.prototype.os=function(){var a,b,n=this.n.Cf,c=this.u;a=this.P;n.jh&&this.n.$e!==this.Fc&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.Fc),this.n.$e=this.Fc,c.activeTexture(c.TEXTURE0));var g=a[0];n.Nl&&g!==n.Uo&&(n.Uo=g,c.uniform1f(n.Nl,g));g=a[1];n.Ml&&g!==n.To&&(n.To=g,c.uniform1f(n.Ml,g));g=a[2];b=a[3];!n.jf||g===n.Oo&&b===n.Po||(n.Oo=g,n.Po=b,c.uniform2f(n.jf,g,b));
g=a[4];b=a[5];!n.hf||g===n.Mo&&b===n.No||(n.Mo=g,n.No=b,c.uniform2f(n.hf,g,b));g=a[6];n.ih&&g!==n.Ro&&(n.Ro=g,c.uniform1f(n.ih,g));g=a[7];n.hh&&g!==n.Qo&&(n.Qo=g,c.uniform1f(n.hh,g));g=a[8];b=a[9];!n.nh||g===n.Yo&&b===n.Zo||(n.Yo=g,n.Zo=b,c.uniform2f(n.nh,g,b));g=a[10];b=a[11];!n.kh||g===n.Vo&&b===n.Wo||(n.Vo=g,n.Wo=b,c.uniform2f(n.kh,g,b));g=a[12];n.mh&&g!==n.Xo&&(n.Xo=g,c.uniform1f(n.mh,g));if(n.Q.length)for(a=0,b=n.Q.length;a<b;a++)g=this.Qp[a],g!==n.yl[a]&&(n.yl[a]=g,c.uniform1f(n.Q[a][1],g))};
d.prototype.Cb=function(){this.rc===this.Lc.length&&this.Lc.push(new q(0,this));return this.Lc[this.rc++]};d.prototype.gd=function(){if(0!==this.rc&&!this.u.isContextLost()){var a=this.u;0<this.dg&&(a.bindBuffer(a.ARRAY_BUFFER,this.Zl),a.bufferSubData(a.ARRAY_BUFFER,0,this.$l.subarray(0,this.dg)),b&&0<=b.xc&&"<point>"===b.name&&a.vertexAttribPointer(b.xc,4,a.FLOAT,!1,0,0));if(0<this.Hc){var b=this.Cf;a.bindBuffer(a.ARRAY_BUFFER,this.Rh[this.ud]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Sh.subarray(0,
this.Hc));b&&0<=b.xc&&"<point>"!==b.name&&a.vertexAttribPointer(b.xc,this.ma?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Jh[this.ud]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Kh.subarray(0,this.Ie));b&&0<=b.Ae&&"<point>"!==b.name&&a.vertexAttribPointer(b.Ae,2,a.FLOAT,!1,0,0)}for(var n,a=0,b=this.rc;a<b;a++)switch(n=this.Lc[a],n.type){case 1:n.es();break;case 2:n.qs();break;case 3:n.ms();break;case 4:n.hs();break;case 5:n.ts();break;case 6:n.gs();break;case 7:n.bs();break;case 8:n.ds();break;
case 9:n.ns();break;case 10:n.os();break;case 11:n.rs();break;case 12:n.js();break;case 13:n.ks();break;case 14:n.ls()}this.dg=this.Ie=this.Hc=this.rc=0;this.Pi=this.lb=this.Sa=!1;this.ud++;4<=this.ud&&(this.ud=0)}};d.prototype.Kd=function(a){if(a!==this.Do&&!this.Tg){var b=this.Cb();b.type=3;this.Do=b.rp=a;this.lb=this.Sa=!1}};d.prototype.Ma=function(a){if(a!==this.ve){var b=this.Cb();b.type=2;this.ve=b.Fc=a;this.lb=this.Sa=!1}};d.prototype.Ee=function(a,b){if((a!==this.Eo||b!==this.Ao)&&!this.Tg){var n=
this.Cb();n.type=4;n.pb=a;n.Pb=b;this.Eo=a;this.Ao=b;this.lb=this.Sa=!1}};d.prototype.Ip=function(){this.Ee(this.u.ONE,this.u.ONE_MINUS_SRC_ALPHA)};d.prototype.De=function(a,b,n,c,g,f,e,m){15992<=this.Hc&&this.gd();var k=this.Hc,d=this.Ie,h=this.Sh,p=this.Kh,v=this.ti;if(this.Sa)this.Lc[this.rc-1].Pb+=6;else{var l=this.Cb();l.type=1;l.pb=this.ma?k:k/2*3;l.Pb=6;this.Sa=!0;this.lb=!1}this.ma?(h[k++]=a,h[k++]=b,h[k++]=v,h[k++]=n,h[k++]=c,h[k++]=v,h[k++]=g,h[k++]=f,h[k++]=v,h[k++]=e,h[k++]=m,h[k++]=v):
(h[k++]=a,h[k++]=b,h[k++]=n,h[k++]=c,h[k++]=g,h[k++]=f,h[k++]=e,h[k++]=m);p[d++]=0;p[d++]=0;p[d++]=1;p[d++]=0;p[d++]=1;p[d++]=1;p[d++]=0;p[d++]=1;this.Hc=k;this.Ie=d};d.prototype.Jd=function(a,b,k,c,g,f,e,m,d){15992<=this.Hc&&this.gd();var l=this.Hc,h=this.Ie,p=this.Sh,v=this.Kh,t=this.ti;if(this.Sa)this.Lc[this.rc-1].Pb+=6;else{var q=this.Cb();q.type=1;q.pb=this.ma?l:l/2*3;q.Pb=6;this.Sa=!0;this.lb=!1}var q=d.left,r=d.top,u=d.right;d=d.bottom;this.ma?(p[l++]=a,p[l++]=b,p[l++]=t,p[l++]=k,p[l++]=c,
p[l++]=t,p[l++]=g,p[l++]=f,p[l++]=t,p[l++]=e,p[l++]=m,p[l++]=t):(p[l++]=a,p[l++]=b,p[l++]=k,p[l++]=c,p[l++]=g,p[l++]=f,p[l++]=e,p[l++]=m);v[h++]=q;v[h++]=r;v[h++]=u;v[h++]=r;v[h++]=u;v[h++]=d;v[h++]=q;v[h++]=d;this.Hc=l;this.Ie=h};d.prototype.Cp=function(a,b,k,c,g,f,e,m,d,l,h,p,v){15992<=this.Hc&&this.gd();var t=this.Hc,q=this.Ie,r=this.Sh,u=this.Kh,D=this.ti;if(this.Sa)this.Lc[this.rc-1].Pb+=6;else{var A=this.Cb();A.type=1;A.pb=this.ma?t:t/2*3;A.Pb=6;this.Sa=!0;this.lb=!1}this.ma?(r[t++]=a,r[t++]=
b,r[t++]=D,r[t++]=k,r[t++]=c,r[t++]=D,r[t++]=g,r[t++]=f,r[t++]=D,r[t++]=e,r[t++]=m,r[t++]=D):(r[t++]=a,r[t++]=b,r[t++]=k,r[t++]=c,r[t++]=g,r[t++]=f,r[t++]=e,r[t++]=m);u[q++]=d;u[q++]=l;u[q++]=h;u[q++]=0;u[q++]=p;u[q++]=0;u[q++]=v;u[q++]=0;this.Hc=t;this.Ie=q};d.prototype.En=function(a){var b=a.length/2-2,k=b-1,c=a[0],g=a[1],f,e,m,d,l,h,p;for(f=0;f<b;f+=2)e=2*f,m=a[e+2],d=a[e+3],l=a[e+4],h=a[e+5],f===k?this.De(c,g,m,d,l,h,l,h):(p=a[e+6],e=a[e+7],this.De(c,g,m,d,l,h,p,e))};d.prototype.Eu=function(a,
b,k,c){7996<=this.dg&&this.gd();var g=this.dg,f=this.$l;if(this.lb)this.Lc[this.rc-1].Pb++;else{var e=this.Cb();e.type=8;e.pb=g;e.Pb=1;this.lb=!0;this.Sa=!1}f[g++]=a;f[g++]=b;f[g++]=k;f[g++]=c;this.dg=g};d.prototype.Tb=function(a){if(this.ah!==a){if(!this.Ea[a]){if(0===this.ah)return;a=0}var b=this.Cb();b.type=9;this.ah=b.pb=a;this.lb=this.Sa=!1}};d.prototype.yh=function(a){a=this.Ea[a];return!(!a.jf&&!a.hf)};d.prototype.cm=function(a){a=this.Ea[a];return!!(a.jf||a.hf||a.Hn)};d.prototype.am=function(a){return this.Ea[a].Uc};
d.prototype.Mu=function(a){a=this.Ea[a];return 0!==a.Lk||0!==a.Mk};d.prototype.At=function(a){return this.Ea[a].Lk};d.prototype.Bt=function(a){return this.Ea[a].Mk};d.prototype.Ct=function(a,b){return this.Ea[a].Q[b][2]};d.prototype.uj=function(a){return this.Ea[a].qn};d.prototype.jg=function(a,b,k,c,g,f,e,m,d,l,h,p,v,t,q){var r=this.Ea[this.ah],u,D;if(r.Tt||q.length){u=this.Cb();u.type=10;u.P?dc(this.lc,u.P):u.P=cc();D=u.P;D[0]=b;D[1]=k;D[2]=c;D[3]=g;D[4]=f;D[5]=e;D[6]=m;D[7]=d;D[8]=l;D[9]=h;D[10]=
p;D[11]=v;D[12]=t;r.jh?u.Fc=a:u.Fc=null;if(q.length)for(k=u.Qp,k.length=q.length,a=0,b=q.length;a<b;a++)k[a]=q[a];this.lb=this.Sa=!1}};d.prototype.clear=function(a,b,k,c){var g=this.Cb();g.type=7;g.pb=0;g.P||(g.P=cc());g.P[0]=a;g.P[1]=b;g.P[2]=k;g.P[3]=c;this.lb=this.Sa=!1};d.prototype.clearRect=function(a,b,k,c){if(!(0>k||0>c)){var g=this.Cb();g.type=7;g.pb=1;g.P||(g.P=cc());g.P[0]=a;g.P[1]=b;g.P[2]=k;g.P[3]=c;this.lb=this.Sa=!1}};d.prototype.Lp=function(a){if(this.ma&&(a=!!a,this.Tg!==a)){var b=
this.Cb();b.type=14;b.pb=a?1:0;this.lb=this.Sa=!1;this.Tg=a;this.yj=null;this.Tg?this.Tb(2):this.Tb(0)}};d.prototype.Kp=function(a){if(this.ma){var b=this.Cb();b.type=13;b.pb=a?1:0;this.lb=this.Sa=!1}};d.prototype.Un=function(){dc(this.zl,l);this.Cc();this.pc();var a=this.width/2,b=this.height/2;this.De(-a,b,a,b,a,-b,-a,-b);dc(l,this.lc);this.pc()};d.prototype.Jp=function(a,b,k){this.Tb(3);var c=this.Cb();c.type=12;c.P||(c.P=cc());c.P[0]=a;c.P[1]=b;c.P[2]=k;c.P[3]=1;this.lb=this.Sa=!1};d.prototype.av=
function(){this.Tb(0)};d.prototype.Ru=function(){this.Tb(2)};d.prototype.Lu=function(){this.gd();this.u.flush()};var u=[],k={};d.prototype.Ur=function(){P(u);k={}};d.prototype.Wf=function(a,b,d,c){b=!!b;d=!!d;var g=a.src+","+b+","+d+(b?",undefined":""),f=null;if("undefined"!==typeof a.src&&k.hasOwnProperty(g))return f=k[g],f.fi++,f;this.gd();var e=this.u,m=ha(a.width)&&ha(a.height),f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var y=e.RGBA,l=
e.RGBA,h=e.UNSIGNED_BYTE;if(c&&!this.qe)switch(c){case 1:l=y=e.RGB;break;case 2:h=e.UNSIGNED_SHORT_4_4_4_4;break;case 3:h=e.UNSIGNED_SHORT_5_5_5_1;break;case 4:l=y=e.RGB,h=e.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!m&&b){c=document.createElement("canvas");c.width=ia(a.width);c.height=ia(a.height);var p=c.getContext("2d");"undefined"!==typeof p.imageSmoothingEnabled?p.imageSmoothingEnabled=d:(p.webkitImageSmoothingEnabled=d,p.mozImageSmoothingEnabled=d,p.msImageSmoothingEnabled=d);p.drawImage(a,
0,0,a.width,a.height,0,0,c.width,c.height);e.texImage2D(e.TEXTURE_2D,0,y,l,h,c)}else e.texImage2D(e.TEXTURE_2D,0,y,l,h,a);b?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));d?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),(m||2<=this.version)&&this.Nn?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,
e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST));e.bindTexture(e.TEXTURE_2D,null);this.ve=null;f.Qe=a.width;f.Pe=a.height;f.fi=1;f.wn=g;u.push(f);return k[g]=f};d.prototype.Jb=function(a,b,k,c,g){this.gd();var f=this.u;this.qe&&(c=!1);var e=f.createTexture();f.bindTexture(f.TEXTURE_2D,e);f.texImage2D(f.TEXTURE_2D,
0,f.RGBA,a,b,0,f.RGBA,c?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);g?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,k?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,k?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.ve=null;
e.Qe=a;e.Pe=b;u.push(e);return e};d.prototype.Rm=function(a,b,k){this.gd();var c=this.u;this.qe&&(k=!1);c.bindTexture(c.TEXTURE_2D,b);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,k?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(g){console&&console.error&&console.error("Error updating WebGL texture: ",g)}c.bindTexture(c.TEXTURE_2D,null);this.ve=null};d.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.fi&&1<a.fi?a.fi--:(this.gd(),
a===this.ve&&(this.u.bindTexture(this.u.TEXTURE_2D,null),this.ve=null),a===this.$e&&(this.u.activeTexture(this.u.TEXTURE1),this.u.bindTexture(this.u.TEXTURE_2D,null),this.u.activeTexture(this.u.TEXTURE0),this.$e=null),Da(u,a),"undefined"!==typeof a.wn&&delete k[a.wn],this.u.deleteTexture(a)))};d.prototype.Dc=function(a){if(a!==this.yj){var b=this.Cb();b.type=6;this.yj=b.Fc=a;this.lb=this.Sa=!1}};hb=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.vc=(this.ol=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Dd=!!a.dc;this.au="undefined"!==typeof window.AppMobi||
this.Dd;this.kc=!!window.c2cocoonjs;this.Qc=!!window.c2ejecta;this.kc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.Qc&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.Ga=this.Dd||this.kc||this.Qc;this.Qi=
/edge\//i.test(navigator.userAgent);this.qe=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Qi;this.uo=/tizen/i.test(navigator.userAgent);this.nl=/android/i.test(navigator.userAgent)&&!this.uo&&!this.qe&&!this.Qi;this.zo=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.qe&&!this.Qi;this.ku=/ipad/i.test(navigator.userAgent);this.Ui=this.zo||this.ku||this.Qc;this.cu=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.qe&&!this.Qi;this.$t=/amazonwebappplatform/i.test(navigator.userAgent);this.eu=/firefox/i.test(navigator.userAgent);this.rl="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.xo=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.hu=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Xg=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.wl=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.ul=!!window.cr_windows10;this.wo=this.xo||this.hu||this.wl||this.ul;this.bu=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.so=this.nl&&!this.cu&&!this.ol&&!this.eu&&!this.$t&&!this.Ga;this.devicePixelRatio=1;this.re=this.vc||this.ol||this.au||this.kc||this.nl||this.Ui||this.Xg||this.wl||this.bu||this.uo||this.Qc;this.re||
(this.re=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.vo=!!(this.Ui&&this.vc&&window.webkit);"undefined"===typeof cr_is_preview||this.rl||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.rl=!0);this.canvas=a;this.yn=document.getElementById("c2canvasdiv");this.n=this.u=null;this.al="(unavailable)";this.ma=!1;this.Te=0;this.Ba=null;this.Di=!1;this.kp=this.lp=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Dd&&(window.c2runtime=this);this.rl&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.so&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.I=this.width;this.H=this.height;this.qi=this.width;this.Cg=this.height;this.Tf=window.innerWidth;this.Sf=window.innerHeight;this.da=!0;this.Vg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.q=[];this.Aa=[];this.Fl={};this.Sc=[];this.Kk={};this.yd=[];this.tg=[];this.Vj=[];this.Ir=[];this.Jr=[];this.wm=this.Wp=null;this.Re={};this.ql=this.oe=!1;
this.Rc=0;this.pl=this.tl=!1;this.Nc=[];this.Ug=!1;this.fh=this.Cj="";this.Va=null;this.Fd="";this.Hh=this.Sp=!1;this.Ci=[];this.Se=this.Ff=0;this.ep=30;this.zk=this.oh=0;this.og=1;this.$b=new Xa;this.ak=new Xa;this.jj=this.Hi=this.Ai=this.Zc=this.cf=this.Pk=this.Wi=0;this.wk=null;this.Jn=[];this.Jk=[];this.yi=-1;this.Ol=[[]];this.Jm=this.dj=0;this.fm(null);this.Fg=this.hp=this.qh=0;this.Ih=[];this.Gm=this.im=-1;this.Vi=!0;this.bj=0;this.Ri=!1;this.dv=0;this.yg=null;this.wc=this.jo=!1;this.jp=new ba;
this.Ul=new ba;this.Vl=new ba;this.km=[];this.Yc=new Za([]);this.Em=new Za([]);this.yf=[];this.Og={};this.ie={};this.$d={};this.sg={};this.tn={};this.Ho=this.$i=this.Ka=this.Ua=this.Go=this.Zi=this.na=null;this.qg=this.xl=!1;this.Rk=[null,null];this.Kf=0;this.Id={};this.Fh=this.ye=null;this.Up="";this.ij=[];this.Qu()}}function t(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:a[0]}function r(){try{return!!window.indexedDB}catch(a){return!1}}function q(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function l(a,c,e,h){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=q;b.onerror=h;b.onsuccess=function(b){b=b.target.result;b.onerror=h;b.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=e}}catch(g){h(g)}}function u(a,c,e){try{var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=q;h.onerror=e;h.onsuccess=function(h){h=h.target.result;h.onerror=e;var b=h.transaction(["saves"]).objectStore("saves").get(a);b.onsuccess=function(){b.result?
c(b.result.data):c(null)}}}catch(b){e(b)}}function k(){da("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,e={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ba||a[c]&&"undefined"!==typeof a[c].vw||"spriteCreatedDestroyCallback"!==c&&(e[c]=a[c]);return e}var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.Qu=function(){var a=this;if(this.vo)this.kt(function(c){a.gh(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.Xg?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var e="data.js";if(this.xo||this.Xg||this.wl||this.ul)e="data.json";c.open("GET",e,!0);var h=!1;if(!this.Ga&&"response"in c&&"responseType"in c)try{c.responseType="json",h="json"===c.responseType}catch(b){h=!1}if(!h&&"responseType"in
c)try{c.responseType="text"}catch(g){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.Xg?c.onreadystatechange=function(){4===c.readyState&&a.gh(JSON.parse(c.responseText))}:(c.onload=function(){if(h)a.gh(c.response);else if(a.Qc){var e=c.responseText,e=e.substr(e.indexOf("{"));a.gh(JSON.parse(e))}else a.gh(JSON.parse(c.responseText))},c.onerror=function(a){ea("Error requesting "+e+":");ea(a)});c.send()}};d.prototype.Wt=function(){var a=this,c,e,h,
b,g,f,p,k,m;this.Ze=(!this.Ga||this.Qc||this.vc)&&this.mv&&!this.so;0===this.Lb&&this.Ui&&(this.Ze=!1);this.devicePixelRatio=this.Ze?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.qb();0<this.Lb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();a.tu();da("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",
function(){a.n.no();a.n.qf(a.n.width,a.n.height,!0);a.Ua=null;a.Ka=null;a.Rk[0]=null;a.Rk[1]=null;a.uu();a.da=!0;da("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.Bs&&(this.kc||this.Qc||!this.Ga)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.nl||(this.u=this.canvas.getContext("webgl2",c)),this.u||(this.u=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(d){}if(this.u){if(c=
this.u.getExtension("WEBGL_debug_renderer_info"))this.al=this.u.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.u.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.ma&&(this.al+=" [front-to-back enabled]");this.Ga||(this.mb=document.createElement("canvas"),jQuery(this.mb).appendTo(this.canvas.parentNode),this.mb.oncontextmenu=function(){return!1},this.mb.onselectstart=function(){return!1},this.mb.width=Math.round(this.qi*this.devicePixelRatio),this.mb.height=Math.round(this.Cg*this.devicePixelRatio),
jQuery(this.mb).css({width:this.qi+"px",height:this.Cg+"px"}),this.yp(),this.Yl=this.mb.getContext("2d"));this.n=new hb(this.u,this.re,this.ma);this.n.qf(this.canvas.width,this.canvas.height);this.n.Nn=0!==this.us;this.Ba=null;c=0;for(e=this.q.length;c<e;c++)for(g=this.q[c],h=0,b=g.L.length;h<b;h++)p=g.L[h],p.Na=this.n.$k(p.id),p.Uc=this.n.am(p.Na),this.qg=this.qg||this.n.yh(p.Na);c=0;for(e=this.Sc.length;c<e;c++){k=this.Sc[c];h=0;for(b=k.L.length;h<b;h++)p=k.L[h],p.Na=this.n.$k(p.id),p.Uc=this.n.am(p.Na);
k.ad();h=0;for(b=k.O.length;h<b;h++){m=k.O[h];g=0;for(f=m.L.length;g<f;g++)p=m.L[g],p.Na=this.n.$k(p.id),p.Uc=this.n.am(p.Na),this.qg=this.qg||this.n.yh(p.Na);m.ad()}}}else{if(0<this.Lb&&this.Dd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Ba=AppMobi.canvas.getContext("2d");try{this.Ba.samplingMode=this.oa?"smooth":"sharp",this.Ba.globalScale=1,this.Ba.HTML5CompatibilityMode=!0,this.Ba.imageSmoothingEnabled=this.oa}catch(n){}0!==this.width&&
0!==this.height&&(this.Ba.width=this.width,this.Ba.height=this.height)}this.Ba||(this.kc?(c={antialias:!!this.oa,alpha:!0},this.Ba=this.canvas.getContext("2d",c)):(c={alpha:!0},this.Ba=this.canvas.getContext("2d",c)),this.Dj(this.Ba,this.oa));this.Yl=this.mb=null}this.aq=function(c){a.Eb(!1,c)};window==window.top||this.Ga||this.wo||this.Xg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&
(this.kc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(da("Reloading for continuous preview"),this.fh="__c2_continuouspreview",this.Hh=!0),this.Du&&!this.re&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Be()});this.Ga||(c=function(a){if(gb(a)&&document.activeElement&&document.activeElement!==
document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Lb&&this.Ze&&1<this.devicePixelRatio&&this.setSize(this.Xa,this.Wa,!0);this.fq();this.Qt();this.go();this.ca={}};d.prototype.setSize=function(a,
c,e){var h=0,b=0,g=0,f=0,f=0;if(this.Tf!==a||this.Sf!==c||e){this.Tf=a;this.Sf=c;var p=this.Lb;if((g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Ri)&&!this.vc)||0!==this.Lb||e)g&&(p=this.Kf),e=this.devicePixelRatio,4<=p?(g=this.Xa/this.Wa,a/c>g?(g*=c,5===p?(f=g*e/this.Xa,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),g=this.Xa*f/e,f=this.Wa*f/e,h=(a-g)/2,b=(c-f)/2,a=g,c=f):(h=(a-g)/2,a=g)):(f=a/g,5===p?(f=f*e/this.Wa,1<f?f=Math.floor(f):
1>f&&(f=1/Math.ceil(1/f)),g=this.Xa*f/e,f=this.Wa*f/e,h=(a-g)/2,b=(c-f)/2,a=g):b=(c-f)/2,c=f)):g&&0===p&&(h=Math.floor((a-this.Xa)/2),b=Math.floor((c-this.Wa)/2),a=this.Xa,c=this.Wa),2>p&&(this.xg=e),this.qi=Math.round(a),this.Cg=Math.round(c),this.width=Math.round(a*e),this.height=Math.round(c*e),this.da=!0,this.qq?(this.I=this.width,this.H=this.height,this.ic=!0):this.width<this.Xa&&this.height<this.Wa||1===p?(this.I=this.width,this.H=this.height,this.ic=!0):(this.I=this.Xa,this.H=this.Wa,this.ic=
!1,2===p?(g=this.Xa/this.Wa,p=this.Tf/this.Sf,p<g?this.I=this.H*p:p>g&&(this.H=this.I/p)):3===p&&(g=this.Xa/this.Wa,p=this.Tf/this.Sf,p>g?this.I=this.H*p:p<g&&(this.H=this.I/p))),this.yn&&!this.Ga&&(jQuery(this.yn).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(h)+"px","margin-top":Math.floor(b)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*e),
this.canvas.height=Math.round(c*e),this.Qc?(this.canvas.style.left=Math.floor(h)+"px",this.canvas.style.top=Math.floor(b)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.Ze&&!this.Ga&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.mb&&(this.mb.width=Math.round(a*e),this.mb.height=Math.round(c*e),this.mb.style.width=this.qi+"px",this.mb.style.height=this.Cg+"px"),this.n&&this.n.qf(Math.round(a*e),Math.round(c*
e)),this.Dd&&this.Ba&&(this.Ba.width=Math.round(a),this.Ba.height=Math.round(c)),this.Ba&&this.Dj(this.Ba,this.oa),this.fq(),this.zo&&!this.vc&&window.scrollTo(0,0)}};d.prototype.fq=function(){if(this.Lr&&0!==this.Xl){var a="portrait";2===this.Xl&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):
screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};d.prototype.tu=function(){this.n.Ur();this.xl=!0;var a,c,e;a=0;for(c=this.q.length;a<c;a++)e=this.q[a],e.bg&&e.bg()};d.prototype.uu=function(){this.xl=!1;var a,c,e;a=0;for(c=this.q.length;a<c;a++)e=this.q[a],e.wh&&e.wh()};d.prototype.yp=function(){if(!this.Ga){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||
this.Ri)&&!this.vc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.mb).css(a)}};var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(a){var c;if(a&&!this.Vg)for(da("[Construct 2] Suspending"),this.Vg=!0,-1!==this.im&&n&&n(this.im),-1!==this.Gm&&clearTimeout(this.Gm),a=0,c=this.Ih.length;a<c;a++)this.Ih[a](!0);else if(!a&&
this.Vg){da("[Construct 2] Resuming");this.Vg=!1;this.Wi=Sa();this.cf=Sa();a=this.oh=this.Hi=0;for(c=this.Ih.length;a<c;a++)this.Ih[a](!1);this.Eb(!1)}};d.prototype.Gr=function(a){this.Ih.push(a)};d.prototype.Yd=function(a){return this.ij[a]};d.prototype.gh=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.Tn=a[1];this.Lb=a[12];this.Xa=a[10];this.Wa=a[11];this.sp=this.Xa/2;this.tp=this.Wa/2;this.Ga&&!this.Qc&&(4<=a[12]||0===a[12])&&(da("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Lb=3);this.Qm=a[18];this.ze=a[19];if(0===this.ze){var c=new Image;c.crossOrigin="anonymous";this.Mp(c,"loading-logo.png");this.ye={ej:c}}else if(4===this.ze){c=new Image;c.src="";var e=new Image;e.src="";var h=new Image;h.src="";var g=new Image;g.src="";var b=new Image;b.src="";var f=new Image;f.src="";var p=new Image;p.src="";var k=new Image;k.src="";var m=new Image;m.src="";var d=new Image;d.src="";var n=new Image;n.src="";var y=new Image;y.src="";this.ye={ej:[c,e,h,g],Iu:[b,f,p,k],pv:[m,d,
n,y]}}this.qh=a[21];this.ij=hc();this.nd=new W(this);c=0;for(e=a[2].length;c<e;c++)p=a[2][c],h=this.Yd(p[0]),ib(p,h.prototype),k=new h(this),k.Hj=p[1],k.ue=p[2],k.ju=p[5],k.fp=p[9],k.M&&k.M(),this.plugins.push(k);this.ij=hc();c=0;for(e=a[3].length;c<e;c++){p=a[3][c];b=this.Yd(p[1]);k=null;h=0;for(g=this.plugins.length;h<g;h++)if(this.plugins[h]instanceof b){k=this.plugins[h];break}m=new k.ja(k);m.name=p[0];m.B=p[2];m.ml=p[3].slice(0);m.ov=p[3].length;m.Mr=p[4];m.nt=p[5];m.V=p[11];m.B?(m.Zf=[],m.zd=
this.Fg++,m.wa=null):(m.Zf=null,m.zd=-1,m.wa=[]);m.Bi=null;m.If=null;m.On=null;m.Qb=!1;m.Xb=null;p[6]?(m.Rj=p[6][0],m.Fm=p[6][1],m.Lh=p[6][2]):(m.Rj=null,m.Fm=0,m.Lh=0);p[7]?m.Wb=p[7]:m.Wb=null;m.index=c;m.d=[];m.vi=[];m.Rd=[new jb(m)];m.fd=0;m.tc=null;m.$r=0;m.mg=!0;m.Xj=kb;m.qt=lb;m.yt=mb;m.ea=nb;m.Ah=qb;m.em=rb;m.eg=sb;m.Ii=tb;m.Tk=ub;m.Wk=vb;m.sd=wb;m.Xk=xb;m.oi=new ab(this.Xa,this.Wa);m.Yh=!0;m.Zh=!1;m.ca={};m.toString=yb;m.Aa=[];h=0;for(g=p[8].length;h<g;h++){d=p[8][h];n=this.Yd(d[1]);y=null;
b=0;for(f=this.Aa.length;b<f;b++)if(this.Aa[b]instanceof n){y=this.Aa[b];break}y||(y=new n(this),y.Tl=[],y.hj=new ba,y.M&&y.M(),this.Aa.push(y),ic&&y instanceof ic&&(this.Wp=y),$b.cv&&y instanceof $b.cv&&(this.wm=y));-1===y.Tl.indexOf(m)&&y.Tl.push(m);b=new y.ja(y,m);b.name=d[0];b.V=d[2];b.M();m.Aa.push(b)}m.global=p[9];m.sl=p[10];m.L=[];h=0;for(g=p[12].length;h<g;h++)m.L.push({id:p[12][h][0],name:p[12][h][1],Na:-1,Uc:!1,ab:!0,index:h});m.Rw=p[13];this.Qm&&!m.B&&!m.sl&&k.ue||m.M();m.name&&(this.types[m.name]=
m);this.q.push(m);k.Hj&&(h=new k.aa(m),h.uid=this.qh++,h.Bp=this.hp++,h.Ye=0,h.Mg=zb,h.toString=Ab,h.A=p[14],h.M(),m.d.push(h),this.Id[h.uid.toString()]=h)}c=0;for(e=a[4].length;c<e;c++)for(b=a[4][c],f=this.q[b[0]],h=1,g=b.length;h<g;h++)p=this.q[b[h]],p.wa.push(f),f.Zf.push(p);c=0;for(e=a[28].length;c<e;c++){b=a[28][c];f=[];h=0;for(g=b.length;h<g;h++)f.push(this.q[b[h]]);h=0;for(g=f.length;h<g;h++)f[h].Qb=!0,f[h].Xb=f}if(0<this.Fg)for(c=0,e=this.q.length;c<e;c++)if(p=this.q[c],!p.B&&p.wa.length){p.Bi=
Array(this.Fg);p.If=Array(this.Fg);p.On=Array(this.Fg);m=[];h=y=n=d=0;for(g=p.wa.length;h<g;h++)for(k=p.wa[h],p.Bi[k.zd]=d,d+=k.ov,p.If[k.zd]=n,n+=k.Mr,p.On[k.zd]=y,y+=k.nt,b=0,f=k.L.length;b<f;b++)m.push(ua({},k.L[b]));p.L=m.concat(p.L);h=0;for(g=p.L.length;h<g;h++)p.L[h].index=h}c=0;for(e=a[5].length;c<e;c++)p=a[5][c],h=new Bb(this,p),this.Fl[h.name]=h,this.Sc.push(h);c=0;for(e=a[6].length;c<e;c++)p=a[6][c],h=new Cb(this,p),this.Kk[h.name]=h,this.yd.push(h);c=0;for(e=this.yd.length;c<e;c++)this.yd[c].Ia();
c=0;for(e=this.yd.length;c<e;c++)this.yd[c].Mm();c=0;for(e=this.Vj.length;c<e;c++)this.Vj[c].Ia();P(this.Vj);this.Kr=a[7];this.mc=a[9];this.xg=1;this.Bs=a[13];this.oa=a[14];this.Cn=a[15];this.mv=a[17];this.Xl=a[20];this.Lr=0<this.Xl;this.Du=a[22];this.ic=this.qq=a[23];this.us=a[24];this.Ju=a[25];this.ma=a[27]&&!this.qe;this.Lj=Date.now();P(this.ij);this.Wt()};var c=!1,g=0,f=[];d.prototype.Pu=function(a,c){function e(){g--;h.$o()}var h=this;a.addEventListener("load",e);a.addEventListener("error",e);
f.push([a,c]);this.$o()};d.prototype.$o=function(){for(var a;f.length&&100>g;)g++,a=f.shift(),this.Mp(a[0],a[1])};d.prototype.$j=function(a,e){a.cocoonLazyLoad=!0;a.onerror=function(e){c=a.vn=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",e)};this.Qc?a.src=e:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(e,function(c){a.src=c},function(h){c=a.vn=!0;console&&console.error&&console.error("Error extracting image '"+e+"' from expansion file: ",h)}):(a.crossOrigin=
"anonymous",this.Pu(a,e)));this.tg.push(a)};d.prototype.mt=function(a){var c,e;c=0;for(e=this.tg.length;c<e;c++)if(this.tg[c].Vr===a)return this.tg[c];return null};var e=0,m=!1;d.prototype.Qt=function(){this.yg&&(e=this.yg.Nw(this.Kr))};d.prototype.rn=function(){var a=e,c=0,h=0,b=!0,g,f,h=0;for(g=this.tg.length;h<g;h++){f=this.tg[h];var p=f.Ak;if(!p||0>=p)p=5E4;a+=p;f.src&&(f.complete||f.loaded)&&!f.vn?c+=p:b=!1}b&&this.Ju&&this.yg&&(m||(this.yg.Ow(),m=!0),h=this.yg.Aw(),c+=h,h<e&&(b=!1));this.Vc=
0==a?1:c/a;return b};var y=!1;d.prototype.go=function(){if(this.Ba||this.n){var a=this.Ba||this.Yl;this.mb&&this.yp();var e=window.innerWidth,h=window.innerHeight;this.Tf===e&&this.Sf===h||this.setSize(e,h);this.Vc=0;this.Fo=-1;var g=this;if(this.rn()&&(4!==this.ze||y))this.Rt();else{h=Date.now()-this.Lj;if(a){var f=this.width,p=this.height,e=this.devicePixelRatio;if(3>this.ze&&(this.kc||500<=h&&this.Fo!=this.Vc)){a.clearRect(0,0,f,p);var h=f/2,p=p/2,f=0===this.ze&&this.ye.ej.complete,m=40*e,k=0,
d=80*e,n;if(f){var v=this.ye.ej,d=v.width*e;n=v.height*e;m=d/2;k=n/2;a.drawImage(v,O(h-m),O(p-k),d,n)}1>=this.ze?(h=O(h-m)+.5,p=O(p+(k+(f?12*e:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(h,p,Math.floor(d*this.Vc),6*e),a.strokeStyle="black",a.strokeRect(h,p,d,6*e),a.strokeStyle="white",a.strokeRect(h-1*e,p-1*e,d+2*e,8*e)):2===this.ze&&(a.font=this.Qc?"12pt ArialMT":"12pt Arial",a.fillStyle=c?"#f00":"#999",a.Qw="middle",e=Math.round(100*this.Vc)+"%",f=a.measureText?a.measureText(e):null,a.fillText(e,
h-(f?f.width:0)/2,p));this.Fo=this.Vc}else if(4===this.ze){this.zs(a);b?b(function(){g.go()}):setTimeout(function(){g.go()},16);return}}setTimeout(function(){g.go()},this.kc?10:100)}}};var J=-1,h="undefined"===typeof cr_is_preview?200:0,p=!0,v=!1,la=0,wa=0,V="undefined"===typeof cr_is_preview?3E3:0,K=null,D=null,A=0;d.prototype.zs=function(a){if(!y){for(var e=Math.ceil(this.width),b=Math.ceil(this.height),g=this.ye.ej,f=this.ye.Iu,m=this.ye.pv,k=0;4>k;++k)if(!g[k].complete||!f[k].complete||!m[k].complete)return;
0===A&&(J=Date.now());var k=Date.now(),d=!1,n=a,l,q;p||v?(a.clearRect(0,0,e,b),K&&K.width===e&&K.height===b||(K=document.createElement("canvas"),K.width=e,K.height=b,D=K.getContext("2d")),n=D,d=!0,p&&1===A&&(J=Date.now())):a.globalAlpha=1;n.fillStyle="#333333";n.fillRect(0,0,e,b);256<this.Cg?(l=Ea(.22*b,105,.6*e),q=.25*l,n.drawImage(t(f,l),.5*e-l/2,.2*b-q/2,l,q),q=l=Math.min(.395*b,.95*e),n.drawImage(t(g,l),.5*e-l/2,.485*b-q/2,l,q),l=Ea(.22*b,105,.6*e),q=.25*l,n.drawImage(t(m,l),.5*e-l/2,.868*b-q/
2,l,q),n.fillStyle="#3C3C3C",l=e,q=Math.max(.005*b,2),n.fillRect(0,.8*b-q/2,l,q),n.fillStyle=c?"red":"#E0FF65",l=e*this.Vc,n.fillRect(.5*e-l/2,.8*b-q/2,l,q)):(q=l=.55*b,n.drawImage(t(g,l),.5*e-l/2,.45*b-q/2,l,q),n.fillStyle="#3C3C3C",l=e,q=Math.max(.005*b,2),n.fillRect(0,.85*b-q/2,l,q),n.fillStyle=c?"red":"#E0FF65",l=e*this.Vc,n.fillRect(.5*e-l/2,.85*b-q/2,l,q));d&&(p?a.globalAlpha=0===A?0:Math.min((k-J)/300,1):v&&(a.globalAlpha=Math.max(1-(k-wa)/300,0)),a.drawImage(K,0,0,e,b));p&&300<=k-J&&2<=A&&
(p=!1,la=k);!p&&k-la>=V&&!v&&1<=this.Vc&&(v=!0,wa=k);if(v&&k-wa>=300+h||"undefined"!==typeof cr_is_preview&&1<=this.Vc&&500>Date.now()-J)y=!0,v=p=!1,this.ye=D=K=null;++A}};d.prototype.Rt=function(){this.mb&&(this.canvas.parentNode.removeChild(this.mb),this.mb=this.Yl=null);this.Lj=Date.now();this.cf=Sa();var a,c,e;if(this.Qm)for(a=0,c=this.q.length;a<c;a++)e=this.q[a],e.B||e.sl||!e.ka.ue||e.M();else this.Vi=!1;a=0;for(c=this.Sc.length;a<c;a++)this.Sc[a].Xr();2<=this.Lb&&(a=this.Xa/this.Wa,c=this.width/
this.height,this.xg=2!==this.Lb&&c>a||2===this.Lb&&c<a?this.height/this.Wa:this.width/this.Xa);this.Tn?this.Fl[this.Tn].Cm():this.Sc[0].Cm();this.Qm||(this.bj=1,this.trigger(W.prototype.k.Xm,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(c=this.q.length;a<c;a++)e=this.q[a],e.mp&&e.mp();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Eb(!1);this.Dd&&
AppMobi.webview.execute("onGameReady();")};d.prototype.Eb=function(a,c,e){if(this.na){var h=Sa();if(e||!this.Vg||a){a||(b?this.im=b(this.aq):this.Gm=setTimeout(this.aq,this.re?1:16));c=c||h;var g=this.Lb;((e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.vc)||this.Ri)&&0<this.Kf&&(g=this.Kf);if(0<g){var g=window.innerWidth,f=window.innerHeight;this.Tf===g&&this.Sf===f||this.setSize(g,f)}this.Ga||(e?this.Di||(this.Di=!0):this.Di?(this.Di=
!1,0===this.Lb&&this.setSize(Math.round(this.lp/this.devicePixelRatio),Math.round(this.kp/this.devicePixelRatio),!0)):(this.lp=this.width,this.kp=this.height));this.Vi&&(e=this.rn(),this.bj=this.Vc,e&&(this.Vi=!1,this.Vc=1,this.trigger(W.prototype.k.Xm,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.nu(c);!this.da&&!this.kc||this.xl||this.Hh||a||(this.da=!1,this.n?this.wb():this.Yb(),this.Fh&&(this.canvas&&this.canvas.toDataURL&&(this.Up=this.canvas.toDataURL(this.Fh[0],this.Fh[1]),window.cr_onSnapshot&&
window.cr_onSnapshot(this.Up),this.trigger(W.prototype.k.Qq,null)),this.Fh=null));this.Bw||(this.Zc++,this.Ai++,this.Hi++);this.oh+=Sa()-h}}};d.prototype.nu=function(a){var c,e,h,b,g,f,p,m;1E3<=a-this.cf&&(this.cf+=1E3,1E3<=a-this.cf&&(this.cf=a),this.Pk=this.Hi,this.Hi=0,this.zk=this.oh,this.oh=0);c=0;0!==this.Wi&&(c=a-this.Wi,0>c&&(c=0),this.Se=c/=1E3,.5<this.Se?this.Se=0:this.Se>1/this.ep&&(this.Se=1/this.ep));this.Wi=a;this.Ff=this.Se*this.og;this.$b.add(this.Ff);this.ak.add(c);a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Ri)&&!this.vc;2<=this.Lb||a&&0<this.Kf?(c=this.Xa/this.Wa,e=this.width/this.height,h=this.Lb,a&&0<this.Kf&&(h=this.Kf),this.xg=2!==h&&e>c||2===h&&e<c?this.height/this.Wa:this.width/this.Xa,this.na&&(this.na.tm(this.na.scrollX),this.na.um(this.na.scrollY))):this.xg=this.Ze?this.devicePixelRatio:1;this.qb();this.Rc++;this.nd.Tu();this.Rc--;this.qb();this.Rc++;e=this.jp.qd();a=0;for(c=e.length;a<c;a++)e[a].Jw();a=
0;for(c=this.q.length;a<c;a++)if(f=this.q[a],!f.B&&(f.Aa.length||f.wa.length))for(e=0,h=f.d.length;e<h;e++)for(p=f.d[e],b=0,g=p.J.length;b<g;b++)p.J[b].Eb();a=0;for(c=this.q.length;a<c;a++)if(f=this.q[a],!f.B&&(f.Aa.length||f.wa.length))for(e=0,h=f.d.length;e<h;e++)for(p=f.d[e],b=0,g=p.J.length;b<g;b++)m=p.J[b],m.Hu&&m.Hu();e=this.Ul.qd();a=0;for(c=e.length;a<c;a++)e[a].Eb();this.Rc--;this.St();for(a=0;this.wk&&10>a++;)this.Mn(this.wk);a=0;for(c=this.yd.length;a<c;a++)this.yd[a].el=!1;this.na.Ue&&
this.na.Ue.Ya();P(this.km);this.Rc++;a=0;for(c=this.q.length;a<c;a++)if(f=this.q[a],!f.B&&(f.Aa.length||f.wa.length))for(e=0,h=f.d.length;e<h;e++)for(p=f.d[e],b=0,g=p.J.length;b<g;b++)m=p.J[b],m.ng&&m.ng();e=this.Vl.qd();a=0;for(c=e.length;a<c;a++)e[a].ng();this.Rc--};d.prototype.Be=function(){var a,c,e,h,b,g,f,p,m;a=0;for(c=this.q.length;a<c;a++)if(f=this.q[a],!f.B)for(e=0,h=f.d.length;e<h;e++)if(p=f.d[e],p.Be&&p.Be(),p.J)for(b=0,g=p.J.length;b<g;b++)m=p.J[b],m.Be&&m.Be()};d.prototype.Mn=function(a){var c=
this.na;this.na.gv();var e,h,b;if(this.n)for(e=0,h=this.q.length;e<h;e++)b=this.q[e],b.B||!b.Wj||b.global&&0!==b.d.length||-1!==a.Rg.indexOf(b)||b.Wj();c==a&&P(this.nd.Ub);P(this.km);this.Gp(!0);a.Cm();this.Gp(!1);this.da=!0;this.qb()};d.prototype.Gp=function(a){var c,e,h,b,g,f,p,m,k;c=0;for(e=this.Aa.length;c<e;c++)h=this.Aa[c],a?h.rh&&h.rh():h.vh&&h.vh();c=0;for(e=this.q.length;c<e;c++)if(h=this.q[c],h.global||h.ka.Hj)for(b=0,g=h.d.length;b<g;b++)if(f=h.d[b],a?f.rh&&f.rh():f.vh&&f.vh(),f.J)for(p=
0,m=f.J.length;p<m;p++)k=f.J[p],a?k.rh&&k.rh():k.vh&&k.vh()};d.prototype.Mh=function(a){this.Ul.add(a)};d.prototype.$p=function(a){this.Vl.add(a)};d.prototype.Hg=function(a){return a&&-1!==a.ph?this.Se*a.ph:this.Ff};d.prototype.Yb=function(){this.na.Yb(this.Ba);this.Dd&&this.Ba.present()};d.prototype.wb=function(){this.ma&&(this.Te=1,this.na.Ef(this.n));this.na.wb(this.n);this.n.Lu()};d.prototype.co=function(a){a=a.toString();return this.Id.hasOwnProperty(a)?this.Id[a]:null};var H=[];d.prototype.Xd=
function(a){var c,e;c=a.type.name;var h=null;if(this.Re.hasOwnProperty(c)){if(h=this.Re[c],h.contains(a))return}else h=H.length?H.pop():new ba,this.Re[c]=h;h.add(a);this.oe=!0;if(a.Qb)for(c=0,e=a.siblings.length;c<e;c++)this.Xd(a.siblings[c]);this.ql&&h.rg.push(a);this.pl||(this.Rc++,this.trigger(Object.getPrototypeOf(a.type.ka).k.Rq,a),this.Rc--)};d.prototype.qb=function(){if(this.oe){var a,c,e,h,b,g;this.ql=!0;e=0;for(b=this.Nc.length;e<b;++e)for(a=this.Nc[e],c=a.type,c.d.push(a),h=0,g=c.wa.length;h<
g;++h)c.wa[h].d.push(a),c.wa[h].mg=!0;P(this.Nc);this.Kq();Ra(this.Re);this.oe=this.ql=!1}};d.prototype.Kq=function(){for(var a in this.Re)this.Re.hasOwnProperty(a)&&this.wq(this.Re[a])};d.prototype.wq=function(a){var c=a.qd(),e=c[0].type,h,b,g,f,p,m;Ua(e.d,a);e.mg=!0;0===e.d.length&&(e.Zh=!1);h=0;for(b=e.wa.length;h<b;++h)m=e.wa[h],Ua(m.d,a),m.mg=!0;h=0;for(b=this.nd.Ub.length;h<b;++h)if(p=this.nd.Ub[h],p.Db.hasOwnProperty(e.index)&&Ua(p.Db[e.index].Cd,a),!e.B)for(g=0,f=e.wa.length;g<f;++g)m=e.wa[g],
p.Db.hasOwnProperty(m.index)&&Ua(p.Db[m.index].Cd,a);if(p=c[0].i){if(p.qc)for(g=p.d,h=0,b=g.length;h<b;++h)f=g[h],a.contains(f)&&(f.Z(),p.nb.update(f,f.Sb,null),f.Sb.set(0,0,-1,-1));Ua(p.d,a);p.Bh(0)}for(h=0;h<c.length;++h)this.vq(c[h],e);a.clear();H.push(a);this.da=!0};d.prototype.vq=function(a,c){var e,h,b;e=0;for(h=this.Jn.length;e<h;++e)this.Jn[e](a);a.je&&c.oi.update(a,a.je,null);(e=a.i)&&e.hg(a,!0);if(a.J)for(e=0,h=a.J.length;e<h;++e)b=a.J[e],b.nf&&b.nf(),b.behavior.hj.remove(a);this.jp.remove(a);
this.Ul.remove(a);this.Vl.remove(a);a.nf&&a.nf();this.Id.hasOwnProperty(a.uid.toString())&&delete this.Id[a.uid.toString()];this.jj--;100>c.vi.length&&c.vi.push(a)};d.prototype.Fn=function(a,c,e,h){if(a.B){var b=O(Math.random()*a.Zf.length);return this.Fn(a.Zf[b],c,e,h)}return a.tc?this.ke(a.tc,c,!1,e,h,!1):null};var Q=[];d.prototype.ke=function(a,c,e,h,b,g){var f,p,m,k;if(!a)return null;var d=this.q[a[1]],n=d.ka.ue;if(this.Vi&&n&&!d.sl||n&&!this.n&&11===a[0][11])return null;var y=c;n||(c=null);var l;
d.vi.length?(l=d.vi.pop(),l.fc=!0,d.ka.aa.call(l,d)):(l=new d.ka.aa(d),l.fc=!1);!e||g||this.Id.hasOwnProperty(a[2].toString())?l.uid=this.qh++:l.uid=a[2];this.Id[l.uid.toString()]=l;l.Bp=this.hp++;l.Ye=d.d.length;f=0;for(p=this.Nc.length;f<p;++f)this.Nc[f].type===d&&l.Ye++;l.Mg=zb;l.toString=Ab;m=a[3];if(l.fc)Ra(l.ca);else{l.ca={};if("undefined"!==typeof cr_is_preview)for(l.qo=[],l.qo.length=m.length,f=0,p=m.length;f<p;f++)l.qo[f]=m[f][1];l.Ta=[];l.Ta.length=m.length}f=0;for(p=m.length;f<p;f++)l.Ta[f]=
m[f][0];if(n){var v=a[0];l.x=fa(h)?v[0]:h;l.y=fa(b)?v[1]:b;l.z=v[2];l.width=v[3];l.height=v[4];l.depth=v[5];l.j=v[6];l.opacity=v[7];l.Nb=v[8];l.Ob=v[9];l.rb=v[10];f=v[11];!this.n&&d.L.length&&(l.rb=f);l.zg=cb(l.rb);this.u&&db(l,l.rb,this.u);if(l.fc){f=0;for(p=v[12].length;f<p;f++)for(m=0,k=v[12][f].length;m<k;m++)l.Ca[f][m]=v[12][f][m];l.fa.set(0,0,0,0);l.je.set(0,0,-1,-1);l.Sb.set(0,0,-1,-1);l.bb.Ge(l.fa);P(l.pk)}else{l.Ca=v[12].slice(0);f=0;for(p=l.Ca.length;f<p;f++)l.Ca[f]=v[12][f].slice(0);l.ba=
[];l.Zd=[];l.Zd.length=d.L.length;l.fa=new sa(0,0,0,0);l.je=new sa(0,0,-1,-1);l.Sb=new sa(0,0,-1,-1);l.bb=new ta;l.pk=[];l.K=Db;l.Hr=Eb;l.tb=Fb;l.Z=Gb;l.mq=Hb;l.Pm=Ib;l.jd=Jb}l.Je=!1;l.kv=0;l.jv=0;l.iv=null;14===v.length&&(l.Je=!0,l.kv=v[13][0],l.jv=v[13][1],l.iv=v[13][2]);f=0;for(p=d.L.length;f<p;f++)l.Zd[f]=!0;l.Ld=!0;l.ad=Kb;l.ad();l.nq=!!l.ba.length;l.ei=!0;l.tk=!0;d.Yh=!0;l.visible=!0;l.ph=-1;l.i=c;l.cd=c.d.length;l.Te=0;"undefined"===typeof l.N&&(l.N=null);this.da=l.td=!0}var q;P(Q);f=0;for(p=
d.wa.length;f<p;f++)Q.push.apply(Q,d.wa[f].Aa);Q.push.apply(Q,d.Aa);if(l.fc)for(f=0,p=Q.length;f<p;f++){var t=Q[f];q=l.J[f];q.fc=!0;t.behavior.aa.call(q,t,l);v=a[4][f];m=0;for(k=v.length;m<k;m++)q.A[m]=v[m];q.M();t.behavior.hj.add(l)}else for(l.J=[],f=0,p=Q.length;f<p;f++)t=Q[f],q=new t.behavior.aa(t,l),q.fc=!1,q.A=a[4][f].slice(0),q.M(),l.J.push(q),t.behavior.hj.add(l);v=a[5];if(l.fc)for(f=0,p=v.length;f<p;f++)l.A[f]=v[f];else l.A=v.slice(0);this.Nc.push(l);this.oe=!0;c&&(c.wg(l,!0),1!==c.zc||1!==
c.Ac)&&(d.Zh=!0);this.jj++;if(d.Qb){if(l.Qb=!0,l.fc?P(l.siblings):l.siblings=[],!e&&!g){f=0;for(p=d.Xb.length;f<p;f++)if(d.Xb[f]!==d){if(!d.Xb[f].tc)return null;l.siblings.push(this.ke(d.Xb[f].tc,y,!1,n?l.x:h,n?l.y:b,!0))}f=0;for(p=l.siblings.length;f<p;f++)for(l.siblings[f].siblings.push(l),m=0;m<p;m++)f!==m&&l.siblings[f].siblings.push(l.siblings[m])}}else l.Qb=!1,l.siblings=null;l.M();f=0;for(p=l.J.length;f<p;f++)l.J[f].Gu&&l.J[f].Gu();return l};d.prototype.Yk=function(a){var c,e;c=0;for(e=this.na.O.length;c<
e;c++){var h=this.na.O[c];if(fb(h.name,a))return h}return null};d.prototype.Jg=function(a){a=O(a);0>a&&(a=0);a>=this.na.O.length&&(a=this.na.O.length-1);return this.na.O[a]};d.prototype.xk=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].ea().la=!0};d.prototype.Ah=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].Ah()};d.prototype.em=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].em()};d.prototype.eg=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].eg()};d.prototype.kq=function(a){if(a.Yh){var c,
e,h=a.d;c=0;for(e=h.length;c<e;++c)h[c].Pm();h=this.Nc;c=0;for(e=h.length;c<e;++c)h[c].type===a&&h[c].Pm();a.Yh=!1}};d.prototype.Wn=function(a,c,e,h){var b,g,f=a?1!==a.zc||1!==a.Ac:!1;if(c.B)for(a=0,b=c.Zf.length;a<b;++a)g=c.Zf[a],f||g.Zh?za(h,g.d):(this.kq(g),g.oi.wj(e,h));else f||c.Zh?za(h,c.d):(this.kq(c),c.oi.wj(e,h))};d.prototype.fo=function(a,c,e,h){var b,g;b=0;for(g=c.length;b<g;++b)this.Wn(a,c[b],e,h)};d.prototype.Dt=function(a,c,e){var h=this.Wp;h&&this.fo(a,h.Tl,c,e)};d.prototype.Qj=function(a,
c,e){var h=a.ea(),b,g,f,p,m=this.kb().Kb.yc,k,d,l;if(h.la)for(h.la=!1,P(h.d),b=0,p=a.d.length;b<p;b++)f=a.d[b],f.Z(),k=f.i.gb(c,e,!0),d=f.i.gb(c,e,!1),f.tb(k,d)?h.d.push(f):m&&h.R.push(f);else{g=0;l=m?h.R:h.d;b=0;for(p=l.length;b<p;b++)f=l[b],f.Z(),k=f.i.gb(c,e,!0),d=f.i.gb(c,e,!1),f.tb(k,d)&&(m?h.d.push(f):(h.d[g]=h.d[b],g++));l.length=g}a.sd();return h.dl()};d.prototype.tf=function(a,c){if(!(a&&c&&a!==c&&a.td&&c.td))return!1;a.Z();c.Z();var e=a.i,h=c.i,b,g,f,p,m,k,d,l;if(e===h||e.zc===h.zc&&h.Ac===
h.Ac&&e.scale===h.scale&&e.j===h.j&&e.dd===h.dd){if(!a.fa.Xt(c.fa)||!a.bb.ro(c.bb)||a.Je&&c.Je)return!1;if(a.Je)return this.Zp(a,c);if(c.Je)return this.Zp(c,a);d=a.N&&!a.N.te();b=c.N&&!c.N.te();if(!d&&!b)return!0;d?(a.N.de(a.width,a.height,a.j),d=a.N):(this.Yc.Fe(a.bb,a.x,a.y,a.width,a.height),d=this.Yc);b?(c.N.de(c.width,c.height,c.j),l=c.N):(this.Yc.Fe(c.bb,c.x,c.y,c.width,c.height),l=this.Yc);return d.Sg(l,c.x-a.x,c.y-a.y)}d=a.N&&!a.N.te();b=c.N&&!c.N.te();d?(a.N.de(a.width,a.height,a.j),this.Yc.Op(a.N)):
this.Yc.Fe(a.bb,a.x,a.y,a.width,a.height);d=this.Yc;b?(c.N.de(c.width,c.height,c.j),this.Em.Op(c.N)):this.Em.Fe(c.bb,c.x,c.y,c.width,c.height);l=this.Em;b=0;for(g=d.Bc;b<g;b++)f=2*b,p=f+1,m=d.La[f],k=d.La[p],d.La[f]=e.xa(m+a.x,k+a.y,!0),d.La[p]=e.xa(m+a.x,k+a.y,!1);d.Z();b=0;for(g=l.Bc;b<g;b++)f=2*b,p=f+1,m=l.La[f],k=l.La[p],l.La[f]=h.xa(m+c.x,k+c.y,!0),l.La[p]=h.xa(m+c.x,k+c.y,!1);l.Z();return d.Sg(l,0,0)};var B=new ta;new sa(0,0,0,0);var I=[];d.prototype.Zp=function(a,c){var e,h,b,g,f=c.fa,p=a.x,
m=a.y;a.Xn(f,I);var k=c.N&&!c.N.te();e=0;for(h=I.length;e<h;++e)if(b=I[e],g=b.Dp,f.Yt(g,p,m)&&(B.Ge(g),B.offset(p,m),B.ro(c.bb)))if(k)if(c.N.de(c.width,c.height,c.j),b.pf){if(b.pf.Sg(c.N,c.x-(p+g.left),c.y-(m+g.top)))return P(I),!0}else{if(this.Yc.Fe(B,0,0,g.right-g.left,g.bottom-g.top),this.Yc.Sg(c.N,c.x,c.y))return P(I),!0}else if(b.pf){if(this.Yc.Fe(c.bb,0,0,c.width,c.height),b.pf.Sg(this.Yc,-(p+g.left),-(m+g.top)))return P(I),!0}else return P(I),!0;P(I);return!1};d.prototype.gq=function(a,c){if(!c)return!1;
var e,h,b,g,f;e=0;for(h=a.Aa.length;e<h;e++)if(a.Aa[e].behavior instanceof c)return!0;if(!a.B)for(e=0,h=a.wa.length;e<h;e++)for(f=a.wa[e],b=0,g=f.Aa.length;b<g;b++)if(f.Aa[b].behavior instanceof c)return!0;return!1};d.prototype.Km=function(a){return this.gq(a,$b.Sv)};d.prototype.Lm=function(a){return this.gq(a,$b.Tv)};var G=[];d.prototype.nc=function(a){var c,e,h;a.Z();this.Dt(a.i,a.fa,G);c=0;for(e=G.length;c<e;++c)if(h=G[c],h.ca.solidEnabled&&this.tf(a,h))return P(G),h;P(G);return null};d.prototype.gm=
function(a,c,e,h){h=h||50;var b=a.x,g=a.y,f,p=null,m=null;for(f=0;f<h;f++)if(a.x=b+c*f,a.y=g+e*f,a.K(),!this.tf(a,p)&&((p=this.nc(a))&&(m=p),!p&&!p))return m&&this.Nu(a,c,e,m),!0;a.x=b;a.y=g;a.K();return!1};d.prototype.Nu=function(a,c,e,h){var b=2,g,f=!1;g=!1;for(var p=a.x,m=a.y;16>=b;)g=1/b,b*=2,a.x+=c*g*(f?1:-1),a.y+=e*g*(f?1:-1),a.K(),this.tf(a,h)?g=f=!0:(g=f=!1,p=a.x,m=a.y);g&&(a.x=p,a.y=m,a.K())};d.prototype.vj=function(a,c){var e=fa(c)?100:c,h=0,b=a.x,g=a.y,f=0,p=0,m=0,k=this.nc(a);if(!k)return!0;
for(;h<=e;){switch(f){case 0:p=0;m=-1;h++;break;case 1:p=1;m=-1;break;case 2:p=1;m=0;break;case 3:m=p=1;break;case 4:p=0;m=1;break;case 5:p=-1;m=1;break;case 6:p=-1;m=0;break;case 7:m=p=-1}f=(f+1)%8;a.x=O(b+p*h);a.y=O(g+m*h);a.K();if(!this.tf(a,k)&&(k=this.nc(a),!k))return!0}a.x=b;a.y=g;a.K();return!1};d.prototype.gg=function(a,c){a.td&&c.td&&this.km.push([a,c])};d.prototype.Sr=function(a,c,e){var h=a.x,b=a.y,g=ka(10,Oa(c,e,h,b)),f=Ka(c,e,h,b),p=this.nc(a);if(!p)return Ha(f+na);var m=p,k,d,l,n,y=
U(5);for(k=1;36>k;k++)if(d=f-k*y,a.x=c+Math.cos(d)*g,a.y=e+Math.sin(d)*g,a.K(),!this.tf(a,m)&&(m=this.nc(a),!m)){l=d;break}36===k&&(l=Ha(f+na));m=p;for(k=1;36>k;k++)if(d=f+k*y,a.x=c+Math.cos(d)*g,a.y=e+Math.sin(d)*g,a.K(),!this.tf(a,m)&&(m=this.nc(a),!m)){n=d;break}36===k&&(n=Ha(f+na));a.x=h;a.y=b;a.K();if(n===l)return n;a=La(n,l)/2;a=Na(n,l)?Ha(l+a+na):Ha(n+a);l=Math.cos(f);f=Math.sin(f);n=Math.cos(a);a=Math.sin(a);c=l*n+f*a;return Ka(0,0,l-2*c*n,f-2*c*a)};var M=-1;d.prototype.trigger=function(a,
c,e){if(!this.na)return!1;var h=this.na.Ue;if(!h)return!1;var b=!1,g,f,p;M++;var m=h.Dk;f=0;for(p=m.length;f<p;++f)g=this.cq(a,c,m[f],e),b=b||g;g=this.cq(a,c,h,e);M--;return b||g};d.prototype.cq=function(a,c,e,h){var b=!1,g,f,p,m;if(c)for(p=this.Im(a,c,c.type.name,e,h),b=b||p,m=c.type.wa,g=0,f=m.length;g<f;++g)p=this.Im(a,c,m[g].name,e,h),b=b||p;else p=this.Im(a,c,"system",e,h),b=b||p;return b};d.prototype.Im=function(a,c,e,h,b){var g,f=!1,p=!1,p="undefined"!==typeof b,m=(p?h.Qn:h.dq)[e];if(!m)return f;
var k=null;h=0;for(g=m.length;h<g;++h)if(m[h].method==a){k=m[h].Eg;break}if(!k)return f;var d;p?d=k[b]:d=k;if(!d)return null;h=0;for(g=d.length;h<g;h++)a=d[h][0],b=d[h][1],p=this.it(c,e,a,b),f=f||p;return f};d.prototype.it=function(a,c,e,h){var b,g,f=!1;this.Jm++;var p=this.kb().Kb;p&&this.Ah(p.He);var m=1<this.Jm;this.Ah(e.He);m&&this.Ou();var k=this.fm(e);k.Kb=e;a&&(b=this.types[c].ea(),b.la=!1,P(b.d),b.d[0]=a,this.types[c].sd());a=!0;if(e.parent){c=k.Yp;for(b=e.parent;b;)c.push(b),b=b.parent;c.reverse();
b=0;for(g=c.length;b<g;b++)if(!c[b].Vu()){a=!1;break}}a&&(this.Ai++,e.yc?e.Uu(h):e.Ya(),f=f||k.bf);this.xp();m&&this.Fu();this.eg(e.He);p&&this.eg(p.He);this.oe&&0===this.Rc&&0===M&&!this.tl&&this.qb();this.Jm--;return f};d.prototype.Yn=function(){var a=this.kb();return a.Kb.sb[a.Ib]};d.prototype.du=function(){return 0===this.kb().Ib};d.prototype.Ou=function(){this.dj++;this.dj>=this.Ol.length&&this.Ol.push([])};d.prototype.Fu=function(){this.dj--};d.prototype.Zn=function(){return this.Ol[this.dj]};
d.prototype.fm=function(a){this.yi++;this.yi>=this.Jk.length&&this.Jk.push(new Lb);var c=this.kb();c.reset(a);return c};d.prototype.xp=function(){this.yi--};d.prototype.kb=function(){return this.Jk[this.yi]};d.prototype.$n=function(a,c){for(var e,h,b,g,f,p;c;){e=0;for(h=c.Ec.length;e<h;e++)if(p=c.Ec[e],p instanceof Mb&&fb(a,p.name))return p;c=c.parent}e=0;for(h=this.yd.length;e<h;e++)for(f=this.yd[e],b=0,g=f.me.length;b<g;b++)if(p=f.me[b],p instanceof Mb&&fb(a,p.name))return p;return null};d.prototype.ao=
function(a){var c,e;c=0;for(e=this.Sc.length;c<e;c++)if(this.Sc[c].V===a)return this.Sc[c];return null};d.prototype.Ki=function(a){var c,e;c=0;for(e=this.q.length;c<e;c++)if(this.q[c].V===a)return this.q[c];return null};d.prototype.tt=function(a){var c,e;c=0;for(e=this.yf.length;c<e;c++)if(this.yf[c].V===a)return this.yf[c];return null};d.prototype.as=function(a,c){this.Fh=[a,c];this.da=!0};d.prototype.St=function(){var a=this,c=this.Cj,e=this.Fd,h=this.fh,b=!1;this.Sp&&(b=!0,c="__c2_continuouspreview",
this.Sp=!1);if(c.length){this.qb();e=this.Zu();if(r()&&!this.kc)l(c,e,function(){da("Saved state to IndexedDB storage ("+e.length+" bytes)");a.Fd=e;a.trigger(W.prototype.k.ek,null);a.Fd="";b&&k()},function(h){try{localStorage.setItem("__c2save_"+c,e),da("Saved state to WebStorage ("+e.length+" bytes)"),a.Fd=e,a.trigger(W.prototype.k.ek,null),a.Fd="",b&&k()}catch(g){da("Failed to save game state: "+h+"; "+g),a.trigger(W.prototype.k.an,null)}});else try{localStorage.setItem("__c2save_"+c,e),da("Saved state to WebStorage ("+
e.length+" bytes)"),a.Fd=e,this.trigger(W.prototype.k.ek,null),a.Fd="",b&&k()}catch(g){da("Error saving to WebStorage: "+g),a.trigger(W.prototype.k.an,null)}this.fh=this.Cj="";this.Va=null}if(h.length){if(r()&&!this.kc)u(h,function(c){c?(a.Va=c,da("Loaded state from IndexedDB storage ("+a.Va.length+" bytes)")):(a.Va=localStorage.getItem("__c2save_"+h)||"",da("Loaded state from WebStorage ("+a.Va.length+" bytes)"));a.Hh=!1;a.Va||(a.Va=null,a.trigger(W.prototype.k.Xh,null))},function(){a.Va=localStorage.getItem("__c2save_"+
h)||"";da("Loaded state from WebStorage ("+a.Va.length+" bytes)");a.Hh=!1;a.Va||(a.Va=null,a.trigger(W.prototype.k.Xh,null))});else{try{this.Va=localStorage.getItem("__c2save_"+h)||"",da("Loaded state from WebStorage ("+this.Va.length+" bytes)")}catch(f){this.Va=null}this.Hh=!1;a.Va||(a.Va=null,a.trigger(W.prototype.k.Xh,null))}this.Cj=this.fh=""}null!==this.Va&&(this.qb(),this.mu(this.Va)?(this.Fd=this.Va,this.trigger(W.prototype.k.Zq,null),this.Fd=""):a.trigger(W.prototype.k.Xh,null),this.Va=null)};
d.prototype.Zu=function(){var c,e,h,b,g,f,p,m={c2save:!0,version:1,rt:{time:this.$b.ua,walltime:this.ak.ua,timescale:this.og,tickcount:this.Zc,execcount:this.Ai,next_uid:this.qh,running_layout:this.na.V,start_time_offset:Date.now()-this.Lj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(e=this.q.length;c<e;c++)if(g=this.q[c],!g.B&&!this.Km(g)){f={instances:[]};Qa(g.ca)&&(f.ex=a(g.ca));h=0;for(b=g.d.length;h<b;h++)f.instances.push(this.rm(g.d[h]));m.types[g.V.toString()]=f}c=
0;for(e=this.Sc.length;c<e;c++)h=this.Sc[c],m.layouts[h.V.toString()]=h.ob();b=m.events.groups;c=0;for(e=this.yf.length;c<e;c++)h=this.yf[c],b[h.V.toString()]=this.Og[h.Ng].Mf;e=m.events.cnds;for(p in this.ie)this.ie.hasOwnProperty(p)&&(c=this.ie[p],Qa(c.ca)&&(e[p]={ex:a(c.ca)}));e=m.events.acts;for(p in this.$d)this.$d.hasOwnProperty(p)&&(c=this.$d[p],Qa(c.ca)&&(e[p]={ex:a(c.ca)}));e=m.events.vars;for(p in this.sg)this.sg.hasOwnProperty(p)&&(c=this.sg[p],c.Si||c.parent&&!c.Yg||(e[p]=c.data));m.system=
this.nd.ob();return JSON.stringify(m)};d.prototype.Fp=function(){var a,c,e,h,b,g;this.Id={};a=0;for(c=this.q.length;a<c;a++)if(e=this.q[a],!e.B)for(h=0,b=e.d.length;h<b;h++)g=e.d[h],this.Id[g.uid.toString()]=g};d.prototype.mu=function(a){var c;try{c=JSON.parse(a)}catch(e){return!1}if(!c.c2save||1<c.version)return!1;this.Ug=!0;a=c.rt;this.$b.reset();this.$b.ua=a.time;this.ak.reset();this.ak.ua=a.walltime||0;this.og=a.timescale;this.Zc=a.tickcount;this.Ai=a.execcount;this.Lj=Date.now()-a.start_time_offset;
var h=a.running_layout;if(h!==this.na.V)if(h=this.ao(h))this.Mn(h);else return;var b,g,f,p,m,k,d;k=c.types;for(g in k)if(k.hasOwnProperty(g)&&(p=this.Ki(parseInt(g,10)))&&!p.B&&!this.Km(p)){k[g].ex?p.ca=k[g].ex:Ra(p.ca);m=p.d;f=k[g].instances;h=0;for(b=ma(m.length,f.length);h<b;h++)this.aj(m[h],f[h]);h=f.length;for(b=m.length;h<b;h++)this.Xd(m[h]);h=m.length;for(b=f.length;h<b;h++){m=null;if(p.ka.ue&&(m=this.na.Ji(f[h].w.l),!m))continue;m=this.ke(p.tc,m,!1,0,0,!0);this.aj(m,f[h])}p.mg=!0}this.qb();
this.Fp();b=c.layouts;for(g in b)b.hasOwnProperty(g)&&(h=this.ao(parseInt(g,10)))&&h.Ab(b[g]);b=c.events.groups;for(g in b)b.hasOwnProperty(g)&&(h=this.tt(parseInt(g,10)))&&this.Og[h.Ng]&&this.Og[h.Ng].$u(b[g]);h=c.events.cnds;for(g in this.ie)this.ie.hasOwnProperty(g)&&(h.hasOwnProperty(g)?this.ie[g].ca=h[g].ex:this.ie[g].ca={});h=c.events.acts;for(g in this.$d)this.$d.hasOwnProperty(g)&&(h.hasOwnProperty(g)?this.$d[g].ca=h[g].ex:this.$d[g].ca={});h=c.events.vars;for(g in h)h.hasOwnProperty(g)&&
this.sg.hasOwnProperty(g)&&(this.sg[g].data=h[g]);this.qh=a.next_uid;this.Ug=!1;h=0;for(b=this.Ci.length;h<b;++h)m=this.Ci[h],this.trigger(Object.getPrototypeOf(m.type.ka).k.Wh,m);P(this.Ci);this.nd.Ab(c.system);h=0;for(b=this.q.length;h<b;h++)if(p=this.q[h],!p.B&&!this.Km(p))for(c=0,g=p.d.length;c<g;c++){m=p.d[c];if(p.Qb)for(k=m.Mg(),P(m.siblings),a=0,f=p.Xb.length;a<f;a++)d=p.Xb[a],p!==d&&m.siblings.push(d.d[k]);m.Le&&m.Le();if(m.J)for(a=0,f=m.J.length;a<f;a++)k=m.J[a],k.Le&&k.Le()}return this.da=
!0};d.prototype.rm=function(c,e){var h,b,g,f,p;f=c.type;g=f.ka;var m={};e?m.c2=!0:m.uid=c.uid;Qa(c.ca)&&(m.ex=a(c.ca));if(c.Ta&&c.Ta.length)for(m.ivs={},h=0,b=c.Ta.length;h<b;h++)m.ivs[c.type.ml[h].toString()]=c.Ta[h];if(g.ue){g={x:c.x,y:c.y,w:c.width,h:c.height,l:c.i.V,zi:c.jd()};0!==c.j&&(g.a=c.j);1!==c.opacity&&(g.o=c.opacity);.5!==c.Nb&&(g.hX=c.Nb);.5!==c.Ob&&(g.hY=c.Ob);0!==c.rb&&(g.bm=c.rb);c.visible||(g.v=c.visible);c.td||(g.ce=c.td);-1!==c.ph&&(g.mts=c.ph);if(f.L.length)for(g.fx=[],h=0,b=
f.L.length;h<b;h++)p=f.L[h],g.fx.push({name:p.name,active:c.Zd[p.index],params:c.Ca[p.index]});m.w=g}if(c.J&&c.J.length)for(m.behs={},h=0,b=c.J.length;h<b;h++)f=c.J[h],f.ob&&(m.behs[f.type.V.toString()]=f.ob());c.ob&&(m.data=c.ob());return m};d.prototype.wt=function(a,c){var e,h;e=0;for(h=a.ml.length;e<h;e++)if(a.ml[e]===c)return e;return-1};d.prototype.pt=function(a,c){var e,h;e=0;for(h=a.J.length;e<h;e++)if(a.J[e].type.V===c)return e;return-1};d.prototype.aj=function(a,c,e){var h,b,g,f,p;p=a.type;
var m=p.ka;if(e){if(!c.c2)return}else a.uid=c.uid;c.ex?a.ca=c.ex:Ra(a.ca);if(b=c.ivs)for(h in b)b.hasOwnProperty(h)&&(g=this.wt(p,parseInt(h,10)),0>g||g>=a.Ta.length||(f=b[h],null===f&&(f=NaN),a.Ta[g]=f));if(m.ue){g=c.w;a.i.V!==g.l&&(b=a.i,a.i=this.na.Ji(g.l),a.i?(b.hg(a,!0),a.i.wg(a,!0),a.K(),a.i.Bh(0)):(a.i=b,e||this.Xd(a)));a.x=g.x;a.y=g.y;a.width=g.w;a.height=g.h;a.cd=g.zi;a.j=g.hasOwnProperty("a")?g.a:0;a.opacity=g.hasOwnProperty("o")?g.o:1;a.Nb=g.hasOwnProperty("hX")?g.hX:.5;a.Ob=g.hasOwnProperty("hY")?
g.hY:.5;a.visible=g.hasOwnProperty("v")?g.v:!0;a.td=g.hasOwnProperty("ce")?g.ce:!0;a.ph=g.hasOwnProperty("mts")?g.mts:-1;a.rb=g.hasOwnProperty("bm")?g.bm:0;a.zg=cb(a.rb);this.u&&db(a,a.rb,this.u);a.K();if(g.hasOwnProperty("fx"))for(e=0,b=g.fx.length;e<b;e++)f=p.Wk(g.fx[e].name),0>f||(a.Zd[f]=g.fx[e].active,a.Ca[f]=g.fx[e].params);a.ad()}if(p=c.behs)for(h in p)p.hasOwnProperty(h)&&(e=this.pt(a,parseInt(h,10)),0>e||a.J[e].Ab(p[h]));c.data&&a.Ab(c.data)};d.prototype.Rn=function(a,c,e){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(c,e)},e)};d.prototype.kt=function(a,c){this.Rn("data.js",function(e){var h=new FileReader;h.onload=function(c){a(c.target.result)};h.onerror=c;h.readAsText(e)},c)};var S=[],F=0;d.prototype.Ql=function(){if(S.length&&!(8<=F)){F++;var a=S.shift();this.cs(a.filename,a.hv,a.Es)}};d.prototype.jt=function(a,c,e){var h=this;S.push({filename:a,hv:function(a){F--;h.Ql();c(a)},Es:function(a){F--;h.Ql();e(a)}});this.Ql()};d.prototype.cs=function(a,c,e){this.Rn(a,function(a){var e=
new FileReader;e.onload=function(a){c(a.target.result)};e.readAsArrayBuffer(a)},e)};d.prototype.lt=function(a,c,e){var h="",b=a.toLowerCase(),g=b.substr(b.length-4),b=b.substr(b.length-5);".mp4"===g?h="video/mp4":".webm"===b?h="video/webm":".m4a"===g?h="audio/mp4":".mp3"===g&&(h="audio/mpeg");this.jt(a,function(a){a=URL.createObjectURL(new Blob([a],{type:h}));c(a)},e)};d.prototype.Zt=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.prototype.Mp=function(a,
c){this.vo&&!this.Zt(c)?this.lt(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};d.prototype.Dj=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Nb=function(a){return new d(document.getElementById(a))};Ob=function(a,c){return new d({dc:!0,width:a,height:c})};window.cr_createRuntime=Nb;window.cr_createDCRuntime=Ob;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.$h=!0;document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new d(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,
window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,t){var r=window.cr_getC2Runtime();r&&r.as(d,t)};window.cr_sizeCanvas=function(d,t){if(0!==d&&0!==t){var r=window.cr_getC2Runtime();r&&r.setSize(d,t)}};window.cr_setSuspended=function(d){var t=window.cr_getC2Runtime();t&&t.setSuspended(d)};
(function(){function d(a,b){this.b=a;this.Ue=null;this.scrollX=this.b.Xa/2;this.scrollY=this.b.Wa/2;this.scale=1;this.j=0;this.Jf=!0;this.name=b[0];this.Bu=b[1];this.Au=b[2];this.width=b[1];this.height=b[2];this.hq=b[3];this.Rp=b[4];this.V=b[5];var f=b[6],e,m;this.O=[];this.Rg=[];e=0;for(m=f.length;e<m;e++){var k=new Pb(this,f[e]);k.ip=e;this.O.push(k)}f=b[7];this.pe=[];e=0;for(m=f.length;e<m;e++){var k=f[e],d=this.b.q[k[1]];d.tc||(d.tc=k);this.pe.push(k);-1===this.Rg.indexOf(d)&&this.Rg.push(d)}this.L=
[];this.ba=[];this.Ld=!0;this.Ca=[];e=0;for(m=b[8].length;e<m;e++)this.L.push({id:b[8][e][0],name:b[8][e][1],Na:-1,Uc:!1,ab:!0,index:e}),this.Ca.push(b[8][e][2].slice(0));this.ad();this.fg=new sa(0,0,1,1);this.jm=new sa(0,0,1,1);this.Ce={}}function t(a,b){return a.cd-b.cd}function r(a,b){this.Ha=a;this.b=a.b;this.d=[];this.scale=1;this.j=0;this.xd=!1;this.Td=new sa(0,0,0,0);this.bq=new ta;this.X=this.U=this.Y=this.T=0;this.uf=!1;this.Wd=-1;this.yk=0;this.name=b[0];this.index=b[1];this.V=b[2];this.visible=
b[3];this.Kc=b[4];this.$c=b[5];this.zc=b[6];this.Ac=b[7];this.opacity=b[8];this.Gi=b[9];this.qc=b[10];this.dd=b[11];this.rb=b[12];this.As=b[13];this.zg="source-over";this.ub=this.yb=0;this.nb=null;this.Gd=q();this.Wc=!0;this.Uf=new sa(0,0,-1,-1);this.ib=new sa(0,0,-1,-1);this.qc&&(this.nb=new bb(this.b.Xa,this.b.Wa));this.md=!1;var f=b[14],e,m;this.Xp=[];this.jc=[];this.Bg=[];e=0;for(m=f.length;e<m;e++){var k=f[e],d=this.b.q[k[1]];d.tc||(d.tc=k,d.$r=this.index);this.jc.push(k);-1===this.Ha.Rg.indexOf(d)&&
this.Ha.Rg.push(d)}ya(this.Xp,this.jc);this.L=[];this.ba=[];this.Ld=!0;this.Ca=[];e=0;for(m=b[15].length;e<m;e++)this.L.push({id:b[15][e][0],name:b[15][e][1],Na:-1,Uc:!1,ab:!0,index:e}),this.Ca.push(b[15][e][2].slice(0));this.ad();this.fg=new sa(0,0,1,1);this.jm=new sa(0,0,1,1)}function q(){return a.length?a.pop():[]}function l(c){P(c);a.push(c)}d.prototype.Yu=function(a){var b=a.type.V.toString();this.Ce.hasOwnProperty(b)||(this.Ce[b]=[]);this.Ce[b].push(this.b.rm(a))};d.prototype.ko=function(){var a=
this.O[0];return!a.$c&&1===a.opacity&&!a.Gi&&a.visible};d.prototype.ad=function(){P(this.ba);this.Ld=!0;var a,b,f;a=0;for(b=this.L.length;a<b;a++)f=this.L[a],f.ab&&(this.ba.push(f),f.Uc||(this.Ld=!1))};d.prototype.Vk=function(a){var b,f,e;b=0;for(f=this.L.length;b<f;b++)if(e=this.L[b],e.name===a)return e;return null};var u=[],k=!0;d.prototype.Cm=function(){this.Rp&&(this.Ue=this.b.Kk[this.Rp],this.Ue.Mm());this.b.na=this;this.width=this.Bu;this.height=this.Au;this.scrollX=this.b.Xa/2;this.scrollY=
this.b.Wa/2;var a,b,f,e,m,d,l;a=0;for(f=this.b.q.length;a<f;a++)if(b=this.b.q[a],!b.B)for(m=b.d,b=0,e=m.length;b<e;b++)if(d=m[b],d.i){var h=d.i.ip;h>=this.O.length&&(h=this.O.length-1);d.i=this.O[h];-1===d.i.d.indexOf(d)&&d.i.d.push(d);d.i.uf=!0}if(!k)for(a=0,f=this.O.length;a<f;++a)this.O[a].d.sort(t);P(u);this.Nr();a=0;for(f=this.O.length;a<f;a++)d=this.O[a],d.Yr(),d.Yj();m=!1;if(!this.Jf){for(l in this.Ce)if(this.Ce.hasOwnProperty(l)&&(b=this.b.Ki(parseInt(l,10)))&&!b.B&&this.b.Lm(b)){e=this.Ce[l];
a=0;for(f=e.length;a<f;a++){d=null;if(b.ka.ue&&(d=this.Ji(e[a].w.l),!d))continue;d=this.b.ke(b.tc,d,!1,0,0,!0);this.b.aj(d,e[a]);m=!0;u.push(d)}P(e)}a=0;for(f=this.O.length;a<f;a++)this.O[a].d.sort(t),this.O[a].uf=!0}m&&(this.b.qb(),this.b.Fp());for(a=0;a<u.length;a++)if(d=u[a],d.type.Qb)for(f=d.Mg(),b=0,e=d.type.Xb.length;b<e;b++)l=d.type.Xb[b],d.type!==l&&(l.d.length>f?d.siblings.push(l.d[f]):l.tc&&(m=this.b.ke(l.tc,d.i,!0,d.x,d.y,!0),this.b.qb(),l.Xj(),d.siblings.push(m),u.push(m)));a=0;for(f=
this.pe.length;a<f;a++)d=this.pe[a],b=this.b.q[d[1]],b.Qb||this.b.ke(this.pe[a],null,!0);this.b.wk=null;this.b.qb();if(this.b.Ba&&!this.b.Ga)for(a=0,f=this.b.q.length;a<f;a++)l=this.b.q[a],!l.B&&l.d.length&&l.tj&&l.tj(this.b.Ba);if(this.b.Ug)ya(this.b.Ci,u);else for(a=0,f=u.length;a<f;a++)d=u[a],this.b.trigger(Object.getPrototypeOf(d.type.ka).k.Wh,d);P(u);this.b.Ug||this.b.trigger(W.prototype.k.Wm,null);this.Jf=!1};d.prototype.Xr=function(){var a,b,f,e,m;b=a=0;for(f=this.pe.length;a<f;a++)e=this.pe[a],
m=this.b.q[e[1]],m.global?m.Qb||this.b.ke(e,null,!0):(this.pe[b]=e,b++);xa(this.pe,b)};d.prototype.gv=function(){this.b.Ug||this.b.trigger(W.prototype.k.Yq,null);this.b.pl=!0;P(this.b.nd.Ub);var a,b,f,e,m,d;if(!this.Jf)for(a=0,b=this.O.length;a<b;a++)for(this.O[a].Om(),m=this.O[a].d,f=0,e=m.length;f<e;f++)d=m[f],d.type.global||this.b.Lm(d.type)&&this.Yu(d);a=0;for(b=this.O.length;a<b;a++){m=this.O[a].d;f=0;for(e=m.length;f<e;f++)d=m[f],d.type.global||this.b.Xd(d);this.b.qb();P(m);this.O[a].uf=!0}a=
0;for(b=this.b.q.length;a<b;a++)if(m=this.b.q[a],!(m.global||m.ka.ue||m.ka.Hj||m.B)){f=0;for(e=m.d.length;f<e;f++)this.b.Xd(m.d[f]);this.b.qb()}k=!1;this.b.pl=!1};new sa(0,0,0,0);d.prototype.Yb=function(a){var b,f=a,e=!1,m=!this.b.ic;m&&(this.b.$i||(this.b.$i=document.createElement("canvas"),b=this.b.$i,b.width=this.b.I,b.height=this.b.H,this.b.Ho=b.getContext("2d"),e=!0),b=this.b.$i,f=this.b.Ho,b.width!==this.b.I&&(b.width=this.b.I,e=!0),b.height!==this.b.H&&(b.height=this.b.H,e=!0),e&&this.b.Dj(f,
this.b.oa));f.globalAlpha=1;f.globalCompositeOperation="source-over";this.b.Cn&&!this.ko()&&f.clearRect(0,0,this.b.I,this.b.H);var k,d,e=0;for(k=this.O.length;e<k;e++)d=this.O[e],d.visible&&0<d.opacity&&11!==d.rb&&(d.d.length||!d.$c)?d.Yb(f):d.Yj();m&&a.drawImage(b,0,0,this.b.width,this.b.height)};d.prototype.Ef=function(a){a.Lp(!0);this.b.Ka||(this.b.Ka=a.Jb(this.b.I,this.b.H,this.b.oa));if(this.b.Ka.Qe!==this.b.I||this.b.Ka.Pe!==this.b.H)a.deleteTexture(this.b.Ka),this.b.Ka=a.Jb(this.b.I,this.b.H,
this.b.oa);a.Dc(this.b.Ka);this.b.ic||a.qf(this.b.I,this.b.H);var b,f;for(b=this.O.length-1;0<=b;--b)f=this.O[b],f.visible&&1===f.opacity&&f.Ld&&0===f.rb&&(f.d.length||!f.$c)?f.Ef(a):f.Yj();a.Lp(!1)};d.prototype.wb=function(a){var b=0<this.ba.length||this.b.qg||!this.b.ic||this.b.ma;if(b){this.b.Ka||(this.b.Ka=a.Jb(this.b.I,this.b.H,this.b.oa));if(this.b.Ka.Qe!==this.b.I||this.b.Ka.Pe!==this.b.H)a.deleteTexture(this.b.Ka),this.b.Ka=a.Jb(this.b.I,this.b.H,this.b.oa);a.Dc(this.b.Ka);this.b.ic||a.qf(this.b.I,
this.b.H)}else this.b.Ka&&(a.Dc(null),a.deleteTexture(this.b.Ka),this.b.Ka=null);this.b.Cn&&!this.ko()&&a.clear(0,0,0,0);var f,e,m;f=0;for(e=this.O.length;f<e;f++)m=this.O[f],m.visible&&0<m.opacity&&(m.d.length||!m.$c)?m.wb(a):m.Yj();b&&(0===this.ba.length||1===this.ba.length&&this.b.ic?(1===this.ba.length?(b=this.ba[0].index,a.Tb(this.ba[0].Na),a.jg(null,1/this.b.I,1/this.b.H,0,0,1,1,this.scale,this.j,0,0,this.b.I/2,this.b.H/2,this.b.$b.ua,this.Ca[b]),a.uj(this.ba[0].Na)&&(this.b.da=!0)):a.Tb(0),
this.b.ic||a.qf(this.b.width,this.b.height),a.Dc(null),a.Kp(!1),a.Kd(1),a.Ma(this.b.Ka),a.Ip(),a.Cc(),a.pc(),b=this.b.width/2,f=this.b.height/2,a.De(-b,f,b,f,b,-f,-b,-f),a.Ma(null),a.Kp(!0)):this.lm(a,null,null,null))};d.prototype.Kg=function(){return 0<this.ba.length||this.b.qg||!this.b.ic||this.b.ma?this.b.Ka:null};d.prototype.bo=function(){var a=this.O[0].Mb(),b,f,e;b=1;for(f=this.O.length;b<f;b++)e=this.O[b],(0!==e.zc||0!==e.Ac)&&e.Mb()<a&&(a=e.Mb());return a};d.prototype.tm=function(a){if(!this.hq){var b=
1/this.bo()*this.b.I/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.da=!0)};d.prototype.um=function(a){if(!this.hq){var b=1/this.bo()*this.b.H/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.da=!0)};d.prototype.Nr=function(){this.tm(this.scrollX);this.um(this.scrollY)};d.prototype.lm=function(a,b,f,e){var m=f?f.ba:b?b.ba:this.ba,k=1,d=0,h=0,p=0,l=this.b.I,n=this.b.H;f?(k=f.i.Mb(),d=f.i.Zb(),h=f.i.T,p=f.i.U,l=f.i.Y,n=
f.i.X):b&&(k=b.Mb(),d=b.Zb(),h=b.T,p=b.U,l=b.Y,n=b.X);var q=this.b.Rk,t,r,u,A,H=0,Q=1,B,I,G=this.b.I,M=this.b.H,S=G/2,F=M/2,w=b?b.fg:this.fg,z=b?b.jm:this.jm,C=0,N=0,E=0,L=0,T=G,Ba=G,R=M,Ca=M,ra=u=0;A=f?f.i.Zb():0;if(f){t=0;for(r=m.length;t<r;t++)u+=a.At(m[t].Na),ra+=a.Bt(m[t].Na);L=f.fa;C=b.xa(L.left,L.top,!0,!0);E=b.xa(L.left,L.top,!1,!0);T=b.xa(L.right,L.bottom,!0,!0);R=b.xa(L.right,L.bottom,!1,!0);0!==A&&(t=b.xa(L.right,L.top,!0,!0),r=b.xa(L.right,L.top,!1,!0),N=b.xa(L.left,L.bottom,!0,!0),L=
b.xa(L.left,L.bottom,!1,!0),A=Math.min(C,T,t,N),T=Math.max(C,T,t,N),C=A,A=Math.min(E,R,r,L),R=Math.max(E,R,r,L),E=A);C-=u;E-=ra;T+=u;R+=ra;z.left=C/G;z.top=1-E/M;z.right=T/G;z.bottom=1-R/M;N=C=O(C);L=E=O(E);Ba=T=oa(T);Ca=R=oa(R);N-=u;L-=ra;Ba+=u;Ca+=ra;0>C&&(C=0);0>E&&(E=0);T>G&&(T=G);R>M&&(R=M);0>N&&(N=0);0>L&&(L=0);Ba>G&&(Ba=G);Ca>M&&(Ca=M);w.left=C/G;w.top=1-E/M;w.right=T/G;w.bottom=1-R/M}else w.left=z.left=0,w.top=z.top=0,w.right=z.right=1,w.bottom=z.bottom=1;ra=f&&(a.yh(m[0].Na)||0!==u||0!==
ra||1!==f.opacity||f.type.ka.fp)||b&&!f&&1!==b.opacity;a.Ip();if(ra){q[H]||(q[H]=a.Jb(G,M,this.b.oa));if(q[H].Qe!==G||q[H].Pe!==M)a.deleteTexture(q[H]),q[H]=a.Jb(G,M,this.b.oa);a.Tb(0);a.Dc(q[H]);I=Ca-L;a.clearRect(N,M-L-I,Ba-N,I);f?f.wb(a):(a.Ma(this.b.Ua),a.Kd(b.opacity),a.Cc(),a.translate(-S,-F),a.pc(),a.Jd(C,R,T,R,T,E,C,E,w));z.left=z.top=0;z.right=z.bottom=1;f&&(A=w.top,w.top=w.bottom,w.bottom=A);H=1;Q=0}a.Kd(1);u=m.length-1;var $a=a.cm(m[u].Na)||!b&&!f&&!this.b.ic;t=A=0;for(r=m.length;t<r;t++){q[H]||
(q[H]=a.Jb(G,M,this.b.oa));if(q[H].Qe!==G||q[H].Pe!==M)a.deleteTexture(q[H]),q[H]=a.Jb(G,M,this.b.oa);a.Tb(m[t].Na);A=m[t].index;a.uj(m[t].Na)&&(this.b.da=!0);0!=t||ra?(a.jg(e,1/G,1/M,z.left,z.top,z.right,z.bottom,k,d,h,p,(h+l)/2,(p+n)/2,this.b.$b.ua,f?f.Ca[A]:b?b.Ca[A]:this.Ca[A]),a.Ma(null),t!==u||$a?(a.Dc(q[H]),I=Ca-L,B=M-L-I,a.clearRect(N,B,Ba-N,I)):(f?a.Ee(f.yb,f.ub):b&&a.Ee(b.yb,b.ub),a.Dc(e)),a.Ma(q[Q]),a.Cc(),a.translate(-S,-F),a.pc(),a.Jd(C,R,T,R,T,E,C,E,w),t!==u||$a||a.Ma(null)):(a.Dc(q[H]),
I=Ca-L,B=M-L-I,a.clearRect(N,B,Ba-N,I),f?(f.hb&&f.hb.S?(B=f.hb.S,Q=1/B.width,B=1/B.height):(Q=1/f.width,B=1/f.height),a.jg(e,Q,B,z.left,z.top,z.right,z.bottom,k,d,h,p,(h+l)/2,(p+n)/2,this.b.$b.ua,f.Ca[A]),f.wb(a)):(a.jg(e,1/G,1/M,0,0,1,1,k,d,h,p,(h+l)/2,(p+n)/2,this.b.$b.ua,b?b.Ca[A]:this.Ca[A]),a.Ma(b?this.b.Ua:this.b.Ka),a.Cc(),a.translate(-S,-F),a.pc(),a.Jd(C,R,T,R,T,E,C,E,w)),z.left=z.top=0,z.right=z.bottom=1,f&&!$a&&(A=R,R=E,E=A));H=0===H?1:0;Q=0===H?1:0}$a&&(a.Tb(0),f?a.Ee(f.yb,f.ub):b?a.Ee(b.yb,
b.ub):this.b.ic||(a.qf(this.b.width,this.b.height),S=this.b.width/2,F=this.b.height/2,E=C=0,T=this.b.width,R=this.b.height),a.Dc(e),a.Ma(q[Q]),a.Cc(),a.translate(-S,-F),a.pc(),f&&1===m.length&&!ra?a.Jd(C,E,T,E,T,R,C,R,w):a.Jd(C,R,T,R,T,E,C,E,w),a.Ma(null))};d.prototype.Ji=function(a){var b,f;b=0;for(f=this.O.length;b<f;b++)if(this.O[b].V===a)return this.O[b];return null};d.prototype.ob=function(){var a,b,f,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.Jf,
persist:this.Ce,fx:[],layers:{}};a=0;for(b=this.L.length;a<b;a++)f=this.L[a],e.fx.push({name:f.name,active:f.ab,params:this.Ca[f.index]});a=0;for(b=this.O.length;a<b;a++)f=this.O[a],e.layers[f.V.toString()]=f.ob();return e};d.prototype.Ab=function(a){var b,f,e,m;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.Ce=a.persist;"undefined"!==typeof a.fv&&(this.Jf=a.fv);var k=a.fx;b=0;for(f=k.length;b<f;b++)if(e=this.Vk(k[b].name))e.ab=k[b].active,this.Ca[e.index]=
k[b].params;this.ad();b=a.layers;for(m in b)b.hasOwnProperty(m)&&(a=this.Ji(parseInt(m,10)))&&a.Ab(b[m])};Bb=d;r.prototype.ad=function(){P(this.ba);this.Ld=!0;var a,b,f;a=0;for(b=this.L.length;a<b;a++)f=this.L[a],f.ab&&(this.ba.push(f),f.Uc||(this.Ld=!1))};r.prototype.Vk=function(a){var b,f,e;b=0;for(f=this.L.length;b<f;b++)if(e=this.L[b],e.name===a)return e;return null};r.prototype.Yr=function(){var a,b,f,e,m,k;b=a=0;for(f=this.jc.length;a<f;a++){e=this.jc[a];m=this.b.q[e[1]];k=this.b.Lm(m);m=!0;
if(!k||this.Ha.Jf){e=this.b.ke(e,this,!0);if(!e)continue;u.push(e);e.type.global&&(m=!1,this.Bg.push(e.uid))}m&&(this.jc[b]=this.jc[a],b++)}this.jc.length=b;this.b.qb();!this.b.n&&this.L.length&&(this.rb=this.As);this.zg=cb(this.rb);this.b.u&&db(this,this.rb,this.b.u);this.Wc=!0};r.prototype.hg=function(a,b){var f=Aa(this.d,a);0>f||(b&&this.qc&&a.Sb&&a.Sb.right>=a.Sb.left&&(a.Z(),this.nb.update(a,a.Sb,null),a.Sb.set(0,0,-1,-1)),f===this.d.length-1?this.d.pop():(va(this.d,f),this.Bh(f)),this.Wc=!0)};
r.prototype.wg=function(a,b){a.cd=this.d.length;this.d.push(a);b&&this.qc&&a.Sb&&a.K();this.Wc=!0};r.prototype.Ku=function(a){this.d.unshift(a);this.Bh(0)};r.prototype.su=function(a,b,f){var e=a.jd();b=b.jd();va(this.d,e);e<b&&b--;f&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.Bh(e<b?e:b)};r.prototype.Bh=function(a){-1===this.Wd?this.Wd=a:a<this.Wd&&(this.Wd=a);this.Wc=this.uf=!0};r.prototype.Om=function(){if(this.uf){-1===this.Wd&&(this.Wd=0);var a,b,f;if(this.qc)for(a=this.Wd,
b=this.d.length;a<b;++a)f=this.d[a],f.cd=a,this.nb.ou(f.Sb);else for(a=this.Wd,b=this.d.length;a<b;++a)this.d[a].cd=a;this.uf=!1;this.Wd=-1}};r.prototype.Mb=function(a){return this.xt()*(this.b.ic||a?this.b.xg:1)};r.prototype.xt=function(){return(this.scale*this.Ha.scale-1)*this.dd+1};r.prototype.Zb=function(){return this.xd?0:Ha(this.Ha.j+this.j)};var a=[],b=[],n=[];r.prototype.Zk=function(){this.Om();this.nb.wj(this.T,this.U,this.Y,this.X,n);if(!n.length)return q();if(1===n.length){var a=q();ya(a,
n[0]);P(n);return a}for(var g=!0;1<n.length;){for(var a=n,f=void 0,e=void 0,m=void 0,k=void 0,d=void 0,f=0,e=a.length;f<e-1;f+=2){var m=a[f],k=a[f+1],d=q(),h=m,p=k,v=d,t=0,r=0,u=0,K=h.length,D=p.length,A=void 0,H=void 0;for(v.length=K+D;t<K&&r<D;++u)A=h[t],H=p[r],A.cd<H.cd?(v[u]=A,++t):(v[u]=H,++r);for(;t<K;++t,++u)v[u]=h[t];for(;r<D;++r,++u)v[u]=p[r];g||(l(m),l(k));b.push(d)}1===e%2&&(g?(m=q(),ya(m,a[e-1]),b.push(m)):b.push(a[e-1]));ya(a,b);P(b);g=!1}a=n[0];P(n);return a};r.prototype.Yb=function(a){this.md=
this.Gi||1!==this.opacity||0!==this.rb;var b=this.b.canvas,f=a,e=!1;this.md&&(this.b.Zi||(this.b.Zi=document.createElement("canvas"),b=this.b.Zi,b.width=this.b.I,b.height=this.b.H,this.b.Go=b.getContext("2d"),e=!0),b=this.b.Zi,f=this.b.Go,b.width!==this.b.I&&(b.width=this.b.I,e=!0),b.height!==this.b.H&&(b.height=this.b.H,e=!0),e&&this.b.Dj(f,this.b.oa),this.$c&&f.clearRect(0,0,this.b.I,this.b.H));f.globalAlpha=1;f.globalCompositeOperation="source-over";this.$c||(f.fillStyle="rgb("+this.Kc[0]+","+
this.Kc[1]+","+this.Kc[2]+")",f.fillRect(0,0,this.b.I,this.b.H));f.save();this.xd=!0;var e=this.gb(0,0,!0,!0),m=this.gb(0,0,!1,!0);this.xd=!1;this.b.mc&&(e=Math.round(e),m=Math.round(m));this.zj(e,m,f);var k=this.Mb();f.scale(k,k);f.translate(-e,-m);this.qc?(this.ib.left=this.nb.Fb(this.T),this.ib.top=this.nb.Gb(this.U),this.ib.right=this.nb.Fb(this.Y),this.ib.bottom=this.nb.Gb(this.X),this.Wc||!this.ib.Dg(this.Uf)?(l(this.Gd),e=this.Zk(),this.Wc=!1,this.Uf.Af(this.ib)):e=this.Gd):e=this.d;for(var d,
h=null,m=0,k=e.length;m<k;++m)d=e[m],d!==h&&(this.vs(d,f),h=d);this.qc&&(this.Gd=e);f.restore();this.md&&(a.globalCompositeOperation=this.zg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};r.prototype.vs=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var f=a.fa;f.right<this.T||f.bottom<this.U||f.left>this.Y||f.top>this.X||(b.globalCompositeOperation=a.zg,a.Yb(b))}};r.prototype.Yj=function(){this.xd=!0;var a=this.gb(0,0,!0,!0),b=this.gb(0,0,!1,!0);this.xd=!1;this.b.mc&&(a=Math.round(a),
b=Math.round(b));this.zj(a,b,null)};r.prototype.zj=function(a,b,f){var e=this.Mb();this.T=a;this.U=b;this.Y=a+1/e*this.b.I;this.X=b+1/e*this.b.H;this.T>this.Y&&(a=this.T,this.T=this.Y,this.Y=a);this.U>this.X&&(a=this.U,this.U=this.X,this.X=a);a=this.Zb();0!==a&&(f&&(f.translate(this.b.I/2,this.b.H/2),f.rotate(-a),f.translate(this.b.I/-2,this.b.H/-2)),this.Td.set(this.T,this.U,this.Y,this.X),this.Td.offset((this.T+this.Y)/-2,(this.U+this.X)/-2),this.bq.Pp(this.Td,a),this.bq.un(this.Td),this.Td.offset((this.T+
this.Y)/2,(this.U+this.X)/2),this.T=this.Td.left,this.U=this.Td.top,this.Y=this.Td.right,this.X=this.Td.bottom)};r.prototype.Ef=function(a){if(this.md=this.Gi){this.b.Ua||(this.b.Ua=a.Jb(this.b.I,this.b.H,this.b.oa));if(this.b.Ua.Qe!==this.b.I||this.b.Ua.Pe!==this.b.H)a.deleteTexture(this.b.Ua),this.b.Ua=a.Jb(this.b.I,this.b.H,this.b.oa);a.Dc(this.b.Ua)}this.xd=!0;var b=this.gb(0,0,!0,!0),f=this.gb(0,0,!1,!0);this.xd=!1;this.b.mc&&(b=Math.round(b),f=Math.round(f));this.zj(b,f,null);b=this.Mb();a.Cc();
a.scale(b,b);a.Aj(-this.Zb());a.translate((this.T+this.Y)/-2,(this.U+this.X)/-2);a.pc();this.qc?(this.ib.left=this.nb.Fb(this.T),this.ib.top=this.nb.Gb(this.U),this.ib.right=this.nb.Fb(this.Y),this.ib.bottom=this.nb.Gb(this.X),this.Wc||!this.ib.Dg(this.Uf)?(l(this.Gd),b=this.Zk(),this.Wc=!1,this.Uf.Af(this.ib)):b=this.Gd):b=this.d;for(var e,m=null,f=b.length-1;0<=f;--f)e=b[f],e!==m&&(this.xs(b[f],a),m=e);this.qc&&(this.Gd=b);this.$c||(this.yk=this.b.Te++,a.Ej(this.yk),a.Jp(1,1,1),a.Un(),a.Ru())};
r.prototype.wb=function(a){var b=0,f=0;if(this.md=this.Gi||1!==this.opacity||0<this.ba.length||0!==this.rb){this.b.Ua||(this.b.Ua=a.Jb(this.b.I,this.b.H,this.b.oa));if(this.b.Ua.Qe!==this.b.I||this.b.Ua.Pe!==this.b.H)a.deleteTexture(this.b.Ua),this.b.Ua=a.Jb(this.b.I,this.b.H,this.b.oa);a.Dc(this.b.Ua);this.$c&&a.clear(0,0,0,0)}this.$c||(this.b.ma?(a.Ej(this.yk),a.Jp(this.Kc[0]/255,this.Kc[1]/255,this.Kc[2]/255),a.Un(),a.av()):a.clear(this.Kc[0]/255,this.Kc[1]/255,this.Kc[2]/255,1));this.xd=!0;var e=
this.gb(0,0,!0,!0),b=this.gb(0,0,!1,!0);this.xd=!1;this.b.mc&&(e=Math.round(e),b=Math.round(b));this.zj(e,b,null);e=this.Mb();a.Cc();a.scale(e,e);a.Aj(-this.Zb());a.translate((this.T+this.Y)/-2,(this.U+this.X)/-2);a.pc();this.qc?(this.ib.left=this.nb.Fb(this.T),this.ib.top=this.nb.Gb(this.U),this.ib.right=this.nb.Fb(this.Y),this.ib.bottom=this.nb.Gb(this.X),this.Wc||!this.ib.Dg(this.Uf)?(l(this.Gd),b=this.Zk(),this.Wc=!1,this.Uf.Af(this.ib)):b=this.Gd):b=this.d;var m,k,d=null,f=0;for(m=b.length;f<
m;++f)k=b[f],k!==d&&(this.ws(b[f],a),d=k);this.qc&&(this.Gd=b);this.md&&(b=this.ba.length?this.ba[0].Na:0,f=this.ba.length?this.ba[0].index:0,0===this.ba.length||1===this.ba.length&&!a.cm(b)&&1===this.opacity?(1===this.ba.length?(a.Tb(b),a.jg(this.Ha.Kg(),1/this.b.I,1/this.b.H,0,0,1,1,e,this.Zb(),this.T,this.U,(this.T+this.Y)/2,(this.U+this.X)/2,this.b.$b.ua,this.Ca[f]),a.uj(b)&&(this.b.da=!0)):a.Tb(0),a.Dc(this.Ha.Kg()),a.Kd(this.opacity),a.Ma(this.b.Ua),a.Ee(this.yb,this.ub),a.Cc(),a.pc(),e=this.b.I/
2,b=this.b.H/2,a.De(-e,b,e,b,e,-b,-e,-b),a.Ma(null)):this.Ha.lm(a,this,null,this.Ha.Kg()))};r.prototype.ws=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var f=a.fa;f.right<this.T||f.bottom<this.U||f.left>this.Y||f.top>this.X||(b.Ej(a.Te),a.nq?this.ys(a,b):(b.Tb(0),b.Ee(a.yb,a.ub),a.wb(b)))}};r.prototype.xs=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var f=a.fa;f.right<this.T||f.bottom<this.U||f.left>this.Y||f.top>this.X||(a.Te=this.b.Te++,0===a.rb&&1===a.opacity&&a.Ld&&
a.Ef&&(b.Ej(a.Te),a.Ef(b)))}};r.prototype.ys=function(a,b){var f=a.ba[0].Na,e=a.ba[0].index,m=this.Mb();if(1!==a.ba.length||b.cm(f)||b.Mu(f)||(a.j||a.i.Zb())&&b.yh(f)||1!==a.opacity||a.type.ka.fp)this.Ha.lm(b,this,a,this.md?this.b.Ua:this.Ha.Kg()),b.Cc(),b.scale(m,m),b.Aj(-this.Zb()),b.translate((this.T+this.Y)/-2,(this.U+this.X)/-2),b.pc();else{b.Tb(f);b.Ee(a.yb,a.ub);b.uj(f)&&(this.b.da=!0);var k=0,d=0,h=0,p=0;b.yh(f)&&(p=a.fa,k=this.xa(p.left,p.top,!0,!0),d=this.xa(p.left,p.top,!1,!0),h=this.xa(p.right,
p.bottom,!0,!0),p=this.xa(p.right,p.bottom,!1,!0),k=k/windowWidth,d=1-d/windowHeight,h=h/windowWidth,p=1-p/windowHeight);var l;a.hb&&a.hb.S?(l=a.hb.S,f=1/l.width,l=1/l.height):(f=1/a.width,l=1/a.height);b.jg(this.md?this.b.Ua:this.Ha.Kg(),f,l,k,d,h,p,m,this.Zb(),this.T,this.U,(this.T+this.Y)/2,(this.U+this.X)/2,this.b.$b.ua,a.Ca[e]);a.wb(b)}};r.prototype.gb=function(a,b,f,e){var m=this.b.devicePixelRatio;this.b.Ze&&(a*=m,b*=m);var m=this.b.sp,k=this.b.tp,m=(this.Ha.scrollX-m)*this.zc+m,k=(this.Ha.scrollY-
k)*this.Ac+k,d=m,h=k,p=1/this.Mb(!e);e?(d-=this.b.I*p/2,h-=this.b.H*p/2):(d-=this.b.width*p/2,h-=this.b.height*p/2);d+=a*p;h+=b*p;b=this.Zb();0!==b&&(d-=m,h-=k,a=Math.cos(b),b=Math.sin(b),e=d*a-h*b,h=h*a+d*b,d=e+m,h+=k);return f?d:h};r.prototype.xa=function(a,b,f,e){var m=this.b.sp,k=this.b.tp,d=(this.Ha.scrollX-m)*this.zc+m,h=(this.Ha.scrollY-k)*this.Ac+k,k=d,m=h,p=this.Zb();if(0!==p){a-=d;b-=h;var l=Math.cos(-p),p=Math.sin(-p),n=a*l-b*p;b=b*l+a*p;a=n+d;b+=h}d=1/this.Mb(!e);e?(k-=this.b.I*d/2,m-=
this.b.H*d/2):(k-=this.b.width*d/2,m-=this.b.height*d/2);k=(a-k)/d;m=(b-m)/d;a=this.b.devicePixelRatio;this.b.Ze&&!e&&(k/=a,m/=a);return f?k:m};r.prototype.ob=function(){var a,b,f,e={s:this.scale,a:this.j,vl:this.T,vt:this.U,vr:this.Y,vb:this.X,v:this.visible,bc:this.Kc,t:this.$c,px:this.zc,py:this.Ac,o:this.opacity,zr:this.dd,fx:[],cg:this.Bg,instances:[]};a=0;for(b=this.L.length;a<b;a++)f=this.L[a],e.fx.push({name:f.name,active:f.ab,params:this.Ca[f.index]});return e};r.prototype.Ab=function(a){var b,
f,e;this.scale=a.s;this.j=a.a;this.T=a.vl;this.U=a.vt;this.Y=a.vr;this.X=a.vb;this.visible=a.v;this.Kc=a.bc;this.$c=a.t;this.zc=a.px;this.Ac=a.py;this.opacity=a.o;this.dd=a.zr;this.Bg=a.cg||[];ya(this.jc,this.Xp);var m=new ba;b=0;for(e=this.Bg.length;b<e;++b)m.add(this.Bg[b]);f=b=0;for(e=this.jc.length;b<e;++b)m.contains(this.jc[b][2])||(this.jc[f]=this.jc[b],++f);xa(this.jc,f);f=a.fx;b=0;for(e=f.length;b<e;b++)if(a=this.Vk(f[b].name))a.ab=f[b].active,this.Ca[a.index]=f[b].params;this.ad();this.d.sort(t);
this.uf=!0};Pb=r})();
(function(){function d(a,e){var b,c=a.length;switch(c){case 0:return!0;case 1:return a[0]===e[0];case 2:return a[0]===e[0]&&a[1]===e[1];default:for(b=0;b<c;b++)if(a[b]!==e[b])return!1;return!0}}function t(a,e){return a.index-e.index}function r(a){var e,b,c,f;2===a.length?a[0].index>a[1].index&&(e=a[0],a[0]=a[1],a[1]=e):2<a.length&&a.sort(t);a.length>=m.length&&(m.length=a.length+1);m[a.length]||(m[a.length]=[]);f=m[a.length];e=0;for(b=f.length;e<b;e++)if(c=f[e],d(a,c))return c;f.push(a);return a}
function q(a,e){this.b=a;this.dq={};this.Qn={};this.el=!1;this.mo=new ba;this.Dk=[];this.mk=[];this.name=e[0];var b=e[1];this.me=[];var c,f;c=0;for(f=b.length;c<f;c++)this.oo(b[c],null,this.me)}function l(a){this.type=a;this.d=[];this.R=[];this.la=!0}function u(a,e,b){this.sheet=a;this.parent=e;this.b=a.b;this.ta=[];this.He=[];this.lo=this.Tj=this.Hm=this.hl=this.group=this.Vp=!1;this.sb=[];this.Ic=[];this.Ec=[];this.Ng="";this.Mf=this.hl=this.group=!1;this.pi=null;b[1]&&(this.Ng=b[1][1].toLowerCase(),
this.group=!0,this.hl=!!b[1][0],this.pi=[],this.Mf=this.hl,this.b.yf.push(this),this.b.Og[this.Ng]=this);this.yc=b[2];this.V=b[4];this.group||(this.b.tn[this.V.toString()]=this);var c=b[5];a=0;for(e=c.length;a<e;a++){var f=new Qb(this,c[a]);f.index=a;this.sb.push(f);this.nn(f.type)}c=b[6];a=0;for(e=c.length;a<e;a++)f=new Rb(this,c[a]),f.index=a,this.Ic.push(f);if(8===b.length)for(b=b[7],a=0,e=b.length;a<e;a++)this.sheet.oo(b[a],this,this.Ec);this.Ti=!1;this.sb.length&&(this.Ti=null==this.sb[0].type&&
this.sb[0].jb==W.prototype.k.Bq)}function k(a,e){var b,c,f;if(a&&(-1===e.indexOf(a)&&e.push(a),a.Qb))for(b=0,c=a.Xb.length;b<c;b++)f=a.Xb[b],a!==f&&-1===e.indexOf(f)&&e.push(f)}function a(a,e){this.hc=a;this.sheet=a.sheet;this.b=a.b;this.Q=[];this.Da=[];this.ca={};this.index=-1;this.ug=!1;this.jb=this.b.Yd(e[1]);this.trigger=0<e[3];this.Pn=2===e[3];this.Oi=e[5];this.lu=e[6];this.V=e[7];this.b.ie[this.V.toString()]=this;-1===e[0]?(this.type=null,this.Ya=this.qm,this.Oe=null,this.Mc=-1):(this.type=
this.b.q[e[0]],this.Ya=this.lu?this.Wu:this.pm,e[2]?(this.Oe=this.type.Ii(e[2]),this.Mc=this.type.Tk(e[2])):(this.Oe=null,this.Mc=-1),this.hc.parent&&this.hc.parent.Fj());this.Pn&&(this.Ya=this.Xu);if(10===e.length){var b,c,f=e[9];b=0;for(c=f.length;b<c;b++){var m=new Sb(this,f[b]);this.Q.push(m)}this.Da.length=f.length}}function b(a,e){this.hc=a;this.sheet=a.sheet;this.b=a.b;this.Q=[];this.Da=[];this.ca={};this.index=-1;this.ug=!1;this.jb=this.b.Yd(e[1]);-1===e[0]?(this.type=null,this.Ya=this.qm,
this.Oe=null,this.Mc=-1):(this.type=this.b.q[e[0]],this.Ya=this.pm,e[2]?(this.Oe=this.type.Ii(e[2]),this.Mc=this.type.Tk(e[2])):(this.Oe=null,this.Mc=-1));this.V=e[3];this.b.$d[this.V.toString()]=this;if(6===e.length){var b,c,f=e[5];b=0;for(c=f.length;b<c;b++){var m=new Sb(this,f[b]);this.Q.push(m)}this.Da.length=f.length}}function n(){J++;y.length===J&&y.push(new Tb);return y[J]}function c(a,e){this.pa=a;this.hc=a.hc;this.sheet=a.sheet;this.b=a.b;this.type=e[0];this.hd=null;this.Qd=0;this.get=null;
this.Dn=0;this.Ha=null;this.key=0;this.object=null;this.index=0;this.Ph=this.sf=this.Ph=this.sf=this.Sn=this.Ve=this.Qh=null;this.Gc=!1;var b,c,f;switch(e[0]){case 0:case 7:this.hd=new Ub(this,e[1]);this.Qd=0;this.get=this.Ht;break;case 1:this.hd=new Ub(this,e[1]);this.Qd=0;this.get=this.It;break;case 5:this.hd=new Ub(this,e[1]);this.Qd=0;this.get=this.Mt;break;case 3:case 8:this.Dn=e[1];this.get=this.Ft;break;case 6:this.Ha=this.b.Fl[e[1]];this.get=this.Nt;break;case 9:this.key=e[1];this.get=this.Lt;
break;case 4:this.object=this.b.q[e[1]];this.get=this.Ot;this.hc.nn(this.object);this.pa instanceof Rb?this.hc.Fj():this.hc.parent&&this.hc.parent.Fj();break;case 10:this.index=e[1];a.type&&a.type.B?(this.get=this.Jt,this.Gc=!0):this.get=this.Kt;break;case 11:this.Qh=e[1];this.Ve=null;this.get=this.Gt;break;case 2:case 12:this.Sn=e[1];this.get=this.Et;break;case 13:for(this.get=this.Pt,this.sf=[],this.Ph=[],b=1,c=e.length;b<c;b++)f=new Sb(this.pa,e[b]),this.sf.push(f),this.Ph.push(0)}}function g(a,
e,b){this.sheet=a;this.parent=e;this.b=a.b;this.ta=[];this.name=b[1];this.Zj=b[2];this.gl=b[3];this.Yg=!!b[4];this.Si=!!b[5];this.V=b[6];this.b.sg[this.V.toString()]=this;this.data=this.gl;this.parent?(this.kf=this.Yg||this.Si?-1:this.b.dv++,this.b.Jr.push(this)):(this.kf=-1,this.b.Ir.push(this))}function f(a,e,b){this.sheet=a;this.parent=e;this.b=a.b;this.ta=[];this.Qg=null;this.Ut=b[1];this.ab=!0}function e(){this.Yp=[];this.reset(null)}var m=[];q.prototype.toString=function(){return this.name};
q.prototype.oo=function(a,e,b){switch(a[0]){case 0:a=new Vb(this,e,a);if(a.yc)for(b.push(a),b=0,e=a.sb.length;b<e;b++)a.sb[b].trigger&&this.po(a,b);else a.yo()?this.po(a,0):b.push(a);break;case 1:a=new Mb(this,e,a);b.push(a);break;case 2:a=new Wb(this,e,a),b.push(a)}};q.prototype.Ia=function(){var a,e;a=0;for(e=this.me.length;a<e;a++)this.me[a].Ia(a<e-1&&this.me[a+1].Ti)};q.prototype.Mm=function(){P(this.Dk);P(this.mk);this.mn(this);P(this.mk)};q.prototype.mn=function(a){var e,b,c,f,m=a.Dk,k=a.mk,
d=this.mo.qd();e=0;for(b=d.length;e<b;++e)c=d[e],f=c.Qg,!c.ab||a===f||-1<k.indexOf(f)||(k.push(f),f.mn(a),m.push(f))};q.prototype.Ya=function(a){this.b.Mw||(this.el=!0,a||(this.b.tl=!0));var e,b;e=0;for(b=this.me.length;e<b;e++){var c=this.me[e];c.Ya();this.b.xk(c.ta);this.b.oe&&this.b.qb()}a||(this.b.tl=!1)};q.prototype.po=function(a,e){a.yc||this.b.Vj.push(a);var b,c,f=a.sb[e],m;f.type?m=f.type.name:m="system";var k=(b=f.Pn)?this.Qn:this.dq;k[m]||(k[m]=[]);m=k[m];k=f.jb;if(b){if(f.Q.length&&(f=
f.Q[0],1===f.type&&2===f.hd.type)){f=f.hd.value.toLowerCase();b=0;for(c=m.length;b<c;b++)if(m[b].method==k){b=m[b].Eg;b[f]?b[f].push([a,e]):b[f]=[[a,e]];return}b={};b[f]=[[a,e]];m.push({method:k,Eg:b})}}else{b=0;for(c=m.length;b<c;b++)if(m[b].method==k){m[b].Eg.push([a,e]);return}X&&k===X.prototype.k.xf?m.unshift({method:k,Eg:[[a,e]]}):m.push({method:k,Eg:[[a,e]]})}};Cb=q;l.prototype.dl=function(){return this.la?this.type.d.length:this.d.length};l.prototype.uc=function(){return this.la?this.type.d:
this.d};l.prototype.xh=function(a){a&&(a.b.kb().Kb.yc?(this.la&&(P(this.d),ya(this.R,a.type.d),this.la=!1),a=this.R.indexOf(a),-1!==a&&(this.d.push(this.R[a]),this.R.splice(a,1))):(this.la=!1,P(this.d),this.d[0]=a))};jb=l;window._c2hh_="189BF63191E29A43747095FF656474172E7DF1B8";u.prototype.Ia=function(a){var e,b=this.parent;if(this.group)for(this.Tj=!0;b;){if(!b.group){this.Tj=!1;break}b=b.parent}this.Hm=!this.yo()&&(!this.parent||this.parent.group&&this.parent.Tj);this.lo=!!a;this.He=this.ta.slice(0);
for(b=this.parent;b;){a=0;for(e=b.ta.length;a<e;a++)this.Fr(b.ta[a]);b=b.parent}this.ta=r(this.ta);this.He=r(this.He);a=0;for(e=this.sb.length;a<e;a++)this.sb[a].Ia();a=0;for(e=this.Ic.length;a<e;a++)this.Ic[a].Ia();a=0;for(e=this.Ec.length;a<e;a++)this.Ec[a].Ia(a<e-1&&this.Ec[a+1].Ti)};u.prototype.$u=function(a){if(this.Mf!==!!a){this.Mf=!!a;var e;a=0;for(e=this.pi.length;a<e;++a)this.pi[a].jq();0<e&&this.b.na.Ue&&this.b.na.Ue.Mm()}};u.prototype.nn=function(a){k(a,this.ta)};u.prototype.Fr=function(a){k(a,
this.He)};u.prototype.Fj=function(){this.Vp=!0;this.parent&&this.parent.Fj()};u.prototype.yo=function(){return this.sb.length?this.sb[0].trigger:!1};u.prototype.Ya=function(){var a,e,b=!1,c=this.b,f=this.b.kb();f.Kb=this;var m=this.sb;this.Ti||(f.Ik=!1);if(this.yc){0===m.length&&(b=!0);f.Ib=0;for(a=m.length;f.Ib<a;f.Ib++)e=m[f.Ib],e.trigger||(e=e.Ya())&&(b=!0);(f.bf=b)&&this.om()}else{f.Ib=0;for(a=m.length;f.Ib<a;f.Ib++)if(e=m[f.Ib].Ya(),!e){f.bf=!1;this.Hm&&c.oe&&c.qb();return}f.bf=!0;this.om()}this.Cs(f)};
u.prototype.Cs=function(a){a.bf&&this.lo&&(a.Ik=!0);this.Hm&&this.b.oe&&this.b.qb()};u.prototype.Uu=function(a){this.b.kb().Kb=this;this.sb[a].Ya()&&(this.om(),this.b.kb().bf=!0)};u.prototype.om=function(){var a=this.b.kb(),e;a.Vb=0;for(e=this.Ic.length;a.Vb<e;a.Vb++)if(this.Ic[a.Vb].Ya())return;this.Hp()};u.prototype.Su=function(){var a=this.b.kb(),e;for(e=this.Ic.length;a.Vb<e;a.Vb++)if(this.Ic[a.Vb].Ya())return;this.Hp()};u.prototype.Hp=function(){if(this.Ec.length){var a,e,b,c,f=this.Ec.length-
1;this.b.fm(this);if(this.Vp)for(a=0,e=this.Ec.length;a<e;a++)b=this.Ec[a],(c=!this.Tj||!this.group&&a<f)&&this.b.em(b.ta),b.Ya(),c?this.b.eg(b.ta):this.b.xk(b.ta);else for(a=0,e=this.Ec.length;a<e;a++)this.Ec[a].Ya();this.b.xp()}};u.prototype.Vu=function(){var a=this.b.kb();a.Kb=this;var e=!1,b;a.Ib=0;for(b=this.sb.length;a.Ib<b;a.Ib++)if(this.sb[a.Ib].Ya())e=!0;else if(!this.yc)return!1;return this.yc?e:!0};u.prototype.fu=function(a){var e=a.index;if(0===e)return!0;for(--e;0<=e;--e)if(this.sb[e].type===
a.type)return!1;return!0};Vb=u;a.prototype.Ia=function(){var a,e,b;a=0;for(e=this.Q.length;a<e;a++)b=this.Q[a],b.Ia(),b.Gc&&(this.ug=!0)};a.prototype.Xu=function(){return!0};a.prototype.qm=function(){var a,e;a=0;for(e=this.Q.length;a<e;a++)this.Da[a]=this.Q[a].get();return Pa(this.jb.apply(this.b.nd,this.Da),this.Oi)};a.prototype.Wu=function(){var a,e;a=0;for(e=this.Q.length;a<e;a++)this.Da[a]=this.Q[a].get();a=this.jb.apply(this.Oe?this.Oe:this.type,this.Da);this.type.sd();return a};a.prototype.pm=
function(){var a,e,b,c,f,m,k,d,g=this.type,l=g.ea(),n=this.hc.yc&&!this.trigger;e=0;var q=g.Qb,t=g.B,y=g.zd,r=this.Mc,u=-1<r,J=this.ug,w=this.Q,z=this.Da,C=this.Oi,N=this.jb,E;if(J)for(e=0,f=w.length;e<f;++e)m=w[e],m.Gc||(z[e]=m.get(0));else for(e=0,f=w.length;e<f;++e)z[e]=w[e].get(0);if(l.la){P(l.d);P(l.R);E=g.d;a=0;for(c=E.length;a<c;++a){d=E[a];if(J)for(e=0,f=w.length;e<f;++e)m=w[e],m.Gc&&(z[e]=m.get(a));u?(e=0,t&&(e=d.type.If[y]),e=N.apply(d.J[r+e],z)):e=N.apply(d,z);(k=Pa(e,C))?l.d.push(d):n&&
l.R.push(d)}g.finish&&g.finish(!0);l.la=!1;g.sd();return l.dl()}b=0;E=(k=n&&!this.hc.fu(this))?l.R:l.d;var L=!1;a=0;for(c=E.length;a<c;++a){d=E[a];if(J)for(e=0,f=w.length;e<f;++e)m=w[e],m.Gc&&(z[e]=m.get(a));u?(e=0,t&&(e=d.type.If[y]),e=N.apply(d.J[r+e],z)):e=N.apply(d,z);if(Pa(e,C))if(L=!0,k){if(l.d.push(d),q)for(e=0,f=d.siblings.length;e<f;e++)m=d.siblings[e],m.type.ea().d.push(m)}else{E[b]=d;if(q)for(e=0,f=d.siblings.length;e<f;e++)m=d.siblings[e],m.type.ea().d[b]=m;b++}else if(k){E[b]=d;if(q)for(e=
0,f=d.siblings.length;e<f;e++)m=d.siblings[e],m.type.ea().R[b]=m;b++}else if(n&&(l.R.push(d),q))for(e=0,f=d.siblings.length;e<f;e++)m=d.siblings[e],m.type.ea().R.push(m)}xa(E,b);if(q)for(t=g.Xb,a=0,c=t.length;a<c;a++)d=t[a].ea(),k?xa(d.R,b):xa(d.d,b);b=L;if(k&&!L)for(a=0,c=l.d.length;a<c;a++){d=l.d[a];if(J)for(e=0,f=w.length;e<f;e++)m=w[e],m.Gc&&(z[e]=m.get(a));e=u?N.apply(d.J[r],z):N.apply(d,z);if(Pa(e,C)){L=!0;break}}g.finish&&g.finish(b||n);return n?L:l.dl()};Qb=a;b.prototype.Ia=function(){var a,
e,b;a=0;for(e=this.Q.length;a<e;a++)b=this.Q[a],b.Ia(),b.Gc&&(this.ug=!0)};b.prototype.qm=function(){var a=this.b,e,b,c=this.Q,f=this.Da;e=0;for(b=c.length;e<b;++e)f[e]=c[e].get();return this.jb.apply(a.nd,f)};b.prototype.pm=function(){var a=this.type,e=this.Mc,b=a.zd,c=this.ug,f=this.Q,m=this.Da,k=this.jb,d=a.ea().uc(),a=a.B,g=-1<e,l,n,q,t,y,r;if(c)for(n=0,t=f.length;n<t;++n)y=f[n],y.Gc||(m[n]=y.get(0));else for(n=0,t=f.length;n<t;++n)m[n]=f[n].get(0);l=0;for(q=d.length;l<q;++l){r=d[l];if(c)for(n=
0,t=f.length;n<t;++n)y=f[n],y.Gc&&(m[n]=y.get(l));g?(n=0,a&&(n=r.type.If[b]),k.apply(r.J[e+n],m)):k.apply(r,m)}return!1};Rb=b;var y=[],J=-1;c.prototype.Ia=function(){var a,e;if(11===this.type)this.Ve=this.b.$n(this.Qh,this.hc.parent);else if(13===this.type)for(a=0,e=this.sf.length;a<e;a++)this.sf[a].Ia();this.hd&&this.hd.Ia()};c.prototype.qu=function(a){this.Gc||!a||a.ka.Hj||(this.Gc=!0)};c.prototype.Np=function(){this.Gc=!0};c.prototype.Ht=function(a){this.Qd=a||0;a=n();this.hd.get(a);J--;return a.data};
c.prototype.It=function(a){this.Qd=a||0;a=n();this.hd.get(a);J--;return x(a.data)?a.data:""};c.prototype.Ot=function(){return this.object};c.prototype.Ft=function(){return this.Dn};c.prototype.Mt=function(a){this.Qd=a||0;a=n();this.hd.get(a);J--;return a.cb()?this.b.Jg(a.data):this.b.Yk(a.data)};c.prototype.Nt=function(){return this.Ha};c.prototype.Lt=function(){return this.key};c.prototype.Kt=function(){return this.index};c.prototype.Jt=function(a){a=a||0;var e=this.pa.type,b=null,b=e.ea(),c=b.uc();
if(c.length)b=c[a%c.length].type;else if(b.R.length)b=b.R[a%b.R.length].type;else if(e.d.length)b=e.d[a%e.d.length].type;else return 0;return this.index+b.Bi[e.zd]};c.prototype.Gt=function(){return this.Ve};c.prototype.Et=function(){return this.Sn};c.prototype.Pt=function(){var a,e;a=0;for(e=this.sf.length;a<e;a++)this.Ph[a]=this.sf[a].get();return this.Ph};Sb=c;g.prototype.Ia=function(){this.ta=r(this.ta)};g.prototype.rf=function(a){var e=this.b.Zn();this.parent&&!this.Yg&&e?(this.kf>=e.length&&
(e.length=this.kf+1),e[this.kf]=a):this.data=a};g.prototype.Lg=function(){var a=this.b.Zn();return!this.parent||this.Yg||!a||this.Si?this.data:this.kf>=a.length||"undefined"===typeof a[this.kf]?this.gl:a[this.kf]};g.prototype.Ya=function(){!this.parent||this.Yg||this.Si||this.rf(this.gl)};Mb=g;f.prototype.toString=function(){return"include:"+this.Qg.toString()};f.prototype.Ia=function(){this.Qg=this.b.Kk[this.Ut];this.sheet.mo.add(this);this.ta=r(this.ta);for(var a=this.parent;a;)a.group&&a.pi.push(this),
a=a.parent;this.jq()};f.prototype.Ya=function(){this.parent&&this.b.Ah(this.b.q);this.Qg.el||this.Qg.Ya(!0);this.parent&&this.b.eg(this.b.q)};f.prototype.jq=function(){for(var a=this.parent;a;){if(a.group&&!a.Mf){this.ab=!1;return}a=a.parent}this.ab=!0};Wb=f;e.prototype.reset=function(a){this.Kb=a;this.Vb=this.Ib=0;P(this.Yp);this.Ik=this.bf=!1};Lb=e})();
(function(){function d(k,a){this.pa=k;this.b=k.b;this.type=a[0];this.get=[this.Us,this.Qs,this.dt,this.ht,this.Fs,this.et,this.Ys,this.Ns,this.Xs,this.ct,this.Gs,this.bt,this.Os,this.Zs,this.Vs,this.Ws,this.Rs,this.Ss,this.Ms,this.gt,this.$s,this.Ts,this.Ls,this.Ps][this.type];var b=null;this.Hd=this.Q=this.Da=this.jb=this.Sj=this.second=this.first=this.value=null;this.Mc=-1;this.Pc=null;this.oq=-1;this.Ve=this.Qh=null;this.ig=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Ub(k,a[1]);break;case 18:this.first=new Ub(k,a[1]);this.second=new Ub(k,a[2]);this.Sj=new Ub(k,a[3]);break;case 19:this.jb=this.b.Yd(a[1]);this.jb!==W.prototype.Ja.random&&this.jb!==W.prototype.Ja.Tr||this.pa.Np();this.Da=[];this.Q=[];3===a.length?(b=a[2],this.Da.length=b.length+1):this.Da.length=1;break;case 20:this.Hd=this.b.q[a[1]];this.Mc=-1;this.jb=this.b.Yd(a[2]);this.ig=a[3];Zb.Function&&this.jb===Zb.Function.prototype.Ja.wv&&this.pa.Np();a[4]?this.Pc=new Ub(k,a[4]):this.Pc=null;this.Da=
[];this.Q=[];6===a.length?(b=a[5],this.Da.length=b.length+1):this.Da.length=1;break;case 21:this.Hd=this.b.q[a[1]];this.ig=a[2];a[3]?this.Pc=new Ub(k,a[3]):this.Pc=null;this.oq=a[4];break;case 22:this.Hd=this.b.q[a[1]];this.Hd.Ii(a[2]);this.Mc=this.Hd.Tk(a[2]);this.jb=this.b.Yd(a[3]);this.ig=a[4];a[5]?this.Pc=new Ub(k,a[5]):this.Pc=null;this.Da=[];this.Q=[];7===a.length?(b=a[6],this.Da.length=b.length+1):this.Da.length=1;break;case 23:this.Qh=a[1],this.Ve=null}this.pa.qu(this.Hd);4<=this.type&&17>=
this.type&&(this.first=new Ub(k,a[1]),this.second=new Ub(k,a[2]));if(b){var d,c;d=0;for(c=b.length;d<c;d++)this.Q.push(new Ub(k,b[d]))}}function t(){++u;l.length===u&&l.push(new Tb);return l[u]}function r(k,a,b){var d,c;d=0;for(c=k.length;d<c;++d)k[d].get(b),a[d+1]=b.data}function q(k,a){this.type=k||Xb.wf;this.data=a||0;this.mf=null;this.type==Xb.wf&&(this.data=Math.floor(this.data))}d.prototype.Ia=function(){23===this.type&&(this.Ve=this.pa.b.$n(this.Qh,this.pa.hc.parent));this.first&&this.first.Ia();
this.second&&this.second.Ia();this.Sj&&this.Sj.Ia();this.Pc&&this.Pc.Ia();if(this.Q){var k,a;k=0;for(a=this.Q.length;k<a;k++)this.Q[k].Ia()}};var l=[],u=-1;d.prototype.gt=function(k){var a=this.Q,b=this.Da;b[0]=k;k=t();r(a,b,k);--u;this.jb.apply(this.b.nd,b)};d.prototype.$s=function(k){var a=this.Hd,b=this.Da,d=this.Q,c=this.Pc,g=this.jb,f=this.pa.Qd,e=a.ea(),m=e.uc();if(!m.length)if(e.R.length)m=e.R;else{this.ig?k.gc(""):k.qa(0);return}b[0]=k;k.mf=a;k=t();r(d,b,k);c&&(c.get(k),k.cb()&&(f=k.data,
m=a.d));--u;a=m.length;if(f>=a||f<=-a)f%=a;0>f&&(f+=a);g.apply(m[f],b)};d.prototype.Ls=function(k){var a=this.Hd,b=this.Da,d=this.Q,c=this.Pc,g=this.Mc,f=this.jb,e=this.pa.Qd,m=a.ea(),l=m.uc();if(!l.length)if(m.R.length)l=m.R;else{this.ig?k.gc(""):k.qa(0);return}b[0]=k;k.mf=a;k=t();r(d,b,k);c&&(c.get(k),k.cb()&&(e=k.data,l=a.d));--u;d=l.length;if(e>=d||e<=-d)e%=d;0>e&&(e+=d);e=l[e];l=0;a.B&&(l=e.type.If[a.zd]);f.apply(e.J[g+l],b)};d.prototype.Ts=function(k){var a=this.Pc,b=this.Hd,d=this.oq,c=this.pa.Qd,
g=b.ea(),f=g.uc();if(!f.length)if(g.R.length)f=g.R;else{this.ig?k.gc(""):k.qa(0);return}if(a){g=t();a.get(g);if(g.cb()){c=g.data;f=b.d;0!==f.length&&(c%=f.length,0>c&&(c+=f.length));c=b.Xk(c);b=c.Ta[d];x(b)?k.gc(b):k.D(b);--u;return}--u}a=f.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=f[c];f=0;b.B&&(f=c.type.Bi[b.zd]);b=c.Ta[d+f];x(b)?k.gc(b):k.D(b)};d.prototype.Us=function(k){k.type=Xb.wf;k.data=this.value};d.prototype.Qs=function(k){k.type=Xb.vf;k.data=this.value};d.prototype.dt=function(k){k.type=
Xb.String;k.data=this.value};d.prototype.ht=function(k){this.first.get(k);k.cb()&&(k.data=-k.data)};d.prototype.Fs=function(k){this.first.get(k);var a=t();this.second.get(a);k.cb()&&a.cb()&&(k.data+=a.data,a.Of()&&k.Yf());--u};d.prototype.et=function(k){this.first.get(k);var a=t();this.second.get(a);k.cb()&&a.cb()&&(k.data-=a.data,a.Of()&&k.Yf());--u};d.prototype.Ys=function(k){this.first.get(k);var a=t();this.second.get(a);k.cb()&&a.cb()&&(k.data*=a.data,a.Of()&&k.Yf());--u};d.prototype.Ns=function(k){this.first.get(k);
var a=t();this.second.get(a);k.cb()&&a.cb()&&(k.data/=a.data,k.Yf());--u};d.prototype.Xs=function(k){this.first.get(k);var a=t();this.second.get(a);k.cb()&&a.cb()&&(k.data%=a.data,a.Of()&&k.Yf());--u};d.prototype.ct=function(k){this.first.get(k);var a=t();this.second.get(a);k.cb()&&a.cb()&&(k.data=Math.pow(k.data,a.data),a.Of()&&k.Yf());--u};d.prototype.Gs=function(k){this.first.get(k);var a=t();this.second.get(a);a.Qf()||k.Qf()?this.Is(k,a):this.Hs(k,a);--u};d.prototype.Is=function(k,a){k.Qf()&&
a.Qf()?this.Ks(k,a):this.Js(k,a)};d.prototype.Ks=function(k,a){k.data+=a.data};d.prototype.Js=function(k,a){k.Qf()?k.data+=(Math.round(1E10*a.data)/1E10).toString():k.gc(k.data.toString()+a.data)};d.prototype.Hs=function(k,a){k.qa(k.data&&a.data?1:0)};d.prototype.bt=function(k){this.first.get(k);var a=t();this.second.get(a);k.cb()&&a.cb()&&(k.data||a.data?k.qa(1):k.qa(0));--u};d.prototype.Ms=function(k){this.first.get(k);k.data?this.second.get(k):this.Sj.get(k)};d.prototype.Os=function(k){this.first.get(k);
var a=t();this.second.get(a);k.qa(k.data===a.data?1:0);--u};d.prototype.Zs=function(k){this.first.get(k);var a=t();this.second.get(a);k.qa(k.data!==a.data?1:0);--u};d.prototype.Vs=function(k){this.first.get(k);var a=t();this.second.get(a);k.qa(k.data<a.data?1:0);--u};d.prototype.Ws=function(k){this.first.get(k);var a=t();this.second.get(a);k.qa(k.data<=a.data?1:0);--u};d.prototype.Rs=function(k){this.first.get(k);var a=t();this.second.get(a);k.qa(k.data>a.data?1:0);--u};d.prototype.Ss=function(k){this.first.get(k);
var a=t();this.second.get(a);k.qa(k.data>=a.data?1:0);--u};d.prototype.Ps=function(k){var a=this.Ve.Lg();ga(a)?k.D(a):k.gc(a)};Ub=d;q.prototype.Of=function(){return this.type===Xb.vf};q.prototype.cb=function(){return this.type===Xb.wf||this.type===Xb.vf};q.prototype.Qf=function(){return this.type===Xb.String};q.prototype.Yf=function(){this.Of()||(this.Qf()&&(this.data=parseFloat(this.data)),this.type=Xb.vf)};q.prototype.qa=function(k){this.type=Xb.wf;this.data=Math.floor(k)};q.prototype.D=function(k){this.type=
Xb.vf;this.data=k};q.prototype.gc=function(k){this.type=Xb.String;this.data=k};q.prototype.bv=function(k){ga(k)?(this.type=Xb.vf,this.data=k):x(k)?(this.type=Xb.String,this.data=k.toString()):(this.type=Xb.wf,this.data=0)};Tb=q;Xb={wf:0,vf:1,String:2}})();function W(d){this.b=d;this.Ub=[]}
W.prototype.ob=function(){var d={},t,r,q,l,u,k,a,b;d.waits=[];var n=d.waits,c;t=0;for(r=this.Ub.length;t<r;t++){k=this.Ub[t];c={t:k.time,st:k.Tp,s:k.Am,ev:k.Gf.V,sm:[],sols:{}};k.Gf.Ic[k.Vb]&&(c.act=k.Gf.Ic[k.Vb].V);q=0;for(l=k.ta.length;q<l;q++)c.sm.push(k.ta[q].V);for(u in k.Db)if(k.Db.hasOwnProperty(u)){a=this.b.q[parseInt(u,10)];b={sa:k.Db[u].Bj,insts:[]};q=0;for(l=k.Db[u].Cd.length;q<l;q++)b.insts.push(k.Db[u].Cd[q].uid);c.sols[a.V.toString()]=b}n.push(c)}return d};
W.prototype.Ab=function(d){d=d.waits;var t,r,q,l,u,k,a,b,n,c,g;P(this.Ub);t=0;for(r=d.length;t<r;t++)if(k=d[t],b=this.b.tn[k.ev.toString()]){n=-1;q=0;for(l=b.Ic.length;q<l;q++)if(b.Ic[q].V===k.act){n=q;break}if(-1!==n){a={Db:{},ta:[],Fk:!1};a.time=k.t;a.Tp=k.st||"";a.Am=!!k.s;a.Gf=b;a.Vb=n;q=0;for(l=k.sm.length;q<l;q++)(b=this.b.Ki(k.sm[q]))&&a.ta.push(b);for(u in k.sols)if(k.sols.hasOwnProperty(u)&&(b=this.b.Ki(parseInt(u,10)))){n=k.sols[u];c={Bj:n.sa,Cd:[]};q=0;for(l=n.insts.length;q<l;q++)(g=this.b.co(n.insts[q]))&&
c.Cd.push(g);a.Db[b.index.toString()]=c}this.Ub.push(a)}}};
(function(){function d(){}function t(){}function r(){}var q=W.prototype;d.prototype.Cq=function(){return!0};d.prototype.Wm=function(){return!0};d.prototype.Yq=function(){return!0};d.prototype.yq=function(k,a,b){return Yb(k.Lg(),a,b)};d.prototype.Hq=function(k){return(k=this.b.Og[k.toLowerCase()])&&k.Mf};d.prototype.Bq=function(){var k=this.b.kb();return k.Ik?!1:!k.bf};d.prototype.Xm=function(){return!0};d.prototype.Qq=function(){return!0};d.prototype.ek=function(){return!0};d.prototype.an=function(){return!0};
d.prototype.Zq=function(){return!0};d.prototype.Xh=function(){return!0};d.prototype.tq=function(k,a,b){return La(U(k),U(b))<=U(a)};d.prototype.Gq=function(k,a){return Na(U(k),U(a))};d.prototype.Fq=function(k,a,b){k=Ja(k);a=Ja(a);b=Ja(b);return Na(b,a)?Na(k,a)&&!Na(k,b):!(!Na(k,a)&&Na(k,b))};q.k=new d;t.prototype.zq=function(k,a,b,d){if(a&&k&&(a=this.b.Fn(k,a,b,d))){this.b.Rc++;var c;this.b.trigger(Object.getPrototypeOf(k.ka).k.Wh,a);if(a.Qb)for(b=0,d=a.siblings.length;b<d;b++)c=a.siblings[b],this.b.trigger(Object.getPrototypeOf(c.type.ka).k.Wh,
c);this.b.Rc--;k=k.ea();k.la=!1;P(k.d);k.d[0]=a;if(a.Qb)for(b=0,d=a.siblings.length;b<d;b++)c=a.siblings[b],k=c.type.ea(),k.la=!1,P(k.d),k.d[0]=c}};t.prototype.rr=function(d,a){0===d.Zj?ga(a)?d.rf(a):d.rf(parseFloat(a)):1===d.Zj&&d.rf(a.toString())};t.prototype.rq=function(d,a){0===d.Zj?ga(a)?d.rf(d.Lg()+a):d.rf(d.Lg()+parseFloat(a)):1===d.Zj&&d.rf(d.Lg()+a.toString())};var l=[],u=[];t.prototype.Br=function(d){if(!(0>d)){var a,b,n,c=this.b.kb(),g;l.length?g=l.pop():g={Db:{},ta:[]};g.Fk=!1;g.time=
this.b.$b.ua+d;g.Tp="";g.Am=!1;g.Gf=c.Kb;g.Vb=c.Vb+1;d=0;for(a=this.b.q.length;d<a;d++)n=this.b.q[d],b=n.ea(),b.la&&-1===c.Kb.ta.indexOf(n)||(g.ta.push(n),n=void 0,u.length?n=u.pop():n={Cd:[]},n.Bj=!1,n.Bj=b.la,ya(n.Cd,b.d),g.Db[d.toString()]=n);this.Ub.push(g);return!0}};t.prototype.lr=function(d){this.b.Cj=d};t.prototype.Mq=function(d){this.b.fh=d};q.W=new t;r.prototype["int"]=function(d,a){x(a)?(d.qa(parseInt(a,10)),isNaN(d.data)&&(d.data=0)):d.qa(a)};r.prototype["float"]=function(d,a){x(a)?(d.D(parseFloat(a)),
isNaN(d.data)&&(d.data=0)):d.D(a)};r.prototype.random=function(d,a,b){void 0===b?d.D(Math.random()*a):d.D(Math.random()*(b-a)+a)};r.prototype.sqrt=function(d,a){d.D(Math.sqrt(a))};r.prototype.abs=function(d,a){d.D(Math.abs(a))};r.prototype.round=function(d,a){d.qa(Math.round(a))};r.prototype.floor=function(d,a){d.qa(Math.floor(a))};r.prototype.ceil=function(d,a){d.qa(Math.ceil(a))};r.prototype.sin=function(d,a){d.D(Math.sin(U(a)))};r.prototype.cos=function(d,a){d.D(Math.cos(U(a)))};r.prototype.tan=
function(d,a){d.D(Math.tan(U(a)))};r.prototype.asin=function(d,a){d.D(Fa(Math.asin(a)))};r.prototype.acos=function(d,a){d.D(Fa(Math.acos(a)))};r.prototype.atan=function(d,a){d.D(Fa(Math.atan(a)))};r.prototype.exp=function(d,a){d.D(Math.exp(a))};r.prototype.log10=function(d,a){d.D(Math.log(a)/Math.LN10)};r.prototype.max=function(d){var a=arguments[1];"number"!==typeof a&&(a=0);var b,l,c;b=2;for(l=arguments.length;b<l;b++)c=arguments[b],"number"===typeof c&&a<c&&(a=c);d.D(a)};r.prototype.min=function(d){var a=
arguments[1];"number"!==typeof a&&(a=0);var b,l,c;b=2;for(l=arguments.length;b<l;b++)c=arguments[b],"number"===typeof c&&a>c&&(a=c);d.D(a)};r.prototype.Ff=function(d){d.D(this.b.Ff)};r.prototype.og=function(d){d.D(this.b.og)};r.prototype.time=function(d){d.D(this.b.$b.ua)};r.prototype.Zc=function(d){d.qa(this.b.Zc)};r.prototype.jj=function(d){d.qa(this.b.jj)};r.prototype.Pk=function(d){d.qa(this.b.Pk)};r.prototype.j=function(d,a,b,l,c){d.D(Fa(Ka(a,b,l,c)))};r.prototype.left=function(d,a,b){d.gc(x(a)?
a.substr(0,b):"")};r.prototype.right=function(d,a,b){d.gc(x(a)?a.substr(a.length-b):"")};r.prototype.replace=function(d,a,b,l){x(a)&&x(b)&&x(l)?d.gc(a.replace(new RegExp(Ya(b),"gi"),l)):d.gc(x(a)?a:"")};r.prototype.trim=function(d,a){d.gc(x(a)?a.trim():"")};r.prototype.Tr=function(d){var a=O(Math.random()*(arguments.length-1));d.bv(arguments[a+1])};r.prototype.zk=function(d){d.D(this.b.zk/1E3)};r.prototype.bj=function(d){d.D(this.b.bj)};q.Ja=new r;q.Tu=function(){var d,a,b,n,c,g,f=this.b.kb();d=0;
for(b=this.Ub.length;d<b;d++){n=this.Ub[d];if(-1===n.time){if(!n.Am)continue}else if(n.time>this.b.$b.ua)continue;f.Kb=n.Gf;f.Vb=n.Vb;f.Ib=0;for(a in n.Db)n.Db.hasOwnProperty(a)&&(c=this.b.q[parseInt(a,10)].ea(),g=n.Db[a],c.la=g.Bj,ya(c.d,g.Cd),c=g,P(c.Cd),u.push(c));n.Gf.Su();this.b.xk(n.ta);n.Fk=!0}a=d=0;for(b=this.Ub.length;d<b;d++)n=this.Ub[d],this.Ub[a]=n,n.Fk?(Ra(n.Db),P(n.ta),l.push(n)):a++;xa(this.Ub,a)}})();
(function(){ib=function(d,r){var q=d[1],l=d[3],u=d[4],k=d[5],a=d[6],b=d[7],n=d[8];r.k||(r.k={});r.W||(r.W={});r.Ja||(r.Ja={});var c=r.k,g=r.W,f=r.Ja;l&&(c.Bv=function(a,b){return Yb(this.x,a,b)},c.Cv=function(a,b){return Yb(this.y,a,b)},c.Iv=function(){var a=this.i;this.Z();var b=this.fa;return!(b.right<a.T||b.bottom<a.U||b.left>a.Y||b.top>a.X)},c.Jv=function(){this.Z();var a=this.fa,b=this.b.na;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.Vv=function(a,b,c){var f=this.ea(),h=f.uc();
if(!h.length)return!1;var d=h[0],g=d,k=Oa(d.x,d.y,b,c),l,n,q;l=1;for(n=h.length;l<n;l++)if(d=h[l],q=Oa(d.x,d.y,b,c),0===a&&q<k||1===a&&q>k)k=q,g=d;f.xh(g);return!0},g.lw=function(a){this.x!==a&&(this.x=a,this.K())},g.mw=function(a){this.y!==a&&(this.y=a,this.K())},g.qr=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.K()},g.iw=function(a,b){var c=a.yt(this);if(c){var f;c.Ig?(f=c.Ig(b,!0),c=c.Ig(b,!1)):(f=c.x,c=c.y);if(this.x!==f||this.y!==c)this.x=f,this.y=c,this.K()}},g.Ov=function(a){0!==
a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.K())},g.Nv=function(a,b){0!==b&&(this.x+=Math.cos(U(a))*b,this.y+=Math.sin(U(a))*b,this.K())},f.gn=function(a){a.D(this.x)},f.hn=function(a){a.D(this.y)},f.Ff=function(a){a.D(this.b.Hg(this))});u&&(c.Av=function(a,b){return Yb(this.width,a,b)},c.xv=function(a,b){return Yb(this.height,a,b)},g.tr=function(a){this.width!==a&&(this.width=a,this.K())},g.gw=function(a){this.height!==a&&(this.height=a,this.K())},g.jw=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.K()},f.rw=function(a){a.D(this.width)},f.Ev=function(a){a.D(this.height)},f.tv=function(a){this.Z();a.D(this.fa.left)},f.vv=function(a){this.Z();a.D(this.fa.top)},f.uv=function(a){this.Z();a.D(this.fa.right)},f.sv=function(a){this.Z();a.D(this.fa.bottom)});k&&(c.tq=function(a,b){return La(this.j,U(b))<=U(a)},c.Gq=function(a){return Na(this.j,U(a))},c.Fq=function(a,b){var c=Ja(a),f=Ja(b),h=Ha(this.j);return Na(f,c)?Na(h,c)&&!Na(h,f):!(!Na(h,c)&&Na(h,
f))},g.mr=function(a){a=U(Ga(a));isNaN(a)||this.j===a||(this.j=a,this.K())},g.Zv=function(a){0===a||isNaN(a)||(this.j+=U(a),this.j=Ha(this.j),this.K())},g.$v=function(a){0===a||isNaN(a)||(this.j-=U(a),this.j=Ha(this.j),this.K())},g.aw=function(a,b){var c=Ma(this.j,U(b),U(a));isNaN(c)||this.j===c||(this.j=c,this.K())},g.bw=function(a,b,c){a=Ma(this.j,Math.atan2(c-this.y,b-this.x),U(a));isNaN(a)||this.j===a||(this.j=a,this.K())},g.kw=function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.j===
c||(this.j=c,this.K())},f.sq=function(a){a.D(Ia(this.j))});q||(c.yv=function(a,b,c){return Yb(this.Ta[a],b,c)},c.Gv=function(a){return this.Ta[a]},c.Wv=function(a,b){var c=this.ea(),f=c.uc();if(!f.length)return!1;var h=f[0],d=h,g=h.Ta[b],k,l,n;k=1;for(l=f.length;k<l;k++)if(h=f[k],n=h.Ta[b],0===a&&n<g||1===a&&n>g)g=n,d=h;c.xh(d);return!0},c.Uv=function(a){var b,c,f,h,d;if(this.b.Yn().Oi){d=this.ea();if(d.la)for(d.la=!1,P(d.d),P(d.R),f=this.d,b=0,c=f.length;b<c;b++)h=f[b],h.uid===a?d.R.push(h):d.d.push(h);
else{f=b=0;for(c=d.d.length;b<c;b++)h=d.d[b],d.d[f]=h,h.uid===a?d.R.push(h):f++;xa(d.d,f)}this.sd();return!!d.d.length}h=this.b.co(a);if(!h)return!1;d=this.ea();if(!d.la&&-1===d.d.indexOf(h))return!1;if(this.B)for(a=h.type.wa,b=0,c=a.length;b<c;b++){if(a[b]===this)return d.xh(h),this.sd(),!0}else if(h.type===this)return d.xh(h),this.sd(),!0;return!1},c.Wh=function(){return!0},c.Rq=function(){return!0},g.hw=function(a,b){var c=this.Ta;ga(c[a])?c[a]=ga(b)?b:parseFloat(b):x(c[a])&&(c[a]=x(b)?b:b.toString())},
g.rv=function(a,b){var c=this.Ta;ga(c[a])?c[a]=ga(b)?c[a]+b:c[a]+parseFloat(b):x(c[a])&&(c[a]=x(b)?c[a]+b:c[a]+b.toString())},g.ow=function(a,b){var c=this.Ta;ga(c[a])&&(c[a]=ga(b)?c[a]-b:c[a]-parseFloat(b))},g.dw=function(a,b){this.Ta[a]=b?1:0},g.pw=function(a){this.Ta[a]=1-this.Ta[a]},g.Aq=function(){this.b.Xd(this)},g.Lq||(g.Lq=function(a){var b,c;try{b=JSON.parse(a)}catch(f){return}this.b.aj(this,b,!0);this.Le&&this.Le();if(this.J)for(a=0,b=this.J.length;a<b;++a)c=this.J[a],c.Le&&c.Le()}),f.Dv=
function(a){var b=a.mf.d.length,c,f,h;c=0;for(f=this.b.Nc.length;c<f;c++)h=this.b.Nc[c],a.mf.B?0<=h.type.wa.indexOf(a.mf)&&b++:h.type===a.mf&&b++;a.qa(b)},f.Yv=function(a){a.qa(a.mf.ea().uc().length)},f.qw=function(a){a.qa(this.uid)},f.Fv=function(a){a.qa(this.Mg())},f.uq||(f.uq=function(a){a.gc(JSON.stringify(this.b.rm(this,!0)))}));a&&(c.Kv=function(){return this.visible},g.sr=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.da=!0)},c.zv=function(a,b){return Yb(eb(100*this.opacity),a,b)},
g.pr=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.da=!0)},f.Opacity=function(a){a.D(eb(100*this.opacity))});b&&(c.Hv=function(a){return a?this.i===a:!1},c.Xv=function(a){var b=this.ea(),c=b.uc();if(!c.length)return!1;var f=c[0],h=f,d,g;d=1;for(g=c.length;d<g;d++)if(f=c[d],0===a){if(f.i.index>h.i.index||f.i.index===h.i.index&&f.jd()>h.jd())h=f}else if(f.i.index<h.i.index||f.i.index===h.i.index&&f.jd()<h.jd())h=f;b.xh(h);return!0},g.Rv=function(){var a=this.i,b=a.d;
b.length&&b[b.length-1]===this||(a.hg(this,!1),a.wg(this,!1),this.b.da=!0)},g.Pv=function(){var a=this.i,b=a.d;b.length&&b[0]===this||(a.hg(this,!1),a.Ku(this),this.b.da=!0)},g.Qv=function(a){a&&a!=this.i&&(this.i.hg(this,!0),this.i=a,a.wg(this,!0),this.b.da=!0)},g.uw=function(a,b){var c=0===a;if(b){var f=b.qt(this);f&&f.uid!==this.uid&&(this.i.index!==f.i.index&&(this.i.hg(this,!0),this.i=f.i,f.i.wg(this,!0)),this.i.su(this,f,c),this.b.da=!0)}},f.Mv=function(a){a.qa(this.i.ip)},f.Lv=function(a){a.gc(this.i.name)},
f.sw=function(a){a.qa(this.jd())});n&&(g.ew=function(a,b){if(this.b.n){var c=this.type.Wk(b);if(!(0>c)){var f=1===a;this.Zd[c]!==f&&(this.Zd[c]=f,this.ad(),this.b.da=!0)}}},g.fw=function(a,b,c){if(this.b.n){var f=this.type.Wk(a);0>f||(a=this.type.L[f],f=this.Ca[f],b=Math.floor(b),0>b||b>=f.length||(1===this.b.n.Ct(a.Na,b)&&(c/=100),f[b]!==c&&(f[b]=c,a.ab&&(this.b.da=!0))))}})};Db=function(){this.tk=this.ei=!0;this.type.Yh=!0;this.b.da=!0;var d,r,q=this.pk;d=0;for(r=q.length;d<r;++d)q[d](this);this.i.qc&&
this.Z()};Eb=function(d){d&&this.pk.push(d)};Gb=function(){if(this.ei){var d=this.fa,r=this.bb;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.Nb*this.width,-this.Ob*this.height);this.j?(d.offset(-this.x,-this.y),r.Pp(d,this.j),r.offset(this.x,this.y),r.un(d)):r.Ge(d);d.normalize();this.ei=!1;this.mq()}};var d=new sa(0,0,0,0);Hb=function(){if(this.i.qc){var t=this.i.nb,r=this.fa;d.set(t.Fb(r.left),t.Gb(r.top),t.Fb(r.right),t.Gb(r.bottom));this.Sb.Dg(d)||(this.Sb.right<this.Sb.left?
t.update(this,null,d):t.update(this,this.Sb,d),this.Sb.Af(d),this.i.Wc=!0)}};Ib=function(){if(this.tk&&this.td){this.Z();var t=this.type.oi,r=this.fa;d.set(t.Fb(r.left),t.Gb(r.top),t.Fb(r.right),t.Gb(r.bottom));this.je.Dg(d)||(this.je.right<this.je.left?t.update(this,null,d):t.update(this,this.je,d),this.je.Af(d),this.tk=!1)}};Fb=function(d,r){return this.fa.tb(d,r)&&this.bb.tb(d,r)?this.Je?this.Pw(d,r):this.N&&!this.N.te()?(this.N.de(this.width,this.height,this.j),this.N.tb(d-this.x,r-this.y)):!0:
!1};zb=function(){this.type.Xj();return this.Ye};Jb=function(){this.i.Om();return this.cd};Kb=function(){P(this.ba);var d,r,q,l=!0;d=0;for(r=this.Zd.length;d<r;d++)this.Zd[d]&&(q=this.type.L[d],this.ba.push(q),q.Uc||(l=!1));this.nq=!!this.ba.length;this.Ld=l};Ab=function(){return"Inst"+this.Bp};lb=function(d){if(d&&d.Qb&&d.type!=this){var r,q,l;r=0;for(q=d.siblings.length;r<q;r++)if(l=d.siblings[r],l.type==this)return l}d=this.ea().uc();return d.length?d[0]:null};mb=function(d){var r=this.ea().uc();
return r.length?r[d.Mg()%r.length]:null};kb=function(){if(this.mg&&!this.B){var d,r;d=0;for(r=this.d.length;d<r;d++)this.d[d].Ye=d;var q=d,l=this.b.Nc;d=0;for(r=l.length;d<r;++d)l[d].type===this&&(l[d].Ye=q++);this.mg=!1}};xb=function(d){if(d<this.d.length)return this.d[d];d-=this.d.length;var r=this.b.Nc,q,l;q=0;for(l=r.length;q<l;++q)if(r[q].type===this){if(0===d)return r[q];--d}return null};nb=function(){return this.Rd[this.fd]};qb=function(){this.fd++;this.fd===this.Rd.length?this.Rd.push(new jb(this)):
(this.Rd[this.fd].la=!0,P(this.Rd[this.fd].R))};rb=function(){this.fd++;this.fd===this.Rd.length&&this.Rd.push(new jb(this));var d=this.Rd[this.fd],r=this.Rd[this.fd-1];r.la?d.la=!0:(d.la=!1,ya(d.d,r.d));P(d.R)};sb=function(){this.fd--};tb=function(d){var r,q,l,u,k,a=0;if(!this.B)for(r=0,q=this.wa.length;r<q;r++)for(k=this.wa[r],l=0,u=k.Aa.length;l<u;l++){if(d===k.Aa[l].name)return this.ca.lastBehIndex=a,k.Aa[l];a++}r=0;for(q=this.Aa.length;r<q;r++){if(d===this.Aa[r].name)return this.ca.lastBehIndex=
a,this.Aa[r];a++}return null};ub=function(d){return this.Ii(d)?this.ca.lastBehIndex:-1};vb=function(d){var r,q;r=0;for(q=this.L.length;r<q;r++)if(this.L[r].name===d)return r;return-1};wb=function(){if(this.Qb&&!this.B){var d,r,q,l,u,k,a;this.Xj();k=this.ea();var b=k.la,n=(d=this.b.kb())&&d.Kb&&d.Kb.yc;d=0;for(r=this.Xb.length;d<r;d++)if(u=this.Xb[d],u!==this&&(u.Xj(),a=u.ea(),a.la=b,!b)){P(a.d);q=0;for(l=k.d.length;q<l;++q)a.d[q]=u.Xk(k.d[q].Ye);if(n)for(P(a.R),q=0,l=k.R.length;q<l;++q)a.R[q]=u.Xk(k.R[q].Ye)}}};
yb=function(){return"Type"+this.V};Yb=function(d,r,q){if("undefined"===typeof d||"undefined"===typeof q)return!1;switch(r){case 0:return d===q;case 1:return d!==q;case 2:return d<q;case 3:return d<=q;case 4:return d>q;case 5:return d>=q;default:return!1}}})();var gc={};function Y(d){this.b=d}
(function(){function d(){u&&k&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(b){a.yu(b)})}function t(){}function r(){}var q=Y.prototype;q.ja=function(a){this.ka=a;this.b=a.b};var l=q.ja.prototype;l.M=function(){};var u=!1,k=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var a=document.createElement("script");a.onload=function(){u=!0;d()};a.src="offlineClient.js";document.head.appendChild(a)}});var a=null;
l.mp=function(){k=!0;d()};q.aa=function(a){this.type=a;this.b=a.b};l=q.aa.prototype;l.M=function(){var b=this;window.addEventListener("resize",function(){b.b.trigger(Y.prototype.k.fr,b)});a=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){b.b.trigger(Y.prototype.k.cr,b)}),window.addEventListener("offline",function(){b.b.trigger(Y.prototype.k.$q,b)}));this.b.Dd||(document.addEventListener("appMobi.device.update.available",function(){b.b.trigger(Y.prototype.k.gk,
b)}),document.addEventListener("backbutton",function(){b.b.trigger(Y.prototype.k.Vh,b)}),document.addEventListener("menubutton",function(){b.b.trigger(Y.prototype.k.Ym,b)}),document.addEventListener("searchbutton",function(){b.b.trigger(Y.prototype.k.hr,b)}),document.addEventListener("tizenhwkey",function(a){var c;switch(a.keyName){case "back":c=b.b.trigger(Y.prototype.k.Vh,b);!c&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(c=b.b.trigger(Y.prototype.k.Ym,
b))||a.preventDefault()}}));this.b.ul&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(a){b.b.trigger(Y.prototype.k.Vh,b)&&(a.handled=!0)}):this.b.wo&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!b.b.trigger(Y.prototype.k.Vh,b)});this.b.Gr(function(a){a?b.b.trigger(Y.prototype.k.dr,b):b.b.trigger(Y.prototype.k.er,b)});this.iu="undefined"!==typeof window.is_scirra_arcade};l.yu=function(a){a=a.data.type;
"downloading-update"===a?this.b.trigger(Y.prototype.k.kr,this):"update-ready"===a||"update-pending"===a?this.b.trigger(Y.prototype.k.gk,this):"offline-ready"===a&&this.b.trigger(Y.prototype.k.br,this)};t.prototype.cr=function(){return!0};t.prototype.$q=function(){return!0};t.prototype.gk=function(){return!0};t.prototype.er=function(){return!0};t.prototype.dr=function(){return!0};t.prototype.fr=function(){return!0};t.prototype.Vh=function(){return!0};t.prototype.Ym=function(){return!0};t.prototype.hr=
function(){return!0};t.prototype.kr=function(){return!0};t.prototype.gk=function(){return!0};t.prototype.br=function(){return!0};q.k=new t;r.prototype.xq=function(){this.b.kc?CocoonJS.App.forceToFinish():window.tizen?window.tizen.application.getCurrentApplication().exit():navigator.app&&navigator.app.exitApp?navigator.app.exitApp():navigator.device&&navigator.device.exitApp?navigator.device.exitApp():this.iu||this.b.Ga||window.close()};r.prototype.Ar=function(a){try{var d=a.split(","),c,g;c=0;for(g=
d.length;c<g;c++)d[c]=parseInt(d[c],10);navigator.vibrate?navigator.vibrate(d):navigator.mozVibrate?navigator.mozVibrate(d):navigator.webkitVibrate?navigator.webkitVibrate(d):navigator.msVibrate&&navigator.msVibrate(d)}catch(f){}};q.W=new r;q.Ja=new function(){}})();function jc(d){this.b=d}
(function(){function d(){}var t=jc.prototype;t.ja=function(d){this.ka=d;this.b=d.b};t.ja.prototype.M=function(){};t.aa=function(d){this.type=d;this.b=d.b;this.$g=Array(256);this.Oh=Array(256);this.Ud=0};var r=t.aa.prototype;r.M=function(){var d=this;this.b.Ga||(jQuery(document).keydown(function(q){d.sh(q)}),jQuery(document).keyup(function(q){d.uh(q)}))};var q=[32,33,34,35,36,37,38,39,40,44];r.sh=function(d){var r=!1;window!=window.top&&-1<q.indexOf(d.which)&&(d.preventDefault(),r=!0,d.stopPropagation());
if(this.$g[d.which])this.Oh[d.which]&&!r&&d.preventDefault();else{this.$g[d.which]=!0;this.Ud=d.which;this.b.wc=!0;this.b.trigger(jc.prototype.k.Pq,this);var k=this.b.trigger(jc.prototype.k.Wq,this),a=this.b.trigger(jc.prototype.k.Xq,this);this.b.wc=!1;if(k||a)this.Oh[d.which]=!0,r||d.preventDefault()}};r.uh=function(d){this.$g[d.which]=!1;this.Ud=d.which;this.b.wc=!0;this.b.trigger(jc.prototype.k.Tm,this);var q=this.b.trigger(jc.prototype.k.Vm,this),k=this.b.trigger(jc.prototype.k.Um,this);this.b.wc=
!1;if(q||k||this.Oh[d.which])this.Oh[d.which]=!0,d.preventDefault()};r.Be=function(){var d;for(d=0;256>d;++d)if(this.$g[d]){this.$g[d]=!1;this.Ud=d;this.b.trigger(jc.prototype.k.Tm,this);var q=this.b.trigger(jc.prototype.k.Vm,this),k=this.b.trigger(jc.prototype.k.Um,this);if(q||k)this.Oh[d]=!0}};r.ob=function(){return{triggerKey:this.Ud}};r.Ab=function(d){this.Ud=d.triggerKey};d.prototype.Wq=function(d){return d===this.Ud};d.prototype.Pq=function(){return!0};d.prototype.Tm=function(){return!0};d.prototype.Vm=
function(d){return d===this.Ud};d.prototype.Xq=function(d){return d===this.Ud};d.prototype.Um=function(d){return d===this.Ud};t.k=new d;t.W=new function(){};t.Ja=new function(){}})();function kc(d){this.b=d}
(function(){function d(d){this.pa=d;this.ab=!1;this.j=this.speed=this.y=this.x=0;this.opacity=1;this.ae=this.Nf=this.size=this.Li=0}var t=kc.prototype;t.ja=function(d){this.ka=d;this.b=d.b};var r=t.ja.prototype;r.M=function(){this.B||(this.S=new Image,this.S.Ak=this.Fm,this.F=null,this.b.$j(this.S,this.Rj))};r.bg=function(){this.B||(this.F=null)};r.wh=function(){this.B||!this.d.length||this.F||(this.F=this.b.n.Wf(this.S,!0,this.b.oa,this.Lh))};r.Kl=function(){this.B||this.F||!this.b.n||(this.F=this.b.n.Wf(this.S,
!0,this.b.oa,this.Lh))};r.Wj=function(){this.B||this.d.length||!this.F||(this.b.n.deleteTexture(this.F),this.F=null)};r.tj=function(d){d.drawImage(this.S,0,0)};d.prototype.init=function(){var d=this.pa;this.x=d.x-d.bk/2+Math.random()*d.bk;this.y=d.y-d.ck/2+Math.random()*d.ck;this.speed=d.kl-d.Jj/2+Math.random()*d.Jj;this.j=d.j-d.Kj/2+Math.random()*d.Kj;this.opacity=d.il;this.size=d.jl-d.Ij/2+Math.random()*d.Ij;this.Li=d.cl-d.Mi/2+Math.random()*d.Mi;this.ae=this.Nf=0};d.prototype.Eb=function(d){var q=
this.pa;this.x+=Math.cos(this.j)*this.speed*d;this.y+=Math.sin(this.j)*this.speed*d;this.y+=this.Nf*d;this.speed+=q.fb*d;this.size+=this.Li*d;this.Nf+=q.Sk*d;this.ae+=d;1>this.size?this.ab=!1:(0!==q.bh&&(this.j+=Math.random()*q.bh*d-q.bh*d/2),0!==q.eh&&(this.speed+=Math.random()*q.eh*d-q.eh*d/2),0!==q.dh&&(this.opacity+=Math.random()*q.dh*d-q.dh*d/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=q.Df&&this.ae>=q.timeout&&(this.ab=!1),2===q.Df&&0>=this.speed&&(this.ab=!1))};d.prototype.Yb=
function(d){var q=this.pa.opacity*this.opacity;if(0!==q){0===this.pa.Df&&(q*=1-this.ae/this.pa.timeout);d.globalAlpha=q;var q=this.x-this.size/2,k=this.y-this.size/2;this.pa.b.mc&&(q=q+.5|0,k=k+.5|0);d.drawImage(this.pa.type.S,q,k,this.size,this.size)}};d.prototype.wb=function(d){var q=this.pa.opacity*this.opacity;0===this.pa.Df&&(q*=1-this.ae/this.pa.timeout);var k=this.size,a=k*this.pa.up,b=this.x-k/2,n=this.y-k/2;this.pa.b.mc&&(b=b+.5|0,n=n+.5|0);1>a||0===q||(a<d.ru||a>d.Pl?(d.Kd(q),d.De(b,n,b+
k,n,b+k,n+k,b,n+k)):d.Eu(this.x,this.y,a,q))};d.prototype.left=function(){return this.x-this.size/2};d.prototype.right=function(){return this.x+this.size/2};d.prototype.top=function(){return this.y-this.size/2};d.prototype.bottom=function(){return this.y+this.size/2};t.aa=function(d){this.type=d;this.b=d.b};var r=t.aa.prototype,q=[];r.M=function(){var d=this.A;this.xj=d[0];this.Kj=U(d[1]);this.kg=d[2];this.Bm=!0;this.kl=d[3];this.jl=d[4];this.il=d[5]/100;this.cl=d[6];this.bk=d[7];this.ck=d[8];this.Jj=
d[9];this.Ij=d[10];this.Mi=d[11];this.fb=d[12];this.Sk=d[13];this.bh=d[14];this.eh=d[15];this.dh=d[16];this.Df=d[17];this.timeout=d[18];this.of=0;this.up=1;this.pj=this.x;this.rj=this.y;this.qj=this.x;this.oj=this.y;this.Hr(function(d){d.fa.set(d.pj,d.rj,d.qj,d.oj);d.bb.Ge(d.fa);d.ei=!1;d.Pm();d.mq()});this.fc||(this.Bb=[]);this.b.Mh(this);this.type.Kl();if(1===this.kg)for(d=0;d<this.xj;d++)this.lk().opacity=0;this.Ei=!0};r.ob=function(){var d={r:this.xj,sc:this.Kj,st:this.kg,s:this.Bm,isp:this.kl,
isz:this.jl,io:this.il,gr:this.cl,xr:this.bk,yr:this.ck,spr:this.Jj,szr:this.Ij,grnd:this.Mi,acc:this.fb,g:this.Sk,lar:this.bh,lsr:this.eh,lor:this.dh,dm:this.Df,to:this.timeout,pcc:this.of,ft:this.Ei,p:[]},q,k,a,b=d.p;q=0;for(k=this.Bb.length;q<k;q++)a=this.Bb[q],b.push([a.x,a.y,a.speed,a.j,a.opacity,a.Li,a.size,a.Nf,a.ae]);return d};r.Ab=function(d){this.xj=d.r;this.Kj=d.sc;this.kg=d.st;this.Bm=d.s;this.kl=d.isp;this.jl=d.isz;this.il=d.io;this.cl=d.gr;this.bk=d.xr;this.ck=d.yr;this.Jj=d.spr;this.Ij=
d.szr;this.Mi=d.grnd;this.fb=d.acc;this.Sk=d.g;this.bh=d.lar;this.eh=d.lsr;this.dh=d.lor;this.Df=d.dm;this.timeout=d.to;this.of=d.pcc;this.Ei=d.ft;q.push.apply(q,this.Bb);P(this.Bb);var r,k,a,b=d.p;d=0;for(r=b.length;d<r;d++)k=this.lk(),a=b[d],k.x=a[0],k.y=a[1],k.speed=a[2],k.j=a[3],k.opacity=a[4],k.Li=a[5],k.size=a[6],k.Nf=a[7],k.ae=a[8]};r.nf=function(){q.push.apply(q,this.Bb);P(this.Bb)};r.lk=function(){var l;q.length?(l=q.pop(),l.pa=this):l=new d(this);this.Bb.push(l);l.ab=!0;return l};r.Eb=function(){var d=
this.b.Hg(this),r,k,a,b;if(0===this.kg&&this.Bm)for(this.of+=d*this.xj,k=O(this.of),this.of-=k,r=0;r<k;r++)a=this.lk(),a.init();this.pj=this.x;this.rj=this.y;this.qj=this.x;this.oj=this.y;b=r=0;for(k=this.Bb.length;r<k;r++)a=this.Bb[r],this.Bb[b]=a,this.b.da=!0,1===this.kg&&this.Ei&&a.init(),a.Eb(d),a.ab?(a.left()<this.pj&&(this.pj=a.left()),a.right()>this.qj&&(this.qj=a.right()),a.top()<this.rj&&(this.rj=a.top()),a.bottom()>this.oj&&(this.oj=a.bottom()),b++):q.push(a);xa(this.Bb,b);this.K();this.Ei=
!1;1===this.kg&&0===this.Bb.length&&this.b.Xd(this)};r.Yb=function(d){var q,k,a,b=this.i;q=0;for(k=this.Bb.length;q<k;q++)a=this.Bb[q],a.right()>=b.T&&a.bottom()>=b.U&&a.left()<=b.Y&&a.top()<=b.X&&a.Yb(d)};r.wb=function(d){this.up=this.i.Mb();d.Ma(this.type.F);var q,k,a,b=this.i;q=0;for(k=this.Bb.length;q<k;q++)a=this.Bb[q],a.right()>=b.T&&a.bottom()>=b.U&&a.left()<=b.Y&&a.top()<=b.X&&a.wb(d)};t.k=new function(){};t.W=new function(){};t.Ja=new function(){}})();function X(d){this.b=d}
(function(){function d(){if(0===this.Ck.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.lg?b.drawImage(this.S,this.$f,this.ag,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.S,0,0,this.width,this.height);this.Ck=a.toDataURL("image/png")}return this.Ck}function t(){}function r(){}function q(){}var l=X.prototype;l.ja=function(a){this.ka=a;this.b=a.b};var u=l.ja.prototype;u.M=function(){if(!this.B){var a,b,c,f,h,
g,k,n,l;this.Jc=[];this.Pg=!1;a=0;for(b=this.Wb.length;a<b;a++){h=this.Wb[a];k={};k.name=h[0];k.speed=h[1];k.loop=h[2];k.mm=h[3];k.nm=h[4];k.vp=h[5];k.V=h[6];k.frames=[];c=0;for(f=h[7].length;c<f;c++)g=h[7][c],n={},n.Rj=g[0],n.Fm=g[1],n.$f=g[2],n.ag=g[3],n.width=g[4],n.height=g[5],n.duration=g[6],n.Nb=g[7],n.Ob=g[8],n.fl=g[9],n.sj=g[10],n.wp=g[11],n.lg=0!==n.width,n.Ck="",n.zw=d,l={left:0,top:0,right:1,bottom:1},n.zm=l,n.F=null,(l=this.b.mt(g[0]))?n.S=l:(n.S=new Image,n.S.Vr=g[0],n.S.Ak=g[1],n.S.Or=
null,this.b.$j(n.S,g[0])),k.frames.push(n),this.Jc.push(n);this.Wb[a]=k}}};u.lq=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.ri=c.hb.F};u.bg=function(){if(!this.B){var a,b,c;a=0;for(b=this.Jc.length;a<b;++a)c=this.Jc[a],c.S.Or=null,c.F=null;this.Pg=!1;this.lq()}};u.wh=function(){if(!this.B&&this.d.length){var a,b,c;a=0;for(b=this.Jc.length;a<b;++a)c=this.Jc[a],c.F=this.b.n.Wf(c.S,!1,this.b.oa,c.wp);this.lq()}};u.Kl=function(){if(!this.B&&!this.Pg&&this.b.n){var a,b,c;a=0;for(b=
this.Jc.length;a<b;++a)c=this.Jc[a],c.F=this.b.n.Wf(c.S,!1,this.b.oa,c.wp);this.Pg=!0}};u.Wj=function(){if(!this.B&&!this.d.length&&this.Pg){var a,b,c;a=0;for(b=this.Jc.length;a<b;++a)c=this.Jc[a],this.b.n.deleteTexture(c.F),c.F=null;this.Pg=!1}};var k=[];u.tj=function(a){var b,c,d;P(k);b=0;for(c=this.Jc.length;b<c;++b)d=this.Jc[b].S,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))};l.aa=function(a){this.type=a;this.b=a.b;a=this.type.Wb[0].frames[0].sj;this.fc?this.N.Ch(a):this.N=new Za(a)};var a=
l.aa.prototype;a.M=function(){this.visible=0===this.A[0];this.Ni=this.Wg=!1;this.td=0!==this.A[3];this.ra=this.Vn(this.A[1])||this.type.Wb[0];this.C=this.A[2];0>this.C&&(this.C=0);this.C>=this.ra.frames.length&&(this.C=this.ra.frames.length-1);var a=this.ra.frames[this.C];this.N.Ch(a.sj);this.Nb=a.Nb;this.Ob=a.Ob;this.Bf=this.ra.speed;this.le=this.ra.nm;1===this.type.Wb.length&&1===this.type.Wb[0].frames.length||0===this.Bf||(this.b.Mh(this),this.Wg=!0);this.fc?this.ed.reset():this.ed=new Xa;this.Ad=
this.ed.ua;this.Ne=!0;this.rd=0;this.Me=!0;this.ki=this.pn="";this.Bn=0;this.ji=-1;this.type.Kl();var b,c,d,f,g,k,n,a=0;for(b=this.type.Wb.length;a<b;a++)for(f=this.type.Wb[a],c=0,d=f.frames.length;c<d;c++)g=f.frames[c],0===g.width&&(g.width=g.S.width,g.height=g.S.height),g.lg&&(n=g.S,k=g.zm,k.left=g.$f/n.width,k.top=g.ag/n.height,k.right=(g.$f+g.width)/n.width,k.bottom=(g.ag+g.height)/n.height,0===g.$f&&0===g.ag&&g.width===n.width&&g.height===n.height&&(g.lg=!1));this.hb=this.ra.frames[this.C];this.ri=
this.hb.F};a.ob=function(){var a={a:this.ra.V,f:this.C,cas:this.Bf,fs:this.Ad,ar:this.rd,at:this.ed.ua,rt:this.le};this.Ne||(a.ap=this.Ne);this.Me||(a.af=this.Me);return a};a.Ab=function(a){var b=this.ot(a.a);b&&(this.ra=b);this.C=a.f;0>this.C&&(this.C=0);this.C>=this.ra.frames.length&&(this.C=this.ra.frames.length-1);this.Bf=a.cas;this.Ad=a.fs;this.rd=a.ar;this.ed.reset();this.ed.ua=a.at;this.Ne=a.hasOwnProperty("ap")?a.ap:!0;this.Me=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.le=
a.rt:this.le=this.ra.nm;this.hb=this.ra.frames[this.C];this.ri=this.hb.F;this.N.Ch(this.hb.sj);this.Nb=this.hb.Nb;this.Ob=this.hb.Ob};a.ok=function(a){this.C=a?0:this.ra.frames.length-1;this.Ne=!1;this.pn=this.ra.name;this.Ni=!0;this.b.trigger(X.prototype.k.Oq,this);this.b.trigger(X.prototype.k.Nq,this);this.Ni=!1;this.rd=0};a.$h=function(){return this.ed.ua};a.Eb=function(){this.ed.add(this.b.Hg(this));this.ki.length&&this.Kn();0<=this.ji&&this.Ln();var a=this.ed.ua,b=this.ra,c=b.frames[this.C],
d=c.duration/this.Bf;this.Ne&&a>=this.Ad+d&&(this.Me?this.C++:this.C--,this.Ad+=d,this.C>=b.frames.length&&(b.vp?(this.Me=!1,this.C=b.frames.length-2):b.loop?this.C=this.le:(this.rd++,this.rd>=b.mm?this.ok(!1):this.C=this.le)),0>this.C&&(b.vp?(this.C=1,this.Me=!0,b.loop||(this.rd++,this.rd>=b.mm&&this.ok(!0))):b.loop?this.C=this.le:(this.rd++,this.rd>=b.mm?this.ok(!0):this.C=this.le)),0>this.C?this.C=0:this.C>=b.frames.length&&(this.C=b.frames.length-1),a>this.Ad+b.frames[this.C].duration/this.Bf&&
(this.Ad=a),a=b.frames[this.C],this.xf(c,a),this.b.da=!0)};a.Vn=function(a){var b,c,d;b=0;for(c=this.type.Wb.length;b<c;b++)if(d=this.type.Wb[b],fb(d.name,a))return d;return null};a.ot=function(a){var b,c,d;b=0;for(c=this.type.Wb.length;b<c;b++)if(d=this.type.Wb[b],d.V===a)return d;return null};a.Kn=function(){var a=this.ra.frames[this.C],b=this.Vn(this.ki);this.ki="";!b||fb(b.name,this.ra.name)&&this.Ne||(this.ra=b,this.Bf=b.speed,this.le=b.nm,0>this.C&&(this.C=0),this.C>=this.ra.frames.length&&
(this.C=this.ra.frames.length-1),1===this.Bn&&(this.C=0),this.Ne=!0,this.Ad=this.ed.ua,this.Me=!0,this.xf(a,this.ra.frames[this.C]),this.b.da=!0)};a.Ln=function(){var a=this.ra.frames[this.C],b=this.C;this.C=O(this.ji);0>this.C&&(this.C=0);this.C>=this.ra.frames.length&&(this.C=this.ra.frames.length-1);b!==this.C&&(this.xf(a,this.ra.frames[this.C]),this.Ad=this.ed.ua,this.b.da=!0);this.ji=-1};a.xf=function(a,b){var c=a.width,d=a.height,f=b.width,g=b.height;c!=f&&(this.width*=f/c);d!=g&&(this.height*=
g/d);this.Nb=b.Nb;this.Ob=b.Ob;this.N.Ch(b.sj);this.K();this.hb=b;this.ri=b.F;c=0;for(d=this.J.length;c<d;c++)f=this.J[c],f.zu&&f.zu(a,b);this.b.trigger(X.prototype.k.xf,this)};a.Yb=function(a){a.globalAlpha=this.opacity;var b=this.hb,c=b.lg,d=b.S,f=this.x,g=this.y,k=this.width,n=this.height;if(0===this.j&&0<=k&&0<=n)f-=this.Nb*k,g-=this.Ob*n,this.b.mc&&(f=Math.round(f),g=Math.round(g)),c?a.drawImage(d,b.$f,b.ag,b.width,b.height,f,g,k,n):a.drawImage(d,f,g,k,n);else{this.b.mc&&(f=Math.round(f),g=Math.round(g));
a.save();var l=0<k?1:-1,q=0<n?1:-1;a.translate(f,g);1===l&&1===q||a.scale(l,q);a.rotate(this.j*l*q);f=0-this.Nb*ja(k);g=0-this.Ob*ja(n);c?a.drawImage(d,b.$f,b.ag,b.width,b.height,f,g,ja(k),ja(n)):a.drawImage(d,f,g,ja(k),ja(n));a.restore()}};a.Ef=function(a){this.wb(a)};a.wb=function(a){a.Ma(this.ri);a.Kd(this.opacity);var b=this.hb,c=this.bb;if(this.b.mc){var d=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;b.lg?a.Jd(c.ya+d,c.za+f,c.Za+d,c.$a+f,c.Qa+d,c.Ra+f,c.Oa+d,c.Pa+f,b.zm):a.De(c.ya+d,
c.za+f,c.Za+d,c.$a+f,c.Qa+d,c.Ra+f,c.Oa+d,c.Pa+f)}else b.lg?a.Jd(c.ya,c.za,c.Za,c.$a,c.Qa,c.Ra,c.Oa,c.Pa,b.zm):a.De(c.ya,c.za,c.Za,c.$a,c.Qa,c.Ra,c.Oa,c.Pa)};a.ut=function(a){var b=this.hb,c,d;c=0;for(d=b.fl.length;c<d;c++)if(fb(a,b.fl[c][0]))return c;return-1};a.Ig=function(a,b){var c=this.hb,d=c.fl,f;x(a)?f=this.ut(a):f=a-1;f=O(f);if(0>f||f>=d.length)return b?this.x:this.y;var g=(d[f][1]-c.Nb)*this.width,d=d[f][2],d=(d-c.Ob)*this.height,c=Math.cos(this.j);f=Math.sin(this.j);var k=g*c-d*f,d=d*c+
g*f,g=k+this.x,d=d+this.y;return b?g:d};var b=null,n=new ba,c=!1,g=[],f=new sa(0,0,0,0);u.finish=function(a){if(c){if(a){var d=this.b.kb().Kb.yc;a=b.ea();var f=n.qd(),g,h;if(a.la){a.la=!1;P(a.d);g=0;for(h=f.length;g<h;++g)a.d[g]=f[g];if(d)for(P(a.R),g=0,h=b.d.length;g<h;++g)f=b.d[g],n.contains(f)||a.R.push(f)}else if(d)for(d=a.d.length,g=0,h=f.length;g<h;++g)a.d[d+g]=f[g],Da(a.R,f[g]);else ya(a.d,f);b.sd()}n.clear();c=!1}};t.prototype.Iq=function(a){if(a){var d=!1,k,l,h,p=this.b.Yn(),q=p.type,p=p.Oi;
k=a.ea();l=this.b.kb().Kb.yc;var r;k.la?(this.Z(),f.Af(this.fa),f.offset(0,0),this.b.Wn(this.i,a,f,g),r=g):r=l?this.b.du()&&!k.R.length&&k.d.length?k.d:k.R:k.d;b=a;c=q!==a&&!p;k=0;for(l=r.length;k<l;k++)if(h=r[k],this.b.tf(this,h)){d=!0;if(p)break;q!==a&&n.add(h)}P(g);a=d}else a=!1;return a};t.prototype.Nq=function(a){return fb(this.pn,a)};t.prototype.Oq=function(){return!0};t.prototype.xf=function(){return!0};l.k=new t;r.prototype.nr=function(a,b){this.ki=a;this.Bn=b;this.Wg||(this.b.Mh(this),this.Wg=
!0);this.Ni||this.Kn()};r.prototype.or=function(a){this.ji=a;this.Wg||(this.b.Mh(this),this.Wg=!0);this.Ni||this.Ln()};l.W=new r;q.prototype.Dq=function(a,b){a.D(this.Ig(b,!0))};q.prototype.Eq=function(a,b){a.D(this.Ig(b,!1))};l.Ja=new q})();function lc(d){this.b=d}
(function(){function d(a,b){return a.length?a.pop():new b}function t(a,b,c){if(c){var d;c=0;for(d=b.length;c<d;c++)a.length<k&&a.push(b[c]);P(b)}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a.length<k&&a.push(b[d]),delete b[d])}function r(b,c,g){var k=b.zb;g=g.replace(/\s\s*$/,"");c>=k.length&&k.push(d(a,Object));c=k[c];c.text=g;c.width=b.Rl(g);b.Sd=ka(b.Sd,c.width)}function q(){}var l=lc.prototype;l.M=function(){};l.ja=function(a){this.ka=a;this.b=a.b};var u=l.ja.prototype;u.M=function(){this.B||
(this.S=new Image,this.b.$j(this.S,this.Rj),this.F=null)};u.bg=function(){this.B||(this.F=null)};u.wh=function(){if(!this.B&&this.d.length){this.F||(this.F=this.b.n.Wf(this.S,!1,this.b.oa,this.Lh));var a,b;a=0;for(b=this.d.length;a<b;a++)this.d[a].F=this.F}};u.Wj=function(){this.B||this.d.length||!this.F||(this.b.n.deleteTexture(this.F),this.F=null)};u.tj=function(a){a.drawImage(this.S,0,0)};l.aa=function(a){this.type=a;this.b=a.b};u=l.aa.prototype;u.nf=function(){t(a,this.zb,!0);t(b,this.mi,!1);
t(n,this.ni,!1);Ra(this.he)};u.M=function(){this.S=this.type.S;this.li=this.A[0];this.fe=this.A[1];this.characterSet=this.A[2];this.text=this.A[3];this.ge=this.A[4];this.visible=0===this.A[5];this.Bd=this.A[6]/2;this.Vd=this.A[7]/2;this.Uh=0===this.A[9];this.zf=this.A[10];this.lineHeight=this.A[11];this.od=this.Sd=0;this.fc?(P(this.zb),Ra(this.mi),Ra(this.ni),Ra(this.he)):(this.zb=[],this.mi={},this.ni={},this.he={});this.oc=!0;this.ef=this.width;this.b.n&&(this.type.F||(this.type.F=this.b.n.Wf(this.type.S,
!1,this.b.oa,this.type.Lh)),this.F=this.type.F);this.ur()};u.ob=function(){var a={t:this.text,csc:this.ge,csp:this.zf,lh:this.lineHeight,tw:this.Sd,th:this.od,lrt:this.df,ha:this.Bd,va:this.Vd,cw:{}},b;for(b in this.he)a.cw[b]=this.he[b];return a};u.Ab=function(a){this.text=a.t;this.ge=a.csc;this.zf=a.csp;this.lineHeight=a.lh;this.Sd=a.tw;this.od=a.th;this.df=a.lrt;a.hasOwnProperty("ha")&&(this.Bd=a.ha);a.hasOwnProperty("va")&&(this.Vd=a.va);for(var b in a.cw)this.he[b]=a.cw[b];this.oc=!0;this.ef=
this.width};var k=1E3,a=[],b=[],n=[];u.ur=function(){for(var a=this.S,c=a.width,g=a.height,a=this.li,k=this.fe,l=a/c,h=k/g,p=this.characterSet,c=Math.floor(c/a),g=Math.floor(g/k),q=0;q<p.length&&!(q>=c*g);q++){var r=q%c,t=Math.floor(q/c),u=p.charAt(q);if(this.b.n){var K=this.ni,D=r*l,A=t*h,r=(r+1)*l,t=(t+1)*h;void 0===K[u]&&(K[u]=d(n,sa));K[u].left=D;K[u].top=A;K[u].right=r;K[u].bottom=t}else K=this.mi,r=r*a,t=t*k,D=a,A=k,void 0===K[u]&&(K[u]=d(b,Object)),K[u].x=r,K[u].y=t,K[u].pq=D,K[u].ho=A}};var c=
[];l.ik=function(a){P(c);for(var b="",d,g=0;g<a.length;)if(d=a.charAt(g),"\n"===d)b.length&&(c.push(b),b=""),c.push("\n"),++g;else if(" "===d||"\t"===d||"-"===d){do b+=a.charAt(g),g++;while(g<a.length&&(" "===a.charAt(g)||"\t"===a.charAt(g)));c.push(b);b=""}else g<a.length&&(b+=d,g++);b.length&&c.push(b)};l.jk=function(b){var c=b.text,g=b.zb;if(c&&c.length){var k=b.width;if(2>=k)t(a,g,!0);else{var n=b.ge,h=b.zf;if(c.length*(b.li*n+h)-h<=k&&-1===c.indexOf("\n")&&(h=b.Rl(c),h<=k)){t(a,g,!0);g.push(d(a,
Object));g[0].text=c;g[0].width=h;b.Sd=h;b.od=b.fe*n+b.lineHeight;return}this.kk(b);b.od=g.length*(b.fe*n+b.lineHeight)}}else t(a,g,!0)};l.kk=function(b){var d=b.Uh,g=b.text,n=b.zb,l=b.width;d&&(this.ik(g),g=c);var h="",p,q,t,u=0,V=!1;for(t=0;t<g.length;t++)"\n"===g[t]?(!0===V?V=!1:(r(b,u,h),u++),h=""):(V=!1,p=h,h+=g[t],q=b.Rl(h.replace(/\s\s*$/,"")),q>l&&(""===p?(r(b,u,h),h="",V=!0):(r(b,u,p),h=g[t]),u++,d||" "!==h||(h="")));h.replace(/\s\s*$/,"").length&&(r(b,u,h),u++);for(t=u;t<n.length;t++)a.length<
k&&a.push(n[t]);n.length=u};u.Rl=function(a){for(var b=this.zf,c=a.length,d=0,g=0;g<c;g++)d+=this.Uk(a.charAt(g))*this.ge+b;return d-(0<d?b:0)};u.Uk=function(a){var b=this.he;return void 0!==b[a]?b[a]:this.li};u.Ep=function(){if(this.oc||this.width!==this.ef)this.od=this.Sd=0,this.type.ka.jk(this),this.oc=!1,this.ef=this.width};u.Yb=function(a){var b=this.S;if(""!==this.text&&null!=b&&(this.Ep(),!(this.height<this.fe*this.ge+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.b.mc&&
(b=Math.round(b),c=Math.round(c));var d=this.i.T,g=this.i.U,h=this.i.Y,k=this.i.X;a.save();a.translate(b,c);a.rotate(this.j);for(var n=this.j,l=this.Bd,q=this.ge,r=this.fe*q,t=this.lineHeight,u=this.zf,A=this.zb,H,Q=-(this.Nb*this.width),B=-(this.Ob*this.height),B=B+this.Vd*ka(0,this.height-this.od),I,G,M,S=0;S<A.length;S++){var F=A[S].text;H=l*ka(0,this.width-A[S].width);I=Q+H;B+=t;if(0===n&&c+B+r<g)B+=r;else{for(var w=0;w<F.length;w++){G=F.charAt(w);H=this.Uk(G);var z=this.mi[G];if(0===n&&b+I+H*
q+u<d)I+=H*q+u;else{if(I+H*q>this.width+1E-5)break;void 0!==z&&(G=I,M=B,0===n&&1===q&&(G=Math.round(G),M=Math.round(M)),a.drawImage(this.S,z.x,z.y,z.pq,z.ho,G,M,z.pq*q,z.ho*q));I+=H*q+u;if(0===n&&b+I>h)break}}B+=r;if(0===n&&(B+r+t>this.height||c+B>k))break}}a.restore()}};var g=new ta;u.wb=function(a){a.Ma(this.F);a.Kd(this.opacity);if(this.text&&(this.Ep(),!(this.height<this.fe*this.ge+this.lineHeight))){this.Z();var b=this.bb,c=0,d=0;this.b.mc&&(c=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y);
var k=this.i.T,h=this.i.U,n=this.i.Y,l=this.i.X,q=this.j,r=this.Bd,t=this.Vd,u=this.ge,D=this.fe*u,A=this.lineHeight,H=this.zf,Q=this.zb,B=this.od,I,G,M;0!==q&&(G=Math.cos(q),M=Math.sin(q));for(var c=b.ya+c,b=b.za+d,S,t=t*ka(0,this.height-B),F,w,B=0;B<Q.length;B++)if(d=Q[B].text,S=I=r*ka(0,this.width-Q[B].width),t+=A,0===q&&b+t+D<h)t+=D;else{for(var z=0;z<d.length;z++){var C=d.charAt(z);I=this.Uk(C);C=this.ni[C];if(0===q&&c+S+I*u+H<k)S+=I*u+H;else{if(S+I*u>this.width+1E-5)break;if(void 0!==C){var N=
this.li*u,E=this.fe*u;F=S;w=t;0===q&&1===u&&(F=Math.round(F),w=Math.round(w));g.ya=F;g.za=w;g.Za=F+N;g.$a=w;g.Oa=F;g.Pa=w+E;g.Qa=F+N;g.Ra=w+E;0!==q&&(F=g,w=G,N=M,E=void 0,E=F.ya*w-F.za*N,F.za=F.za*w+F.ya*N,F.ya=E,E=F.Za*w-F.$a*N,F.$a=F.$a*w+F.Za*N,F.Za=E,E=F.Oa*w-F.Pa*N,F.Pa=F.Pa*w+F.Oa*N,F.Oa=E,E=F.Qa*w-F.Ra*N,F.Ra=F.Ra*w+F.Qa*N,F.Qa=E);g.offset(c,b);a.Jd(g.ya,g.za,g.Za,g.$a,g.Qa,g.Ra,g.Oa,g.Pa,C)}S+=I*u+H;if(0===q&&c+S>n)break}}t+=D;if(0===q&&(t+D+A>this.height||b+t>l))break}}};l.k=new function(){};
q.prototype.en=function(a){ga(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.oc=!0,this.b.da=!0)};u.$h=function(a,b){var c=parseInt(b,10);this.he[a]!==c&&(this.he[a]=c,this.oc=!0,this.b.da=!0)};l.W=new q;l.Ja=new function(){}})();function mc(d){this.b=d}
(function(){function d(){return a.length?a.pop():{}}function t(b){var d,c;d=0;for(c=b.length;d<c;d++)a.push(b[d]);P(b)}function r(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function q(){}var l=mc.prototype;l.M=function(){l.W.tr=function(a){this.width!==a&&(this.width=a,this.oc=!0,this.K())}};l.ja=function(a){this.ka=a;this.b=a.b};var u=l.ja.prototype;u.M=function(){};u.bg=function(){if(!this.B){var a,d,c;a=0;for(d=this.d.length;a<d;a++)c=this.d[a],c.kd=null,c.lf=null,
c.cc=null}};l.aa=function(a){this.type=a;this.b=a.b;this.fc?P(this.zb):this.zb=[];this.oc=!0};u=l.aa.prototype;u.M=function(){this.text=this.A[0];this.visible=0===this.A[1];this.font=this.A[2];this.color=this.A[3];this.Bd=this.A[4];this.Vd=this.A[5];this.Uh=0===this.A[7];this.ef=this.Yi=this.width;this.Xi=this.height;this.Jl=this.A[8];this.Fi=this.Hf="";this.od=this.Sd=this.zh=0;this.Cu();this.cc=this.lf=this.kd=null;this.gp=!1;this.df=this.b.Zc;this.fc?this.fg.set(0,0,1,1):this.fg=new sa(0,0,1,1);
this.b.n&&this.b.Mh(this)};u.Cu=function(){var a=this.font.split(" "),d;for(d=0;d<a.length;d++)if("pt"===a[d].substr(a[d].length-2,2)){this.zh=parseInt(a[d].substr(0,a[d].length-2));this.hm=Math.ceil(this.zh/72*96)+4;0<d&&(this.Fi=a[d-1]);this.Hf=a[d+1];for(d+=2;d<a.length;d++)this.Hf+=" "+a[d];break}};u.ob=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Bd,va:this.Vd,wr:this.Uh,lho:this.Jl,fn:this.Hf,fs:this.Fi,ps:this.zh,pxh:this.hm,tw:this.Sd,th:this.od,lrt:this.df}};u.Ab=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.Bd=a.ha;this.Vd=a.va;this.Uh=a.wr;this.Jl=a.lho;this.Hf=a.fn;this.Fi=a.fs;this.zh=a.ps;this.hm=a.pxh;this.Sd=a.tw;this.od=a.th;this.df=a.lrt;this.oc=!0;this.ef=this.Yi=this.width;this.Xi=this.height};u.Eb=function(){if(this.b.n&&this.cc&&300<=this.b.Zc-this.df){var a=this.i;this.Z();var d=this.fa;if(d.right<a.T||d.bottom<a.U||d.left>a.Y||d.top>a.X)this.b.n.deleteTexture(this.cc),this.kd=this.lf=this.cc=null}};u.nf=function(){this.kd=this.lf=null;this.b.n&&this.cc&&
this.b.n.deleteTexture(this.cc);this.cc=null};u.$h=function(){this.font=this.Fi+" "+this.zh.toString()+"pt "+this.Hf;this.oc=!0;this.b.da=!0};u.Yb=function(a,d){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=d?1:this.opacity;var c=1;d&&(c=Math.abs(this.i.Mb()),a.save(),a.scale(c,c));if(this.oc||this.width!==this.ef)this.type.ka.jk(this.text,this.zb,a,this.width,this.Uh),this.oc=!1,this.ef=this.width;this.Z();var c=d?0:this.bb.ya,g=d?0:this.bb.za;this.b.mc&&(c=c+.5|0,g=
g+.5|0);0===this.j||d||(a.save(),a.translate(c,g),a.rotate(this.j),g=c=0);var f=g+this.height,e=this.hm,e=e+this.Jl,k,l;1===this.Vd?g+=Math.max(this.height/2-this.zb.length*e/2,0):2===this.Vd&&(g+=Math.max(this.height-this.zb.length*e-2,0));for(l=0;l<this.zb.length&&!(k=c,1===this.Bd?k=c+(this.width-this.zb[l].width)/2:2===this.Bd&&(k=c+(this.width-this.zb[l].width)),a.fillText(this.zb[l].text,k,g),g+=e,g>=f-e);l++);(0!==this.j||d)&&a.restore();this.df=this.b.Zc};u.wb=function(a){if(!(1>this.width||
1>this.height)){var d=this.oc||this.gp;this.gp=!1;var c=this.i.Mb(),g=this.i.Zb(),f=this.fg,e=c*this.width,k=c*this.height,l=Math.ceil(e),q=Math.ceil(k),h=Math.abs(l),p=Math.abs(q),r=this.b.I/2,t=this.b.H/2;this.lf||(this.kd=document.createElement("canvas"),this.kd.width=h,this.kd.height=p,this.Yi=h,this.Xi=p,d=!0,this.lf=this.kd.getContext("2d"));if(h!==this.Yi||p!==this.Xi)this.kd.width=h,this.kd.height=p,this.cc&&(a.deleteTexture(this.cc),this.cc=null),d=!0;d&&(this.lf.clearRect(0,0,h,p),this.Yb(this.lf,
!0),this.cc||(this.cc=a.Jb(h,p,this.b.oa,this.b.re)),a.Rm(this.kd,this.cc,this.b.re));this.Yi=h;this.Xi=p;a.Ma(this.cc);a.Kd(this.opacity);a.Cc();a.translate(-r,-t);a.pc();var u=this.bb,d=this.i.xa(u.ya,u.za,!0,!0),h=this.i.xa(u.ya,u.za,!1,!0),p=this.i.xa(u.Za,u.$a,!0,!0),r=this.i.xa(u.Za,u.$a,!1,!0),t=this.i.xa(u.Qa,u.Ra,!0,!0),V=this.i.xa(u.Qa,u.Ra,!1,!0),K=this.i.xa(u.Oa,u.Pa,!0,!0),u=this.i.xa(u.Oa,u.Pa,!1,!0);if(this.b.mc||0===this.j&&0===g)var D=(d+.5|0)-d,A=(h+.5|0)-h,d=d+D,h=h+A,p=p+D,r=r+
A,t=t+D,V=V+A,K=K+D,u=u+A;0===this.j&&0===g?(p=d+l,r=h,t=p,V=h+q,K=d,u=V,f.right=1,f.bottom=1):(f.right=e/l,f.bottom=k/q);a.Jd(d,h,p,r,t,V,K,u,f);a.Cc();a.scale(c,c);a.Aj(-this.i.Zb());a.translate((this.i.T+this.i.Y)/-2,(this.i.U+this.i.X)/-2);a.pc();this.df=this.b.Zc}};var k=[];l.ik=function(a){P(k);for(var d="",c,g=0;g<a.length;)if(c=a.charAt(g),"\n"===c)d.length&&(k.push(d),d=""),k.push("\n"),++g;else if(" "===c||"\t"===c||"-"===c){do d+=a.charAt(g),g++;while(g<a.length&&(" "===a.charAt(g)||"\t"===
a.charAt(g)));k.push(d);d=""}else g<a.length&&(d+=c,g++);d.length&&k.push(d)};var a=[];l.jk=function(a,k,c,g,f){if(a&&a.length)if(2>=g)t(k);else{if(100>=a.length&&-1===a.indexOf("\n")){var e=c.measureText(a).width;if(e<=g){t(k);k.push(d());k[0].text=a;k[0].width=e;return}}this.kk(a,k,c,g,f)}else t(k)};l.kk=function(b,l,c,g,f){f&&(this.ik(b),b=k);var e="",m,q,t,h=0;for(t=0;t<b.length;t++)"\n"===b[t]?(h>=l.length&&l.push(d()),e=r(e),q=l[h],q.text=e,q.width=c.measureText(e).width,h++,e=""):(m=e,e+=b[t],
q=c.measureText(e).width,q>=g&&(h>=l.length&&l.push(d()),m=r(m),q=l[h],q.text=m,q.width=c.measureText(m).width,h++,e=b[t],f||" "!==e||(e="")));e.length&&(h>=l.length&&l.push(d()),e=r(e),q=l[h],q.text=e,q.width=c.measureText(e).width,h++);for(t=h;t<l.length;t++)a.push(l[t]);l.length=h};l.k=new function(){};q.prototype.en=function(a){ga(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.oc=!0,this.b.da=!0)};l.W=new q;l.Ja=new function(){}})();
function Z(d){this.b=d}
(function(){function d(a){n=a.x;c=a.y;g=a.z}function t(a,b,c,d){var e;e=f.length?f.pop():new r;e.init(a,b,c,d);return e}function r(){this.Gh=this.id=this.gf=this.ff=this.y=this.x=this.Nj=this.Mj=this.Dl=this.time=this.Dm=0;this.Nh=this.Uj=!1}function q(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function l(){}function u(){}var k=Z.prototype;k.ja=function(a){this.ka=a;
this.b=a.b};k.ja.prototype.M=function(){};k.aa=function(a){this.type=a;this.b=a.b;this.touches=[];this.Sl=!1};var a=k.aa.prototype,b={left:0,top:0};a.Gg=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var n=0,c=0,g=0,f=[];r.prototype.init=function(a,b,c,d){var e=Sa();this.Dm=this.Dl=this.time=e;this.Mj=a;this.Nj=b;this.x=a;this.y=b;this.ff=a;this.gf=b;this.pressure=this.height=this.width=0;this.id=c;this.Gh=d;this.Nh=this.Uj=!1};r.prototype.update=
function(a,b,c,d,e,f){this.Dl=this.time;this.time=a;this.ff=this.x;this.gf=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Nh&&15<=Oa(this.Mj,this.Nj,this.x,this.y)&&(this.Nh=!0)};r.prototype.pu=function(a,b){!this.Uj&&500<=Sa()-this.Dm&&!this.Nh&&15>Oa(this.Mj,this.Nj,this.x,this.y)&&(this.Uj=!0,a.pd=this.Gh,a.pg=this.id,a.Lf=b,a.b.trigger(Z.prototype.k.Uq,a),a.vd=this.x,a.wd=this.y,a.b.trigger(Z.prototype.k.Vq,a),a.Lf=0)};var e=-1E3,m=-1E3,y=-1E4;r.prototype.bp=function(a,
b){if(!this.Uj){var c=Sa();333>=c-this.Dm&&!this.Nh&&15>Oa(this.Mj,this.Nj,this.x,this.y)&&(a.pd=this.Gh,a.pg=this.id,a.Lf=b,666>=c-y&&25>Oa(e,m,this.x,this.y)?(a.b.trigger(Z.prototype.k.Sq,a),a.vd=this.x,a.wd=this.y,a.b.trigger(Z.prototype.k.Tq,a),m=e=-1E3,y=-1E4):(a.b.trigger(Z.prototype.k.ir,a),a.vd=this.x,a.wd=this.y,a.b.trigger(Z.prototype.k.jr,a),e=this.x,m=this.y,y=c),a.Lf=0)}};a.M=function(){this.gu=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Lf=this.pg=this.pd=
this.wd=this.vd=this.ln=this.kn=this.jn=this.Er=this.Dr=this.Cr=this.nj=this.mj=this.lj=0;this.nv=0!==this.A[0];var a=0<this.b.Lb?document:this.b.canvas,b=document;this.b.Dd?b=a=window.Canvas:this.b.kc&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){c.op(a)},!1),a.addEventListener("pointermove",function(a){c.np(a)},!1),b.addEventListener("pointerup",function(a){c.kj(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.kj(a,!0)},!1),this.b.canvas&&
(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.op(a)},!1),a.addEventListener("MSPointerMove",function(a){c.np(a)},!1),b.addEventListener("MSPointerUp",
function(a){c.kj(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.kj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.qp(a)},!1),a.addEventListener("touchmove",function(a){c.pp(a)},!1),b.addEventListener("touchend",function(a){c.Wl(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Wl(a,!0)},
!1));if(this.gu){var e=function(a){a=a.reading;c.jn=a.accelerationX;c.kn=a.accelerationY;c.ln=a.accelerationZ},f=function(a){a=a.reading;c.lj=a.yawDegrees;c.mj=a.pitchDegrees;c.nj=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),k&&k.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),k&&k.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.lj=a.alpha||0;c.mj=a.beta||0;c.nj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Cr=a.accelerationIncludingGravity.x||0,c.Dr=a.accelerationIncludingGravity.y||
0,c.Er=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.jn=a.acceleration.x||0,c.kn=a.acceleration.y||0,c.ln=a.acceleration.z||0)},!1);this.nv&&!this.b.Ga&&(jQuery(document).mousemove(function(a){c.wu(a)}),jQuery(document).mousedown(function(a){c.vu(a)}),jQuery(document).mouseup(function(a){c.xu(a)}));!this.b.Ui&&this.b.vc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(d,null,{frequency:40});this.b.$p(this)};a.np=function(a){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var c=this.Gg(a.pointerId),d=Sa();if(0<=c){var e=this.b.Ga?b:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,a.pageX-e.left,a.pageY-e.top,a.width||0,a.height||0,a.pressure||0)}}};a.op=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&gb(a)&&a.preventDefault();var c=this.b.Ga?b:jQuery(this.b.canvas).offset(),d=a.pageX-c.left,c=a.pageY-c.top;Sa();
this.pd=this.touches.length;this.pg=a.pointerId;this.touches.push(t(d,c,a.pointerId,this.pd));this.b.wc=!0;this.b.trigger(Z.prototype.k.$m,this);this.b.trigger(Z.prototype.k.cn,this);this.vd=d;this.wd=c;this.b.trigger(Z.prototype.k.fk,this);this.b.wc=!1}};a.kj=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&gb(a)&&a.preventDefault();var c=this.Gg(a.pointerId);this.pd=0<=c?this.touches[c].Gh:-1;this.pg=0<=c?this.touches[c].id:-1;this.b.wc=!0;this.b.trigger(Z.prototype.k.Zm,
this);this.b.trigger(Z.prototype.k.bn,this);0<=c&&(b||this.touches[c].bp(this,c),100>f.length&&f.push(this.touches[c]),this.touches.splice(c,1));this.b.wc=!1}};a.pp=function(a){a.preventDefault&&a.preventDefault();var c=Sa(),d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.Gg(f.identifier),0<=g){var k=this.b.Ga?b:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||g.update(c,f.pageX-k.left,f.pageY-k.top,2*(f.Kw||f.Tw||f.Dw||f.Gw||0),2*(f.Lw||f.Uw||f.Ew||f.Hw||
0),f.yw||f.Sw||f.Cw||f.Fw||0)}};a.qp=function(a){a.preventDefault&&gb(a)&&a.preventDefault();var c=this.b.Ga?b:jQuery(this.b.canvas).offset();Sa();this.b.wc=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.Gg(f.identifier),-1===g){g=f.pageX-c.left;var k=f.pageY-c.top;this.pd=this.touches.length;this.pg=f.identifier;this.touches.push(t(g,k,f.identifier,this.pd));this.b.trigger(Z.prototype.k.$m,this);this.b.trigger(Z.prototype.k.cn,this);this.vd=g;this.wd=k;this.b.trigger(Z.prototype.k.fk,
this)}this.b.wc=!1};a.Wl=function(a,b){a.preventDefault&&gb(a)&&a.preventDefault();this.b.wc=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Gg(e.identifier),0<=e&&(this.pd=this.touches[e].Gh,this.pg=this.touches[e].id,this.b.trigger(Z.prototype.k.Zm,this),this.b.trigger(Z.prototype.k.bn,this),b||this.touches[e].bp(this,e),100>f.length&&f.push(this.touches[e]),this.touches.splice(e,1));this.b.wc=!1};a.$h=function(){return this.b.vc&&0===this.lj&&0!==g?90*g:this.lj};
a.ww=function(){return this.b.vc&&0===this.mj&&0!==c?90*c:this.mj};a.xw=function(){return this.b.vc&&0===this.nj&&0!==n?90*n:this.nj};a.vu=function(a){q(a)||(this.qp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.Sl=!0)};a.wu=function(a){this.Sl&&!q(a)&&this.pp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};a.xu=function(a){a.preventDefault&&this.b.jo&&!this.b.re&&a.preventDefault();this.b.jo=!0;q(a)||(this.Wl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),
this.Sl=!1)};a.ng=function(){var a,b,c,d=Sa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.Dl=d),c.pu(this,a)};l.prototype.cn=function(){return!0};l.prototype.bn=function(){return!0};l.prototype.fk=function(a){return a?this.b.Qj(a,this.vd,this.wd):!1};var J=[];l.prototype.Jq=function(a){if(!a)return!1;var b=a.ea(),c=b.uc(),d,e,f,g,k,m;f=0;for(g=c.length;f<g;f++){var l=c[f];l.Z();k=0;for(m=this.touches.length;k<m;k++)if(e=this.touches[k],d=l.i.gb(e.x,e.y,!0),e=l.i.gb(e.x,
e.y,!1),l.tb(d,e)){J.push(l);break}}return J.length?(b.la=!1,ya(b.d,J),a.sd(),P(J),!0):!1};l.prototype.$m=function(a){a=Math.floor(a);return a===this.pd};l.prototype.Zm=function(a){a=Math.floor(a);return a===this.pd};l.prototype.Uq=function(){return!0};l.prototype.ir=function(){return!0};l.prototype.Sq=function(){return!0};l.prototype.Vq=function(a){return a?this.b.Qj(a,this.vd,this.wd):!1};l.prototype.jr=function(a){return a?this.b.Qj(a,this.vd,this.wd):!1};l.prototype.Tq=function(a){return a?this.b.Qj(a,
this.vd,this.wd):!1};k.k=new l;u.prototype.gn=function(a,b){var c=this.Lf;if(0>c||c>=this.touches.length)a.D(0);else{var d,e,f,g,k;fa(b)?(d=this.b.Jg(0),e=d.scale,f=d.dd,g=d.zc,k=d.j,d.scale=1,d.dd=1,d.zc=1,d.j=0,a.D(d.gb(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.dd=f,d.zc=g,d.j=k):(d=ga(b)?this.b.Jg(b):this.b.Yk(b))?a.D(d.gb(this.touches[c].x,this.touches[c].y,!0)):a.D(0)}};u.prototype.hn=function(a,b){var c=this.Lf;if(0>c||c>=this.touches.length)a.D(0);else{var d,e,f,g,k;fa(b)?(d=this.b.Jg(0),
e=d.scale,f=d.dd,g=d.Ac,k=d.j,d.scale=1,d.dd=1,d.Ac=1,d.j=0,a.D(d.gb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.dd=f,d.Ac=g,d.j=k):(d=ga(b)?this.b.Jg(b):this.b.Yk(b))?a.D(d.gb(this.touches[c].x,this.touches[c].y,!1)):a.D(0)}};k.Ja=new u})();function nc(d){this.b=d}
(function(){function d(a){a%=g.length;0>a&&(a+=g.length);return a}function t(){var a,b,c,f;a=0;for(b=g.length;a<b;++a)c=g[a],(f=g[d(a-1)])&&!c&&(e=a),!f&&c&&(y=a)}var r=nc.prototype;r.ja=function(a){this.ka=a;this.b=a.b};var q=r.ja.prototype,l=!1,u=null,k=null;q.M=function(){this.B||l||(l=!0,u=new Image,u.Ak=15E3,this.b.$j(u,"penumbra.png"))};q.bg=function(){if(!this.B){this.ec=this.F=null;var a,b,c;a=0;for(b=this.d.length;a<b;++a)c=this.d[a],c.F=null,c.ec=null}};q.wh=function(){if(!this.B){var a,
b;a=0;for(b=this.d.length;a<b;++a)this.d[a].Gn()}};r.aa=function(a){this.type=a;this.b=a.b};q=r.aa.prototype;q.M=function(){if(!k){var a=u.width,b=u.height,c=document.createElement("canvas");c.width=a;c.height=b;c=c.getContext("2d");c.clearRect(0,0,a,b);c.drawImage(u,0,0,a,b);k=c.getImageData(0,0,a,b).data}this.we=this.x;this.xe=this.y;this.Io=this.A[0];this.Rb=1E3;this.Vf=this.A[1];this.zn=this.A[2];this.tag=this.A[3];this.Gl=this.Hl=this.Il=0;this.Bo=this.x;this.Co=this.y;this.ec=this.F=null;this.b.n?
this.Gn():this.Vf=0;this.b.$p(this)};q.An=function(a){return 1===this.zn?fb(this.tag,a):2===this.zn?!fb(this.tag,a):!0};q.ng=function(){if(this.Bo!==this.x||this.Co!==this.y)this.we=this.x,this.xe=this.y;var a=this.i,b=(a.T+a.Y)/2,c=(a.U+a.X)/2,d=a.Y-a.T+this.Rb,e=a.X-a.U+this.Rb;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.K();this.Bo=this.x;this.Co=this.y;this.Rb=1.5*Oa(a.T,a.U,a.Y,a.X)};q.nf=function(){this.b.n&&(this.F&&(this.b.n.deleteTexture(this.F),
this.F=null),this.ec&&(this.b.n.deleteTexture(this.ec),this.ec=null))};q.ob=function(){return{}};q.Ab=function(){};var a=[],b=[];q.eo=function(){this.b.wm&&(this.b.fo(this.i,this.b.wm.Iw,this.fa,a),Ta(a))};var n=[],c=0,g=[],f=[],e=-1,m=-1,y=-1,J=-1,h=0,p=0,v=[],la=0,wa=0,V=0,K=0,D=0,A=0,H=0,Q=0,B=new Za([]);q.Yb=function(c){this.eo();c.save();c.fillStyle="rgba("+this.Il+","+this.Hl+","+this.Gl+","+this.opacity+")";var d,e,f,h,k,m,l,q,n,p;d=0;for(e=a.length;d<e;++d)if(f=a[d],f.ca.shadowcasterEnabled&&
this.An(f.ca.shadowcasterTag))if(f.Z(),l=f.ca.shadowcasterHeight,f.Je){f.Xn(this.fa,b);q=f.x;n=f.y;f=0;for(h=b.length;f<h;++f){k=b[f];p=k.Dp;k.pf?(k=k.pf,m=p.left,p=p.top):(B.Ge(p,0,0),k=B,p=m=0);this.ii(k,q+m,n+p,l,!1);c.beginPath();c.moveTo(v[0],v[1]);k=2;for(m=v.length;k<m;k+=2)c.lineTo(v[k],v[k+1]);c.closePath();c.fill();P(g);P(v)}P(b)}else{f.N&&!f.N.te()?(f.N.de(f.width,f.height,f.j),k=f.N):(B.Fe(f.bb,f.x,f.y,f.width,f.height),k=B);this.ii(k,f.x,f.y,l,Pa(0>f.width,0>f.height));c.beginPath();
c.moveTo(v[0],v[1]);f=2;for(h=v.length;f<h;f+=2)c.lineTo(v[f],v[f+1]);c.closePath();c.fill();P(g);P(v)}c.restore();P(a)};q.zt=function(a,b,d,e){c=a.Bc;P(n);var f,g=a.La;p=h=0;var k;for(k=0;k<c;++k)f=2*k,a=g[f]+b,f=g[f+1]+d,e?(n.unshift(f),n.unshift(a)):(n.push(a),n.push(f)),h+=a,p+=f;h/=c;p/=c};q.ii=function(a,b,d,h,k){this.zt(a,b,d,k);var l;P(g);P(f);P(v);J=m=y=e=-1;d=this.we;k=this.xe;if(0<this.Vf)this.rk(-this.Vf),t(),ya(f,g),m=e,J=y,P(g),y=e=-1,this.rk(this.Vf),t(),-1!==e&&-1!==y&&-1!==m&&-1!==
J&&this.Qr();else for(this.rk(0),t(),a=0;a<c;++a)l=2*a,b=n[l],l=n[l+1],this.Pr(a,d,k,b,l,h)};q.Pr=function(a,b,c,f,h,k){var m;m=g[d(a-1)];var l=a===e,q=a===y;g[a]||m?(a=Ka(b,c,f,h),m=Oa(b,c,f,h),k=this.Rr(b,c,f,h,k),b+=Math.cos(a)*(m+k),c+=Math.sin(a)*(m+k)):(b=f,c=h);q&&(v.push(f),v.push(h));v.push(b);v.push(c);l&&(v.push(f),v.push(h))};q.rk=function(a){var b=this.we,d=this.xe,e=b,f=d,k,m,l,q,r;for(k=0;k<c;++k)m=2*k,l=k+1,l=l===c?0:2*l,q=n[m],m=n[m+1],r=n[l],l=n[l+1],0!==a&&(f=Ka(b,d,h,p)-Math.PI/
2,e=b+Math.cos(f)*a,f=d+Math.sin(f)*a),g.push(La(Ka(q,m,e,f),Ka(q,m,r,l)-Math.PI/2)>=Math.PI/2)};var I=0,G=0;q.Qr=function(){for(var a=m,b,d,e;a=a%c,b=2*a,d=n[b],e=n[b+1],v.push(d),v.push(e),a!==y;++a);var f=this.Vf,g=Ka(this.we,this.xe,h,p),a=this.we+Math.cos(g-Math.PI/2)*f,k=this.xe+Math.sin(g-Math.PI/2)*f,g=Ka(a,k,d,e),l=Oa(a,k,d,e),a=a+Math.cos(g)*(l+this.Rb),k=k+Math.sin(g)*(l+this.Rb);b=2*m;var q=n[b];b=n[b+1];var g=Ka(this.we,this.xe,h,p),r=this.we+Math.cos(g+Math.PI/2)*f,t=this.xe+Math.sin(g+
Math.PI/2)*f,g=Ka(r,t,q,b),l=Oa(r,t,q,b),f=r+Math.cos(g)*(l+this.Rb),g=t+Math.sin(g)*(l+this.Rb);D=d;A=e;la=q;wa=b;var u,B,J,l=a-d,r=k-e;u=f-q;B=g-b;J=-u*r+l*B;0===J?d=!1:(t=(-r*(d-q)+l*(e-b))/J,J=-u*r+l*B,0===J?d=!1:(q=(u*(e-b)-B*(d-q))/J,0<=t&&1>=t&&0<=q&&1>=q?(I=d+q*l,G=e+q*r,d=!0):d=!1));d?(v.push(I),v.push(G),H=I,Q=G,V=I,K=G):(v.push(a),v.push(k),v.push(f),v.push(g),H=a,Q=k,V=f,K=g)};q.Rr=function(a,b,c,d,e){if(e>=this.Io)return this.Rb;if(0>=e)return 0;a=Oa(a,b,c,d);a=Math.atan(a/(this.Io-e));
e=e*Math.tan(a);e>=this.Rb&&(e=this.Rb);0>e&&(e=0);return e};q.wb=function(c){c.Kd(this.opacity);this.eo();var d,f,h,k,l,q,n,p,r,t;d=0;for(f=a.length;d<f;++d)if(h=a[d],h.ca.shadowcasterEnabled&&this.An(h.ca.shadowcasterTag))if(h.Z(),l=h.ca.shadowcasterHeight,h.Je){h.Xn(this.fa,b);n=h.x;p=h.y;h=0;for(k=b.length;h<k;++h)q=b[h],r=q.Dp,q.pf?(q=q.pf,t=r.left,r=r.top):(B.Ge(r,0,0),q=B,r=t=0),this.ii(q,n+t,p+r,l,!1),6>v.length||(c.Ma(this.F),c.En(v),-1<e&&-1<m&&(c.Ma(this.ec),this.xi(c,!0)),-1<y&&-1<J&&
(c.Ma(this.ec),this.xi(c,!1)),P(g),P(v));P(b)}else h.N&&!h.N.te()?(h.N.de(h.width,h.height,h.j),q=h.N):(B.Fe(h.bb,h.x,h.y,h.width,h.height),q=B),this.ii(q,h.x,h.y,l,Pa(0>h.width,0>h.height)),6>v.length||(c.Ma(this.F),c.En(v),-1<e&&-1<m&&(c.Ma(this.ec),this.xi(c,!0)),-1<y&&-1<J&&(c.Ma(this.ec),this.xi(c,!1)),P(g),P(v));P(a)};q.xi=function(a,b){var c=this.we,d=this.xe,f,g,k,l,q,r;b?(k=la,l=wa,q=V,r=K):(k=D,l=A,q=H,r=Q);var t=this.Vf,u=Ka(c,d,h,p),v=Math.PI/2;b&&(v=-v);c+=Math.cos(u+v)*t;d+=Math.sin(u+
v)*t;t=!1;if(b){if(t=e!==m)f=n[2*e],g=n[2*e+1]}else if(t=y!==J)f=n[2*J],g=n[2*J+1];var u=t?Ka(f,g,k,l):Ka(c,d,k,l),v=k+Math.cos(u)*this.Rb,B=l+Math.sin(u)*this.Rb,G,I,pa,ob=pa=0,pb=1;t&&(pa=Ka(c,d,f,g),G=f+Math.cos(pa)*this.Rb,I=g+Math.sin(pa)*this.Rb,c=Ka(k,l,q,r),pa=La(u,pa)/La(c,pa),u=Oa(f,g,k,l),u=u/(u+this.Rb),c=Ka(0,1,pa,0),d=Oa(0,1,pa,0),ob+=Math.cos(c)*u*d,pb+=Math.sin(c)*u*d);a.Cp(k,l,q,r,v,B,v,B,ob,pb,1,pa,pa);t&&a.Cp(f,g,v,B,G,I,G,I,0,1,pa,0,0)};q.Gn=function(){this.b.n&&(this.F&&(this.b.n.deleteTexture(this.F),
this.F=null),this.ec&&(this.b.n.deleteTexture(this.ec),this.ec=null),this.Wr(),this.Zr())};q.Wr=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.Il+","+this.Hl+","+this.Gl+")";b.fillRect(0,0,16,16);this.F=this.b.n.Jb(16,16,!1,!1,!0);this.b.n.Rm(a,this.F)};q.Zr=function(){var a=u.width,b=u.height,c=this.Il,d=this.Hl,e=this.Gl,f=k,g=document.createElement("canvas");g.width=a;g.height=b;var h=g.getContext("2d"),l=h.createImageData(a,
b),m=l.data,q,n;q=0;for(n=m.length;q<n;q+=4)m[q]=c,m[q+1]=d,m[q+2]=e,m[q+3]=f[q+3];h.putImageData(l,0,0);this.ec=this.b.n.Jb(a,b,this.b.oa,!1,!1);this.b.n.Rm(g,this.ec)};r.k=new function(){};r.W=new function(){};r.Ja=new function(){}})();function oc(d){this.b=d}
(function(){function d(){}var t=oc.prototype;t.ja=function(d){this.behavior=d;this.b=d.b};t.ja.prototype.M=function(){};t.aa=function(d,l){this.type=d;this.behavior=d.behavior;this.e=l;this.b=d.b;this.Od=this.Nd=this.Md=this.Pd=this.Xe=this.Xc=this.Tc=this.Oc=this.bd=!1;this.G=0;this.xb=this.Hb=this.e.j};var r=t.aa.prototype;r.M=function(){this.ac=this.A[0];this.fb=this.A[1];this.Fa=this.A[2];this.Oj=U(this.A[3]);this.Hk=U(this.A[4]);this.Qk=this.A[5];this.vm=1===this.A[6];this.Ek=1===this.A[7];this.enabled=
0!==this.A[8];this.ff=this.e.x;this.gf=this.e.y;this.Rf=this.e.j;this.Ek&&!this.b.Ga&&(jQuery(document).keydown(function(d){return function(l){d.sh(l)}}(this)),jQuery(document).keyup(function(d){return function(l){d.uh(l)}}(this)))};r.ob=function(){return{ignoreInput:this.Xe,enabled:this.enabled,s:this.G,a:this.Hb,m:this.xb,maxspeed:this.ac,acc:this.fb,dec:this.Fa,steerSpeed:this.Oj,driftRecover:this.Hk,friction:this.Qk,lastx:this.ff,lasty:this.gf,lastAngle:this.Rf}};r.Ab=function(d){this.Xe=d.ignoreInput;
this.enabled=d.enabled;this.G=d.s;this.Hb=d.a;this.xb=d.m;this.ac=d.maxspeed;this.fb=d.acc;this.Fa=d.dec;this.Oj=d.steerSpeed;this.Hk=d.driftRecover;this.Qk=d.friction;this.ff=d.lastx;this.gf=d.lasty;this.Rf=d.lastAngle;this.Od=this.Nd=this.Md=this.Pd=this.Xc=this.Tc=this.Oc=this.bd=!1};r.sh=function(d){switch(d.which){case 37:d.preventDefault();this.Tc=!0;break;case 38:d.preventDefault();this.bd=!0;break;case 39:d.preventDefault();this.Xc=!0;break;case 40:d.preventDefault(),this.Oc=!0}};r.uh=function(d){switch(d.which){case 37:d.preventDefault();
this.Tc=!1;break;case 38:d.preventDefault();this.bd=!1;break;case 39:d.preventDefault();this.Xc=!1;break;case 40:d.preventDefault(),this.Oc=!1}};r.Be=function(){this.Xc=this.Tc=this.Oc=this.bd=!1};r.Eb=function(){var d=this.b.Hg(this.e),l=this.Tc||this.Nd,r=this.Xc||this.Od,k=this.bd||this.Pd,a=this.Oc||this.Md;this.Md=this.Pd=this.Od=this.Nd=!1;if(this.enabled){this.vm&&this.e.j!==this.Rf&&(this.Rf=this.xb=this.Hb=this.e.j);var b=this.b.nc(this.e);if(b&&(this.b.gg(this.e,b),!this.b.vj(this.e)))return;
this.Xe&&(a=k=r=l=!1);k&&!a&&(this.G+=this.fb*d,this.G>this.ac&&(this.G=this.ac));a&&!k&&(this.G-=this.Fa*d,this.G<-this.ac&&(this.G=-this.ac));a===k&&(0<this.G?(this.G-=this.Fa*d*.1,0>this.G&&(this.G=0)):0>this.G&&(this.G+=this.Fa*d*.1,0<this.G&&(this.G=0)));0>this.G&&(k=l,l=r,r=k);l&&!r&&(this.Hb=Ha(this.Hb-this.Oj*d*(Math.abs(this.G)/this.ac)));r&&!l&&(this.Hb=Ha(this.Hb+this.Oj*d*(Math.abs(this.G)/this.ac)));l=this.Hk*d;r=La(this.Hb,this.xb);r>U(90)&&(l+=r-U(90));r<=l?this.xb=Ha(this.Hb):Na(this.Hb,
this.xb)?this.xb=Ha(this.xb+l):this.xb=Ha(this.xb-l);this.ff=this.e.x;this.gf=this.e.y;if(0!==this.G&&0!==d){if(this.e.x+=Math.cos(this.xb)*this.G*d,this.e.y+=Math.sin(this.xb)*this.G*d,this.vm&&(this.Rf=this.e.j=this.Hb),this.e.K(),l=this.b.nc(this.e))this.b.gg(this.e,l),this.G=Math.abs(this.G),this.xb=this.b.Sr(this.e,this.ff,this.gf),this.e.x+=Math.cos(this.xb)*this.G*d,this.e.y+=Math.sin(this.xb)*this.G*d,this.e.K(),this.G*=1-this.Qk,this.b.gm(this.e,Math.cos(this.xb),Math.sin(this.xb),Math.max(2.5*
this.G*d,30))||this.b.vj(this.e,100)}else this.vm&&this.e.j!==this.Hb&&(this.Rf=this.e.j=this.Hb,this.e.K(),this.b.nc(this.e)&&this.b.vj(this.e,100))}};t.k=new function(){};d.prototype.dn=function(d){this.Fa=d;0>this.Fa&&(this.Fa=0)};d.prototype.hk=function(d){switch(d){case 0:this.Nd=!0;break;case 1:this.Od=!0;break;case 2:this.Pd=!0;break;case 3:this.Md=!0}};t.W=new d;t.Ja=new function(){}})();function pc(d){this.b=d}
(function(){function d(){}var t=pc.prototype;t.ja=function(d){this.behavior=d;this.b=d.b};t.ja.prototype.M=function(){};t.aa=function(d,l){this.type=d;this.behavior=d.behavior;this.e=l;this.b=d.b;this.Od=this.Nd=this.Md=this.Pd=this.Xe=this.Xc=this.Tc=this.Oc=this.bd=!1;this.Cl=this.Bl=this.Al=this.El=-1;this.ia=this.ga=0};var r=t.aa.prototype;r.M=function(){this.ac=this.A[0];this.fb=this.A[1];this.Fa=this.A[2];this.Gk=this.A[3];this.nk=this.A[4];this.Ek=1===this.A[5];this.enabled=0!==this.A[6];this.Ek&&
!this.b.Ga&&(jQuery(document).keydown(function(d){return function(l){d.sh(l)}}(this)),jQuery(document).keyup(function(d){return function(l){d.uh(l)}}(this)))};r.ob=function(){return{dx:this.ga,dy:this.ia,enabled:this.enabled,maxspeed:this.ac,acc:this.fb,dec:this.Fa,ignoreInput:this.Xe}};r.Ab=function(d){this.ga=d.dx;this.ia=d.dy;this.enabled=d.enabled;this.ac=d.maxspeed;this.fb=d.acc;this.Fa=d.dec;this.Xe=d.ignoreInput;this.Od=this.Nd=this.Md=this.Pd=this.Xc=this.Tc=this.Oc=this.bd=!1;this.Cl=this.Bl=
this.Al=this.El=-1};r.sh=function(d){var l=this.b.Zc;switch(d.which){case 37:d.preventDefault();this.Bl<l&&(this.Tc=!0);break;case 38:d.preventDefault();this.El<l&&(this.bd=!0);break;case 39:d.preventDefault();this.Cl<l&&(this.Xc=!0);break;case 40:d.preventDefault(),this.Al<l&&(this.Oc=!0)}};r.uh=function(d){var l=this.b.Zc;switch(d.which){case 37:d.preventDefault();this.Tc=!1;this.Bl=l;break;case 38:d.preventDefault();this.bd=!1;this.El=l;break;case 39:d.preventDefault();this.Xc=!1;this.Cl=l;break;
case 40:d.preventDefault(),this.Oc=!1,this.Al=l}};r.Be=function(){this.Xc=this.Tc=this.Oc=this.bd=!1};r.Eb=function(){var d=this.b.Hg(this.e),l=this.Tc||this.Nd,r=this.Xc||this.Od,k=this.bd||this.Pd,a=this.Oc||this.Md;this.Md=this.Pd=this.Od=this.Nd=!1;if(this.enabled){var b=this.b.nc(this.e);if(b&&(this.b.gg(this.e,b),!this.b.vj(this.e)))return;this.Xe&&(a=k=r=l=!1);0===this.Gk?r=l=!1:1===this.Gk&&(a=k=!1);2===this.Gk&&(k||a)&&(r=l=!1);l==r&&(0>this.ga?(this.ga+=this.Fa*d,0<this.ga&&(this.ga=0)):
0<this.ga&&(this.ga-=this.Fa*d,0>this.ga&&(this.ga=0)));k==a&&(0>this.ia?(this.ia+=this.Fa*d,0<this.ia&&(this.ia=0)):0<this.ia&&(this.ia-=this.Fa*d,0>this.ia&&(this.ia=0)));l&&!r&&(this.ga=0<this.ga?this.ga-(this.fb+this.Fa)*d:this.ga-this.fb*d);r&&!l&&(this.ga=0>this.ga?this.ga+(this.fb+this.Fa)*d:this.ga+this.fb*d);k&&!a&&(this.ia=0<this.ia?this.ia-(this.fb+this.Fa)*d:this.ia-this.fb*d);a&&!k&&(this.ia=0>this.ia?this.ia+(this.fb+this.Fa)*d:this.ia+this.fb*d);if(0!==this.ga||0!==this.ia){Math.sqrt(this.ga*
this.ga+this.ia*this.ia)>this.ac&&(b=Math.atan2(this.ia,this.ga),this.ga=this.ac*Math.cos(b),this.ia=this.ac*Math.sin(b));r=this.e.x;k=this.e.y;l=this.e.j;this.e.x+=this.ga*d;this.e.K();if(b=this.b.nc(this.e))this.b.gm(this.e,0>this.ga?1:-1,0,Math.abs(Math.floor(this.ga*d)))||(this.e.x=r),this.ga=0,this.e.K(),this.b.gg(this.e,b);this.e.y+=this.ia*d;this.e.K();if(b=this.b.nc(this.e))this.b.gm(this.e,0,0>this.ia?1:-1,Math.abs(Math.floor(this.ia*d)))||(this.e.y=k),this.ia=0,this.e.K(),this.b.gg(this.e,
b);d=eb(this.ga);b=eb(this.ia);0===d&&0===b||!this.e.type.ka.ju||(1===this.nk?this.e.j=Ja(90*Math.round(Fa(Math.atan2(b,d))/90)):2===this.nk?this.e.j=Ja(45*Math.round(Fa(Math.atan2(b,d))/45)):3===this.nk&&(this.e.j=Math.atan2(b,d)));this.e.K();this.e.j!=l&&(b=this.b.nc(this.e))&&(this.e.j=l,this.e.K(),this.b.gg(this.e,b))}}};t.k=new function(){};d.prototype.dn=function(d){this.Fa=d;0>this.Fa&&(this.Fa=0)};d.prototype.hk=function(d){switch(d){case 0:this.Nd=!0;break;case 1:this.Od=!0;break;case 2:this.Pd=
!0;break;case 3:this.Md=!0}};t.W=new d;t.Ja=new function(){}})();function qc(d){this.b=d}
(function(){var d=qc.prototype;d.ja=function(d){this.behavior=d;this.b=d.b};d.ja.prototype.M=function(){};d.aa=function(d,r){this.type=d;this.behavior=d.behavior;this.e=r;this.b=d.b;this.mode=0};d=d.aa.prototype;d.M=function(){this.mode=this.A[0]};d.Eb=function(){};d.ng=function(){this.e.Z();var d=this.e.fa,r=this.e.i.Ha,q=!1;0===this.mode?(0>this.e.x&&(this.e.x=0,q=!0),0>this.e.y&&(this.e.y=0,q=!0),this.e.x>r.width&&(this.e.x=r.width,q=!0),this.e.y>r.height&&(this.e.y=r.height,q=!0)):(0>d.left&&
(this.e.x-=d.left,q=!0),0>d.top&&(this.e.y-=d.top,q=!0),d.right>r.width&&(this.e.x-=d.right-r.width,q=!0),d.bottom>r.height&&(this.e.y-=d.bottom-r.height,q=!0));q&&this.e.K()}})();function rc(d){this.b=d}
(function(){var d=rc.prototype;d.ja=function(d){this.behavior=d;this.b=d.b};d.ja.prototype.M=function(){};d.aa=function(d,r){this.type=d;this.behavior=d.behavior;this.e=r;this.b=d.b};d=d.aa.prototype;d.M=function(){};d.Eb=function(){this.e.Z();var d=this.e.fa,r=this.e.i.Ha;(0>d.right||0>d.bottom||d.left>r.width||d.top>r.height)&&this.b.Xd(this.e)}})();function sc(d){this.b=d;this.ym=this.Gj=this.Eh=this.xm=0}
(function(){var d=sc.prototype;d.ja=function(d){this.behavior=d;this.b=d.b};d.ja.prototype.M=function(){};d.aa=function(d,q){this.type=d;this.behavior=d.behavior;this.e=q;this.b=d.b};var t=d.aa.prototype;t.M=function(){this.enabled=0!==this.A[0]};t.ob=function(){return{smg:this.behavior.xm,ss:this.behavior.Eh,se:this.behavior.Gj,smd:this.behavior.ym}};t.Ab=function(d){this.behavior.xm=d.smg;this.behavior.Eh=d.ss;this.behavior.Gj=d.se;this.behavior.ym=d.smd};t.Eb=function(){};t.ng=function(){if(this.enabled){var d=
this.behavior.hj.qd(),q=0,l=0,t,k,a,b=0;t=0;for(k=d.length;t<k;t++){a:{a=d[t];for(var n=void 0,c=void 0,g=void 0,n=0,c=a.J.length;n<c;++n)if(g=a.J[n],g.behavior instanceof sc){a=g;break a}a=null}a&&a.enabled&&(q+=d[t].x,l+=d[t].y,++b)}d=this.e.i.Ha;k=this.b.$b.ua;a=t=0;k>=this.behavior.Eh&&k<this.behavior.Gj&&(t=this.behavior.xm*Math.min(this.b.og,1),0===this.behavior.ym&&(t*=1-(k-this.behavior.Eh)/(this.behavior.Gj-this.behavior.Eh)),k=Math.random()*Math.PI*2,a=Math.random()*t,t=Math.cos(k)*a,a*=
Math.sin(k));d.tm(q/b+t);d.um(l/b+a)}};d.W=new function(){}})();function ic(d){this.b=d}(function(){var d=ic.prototype;d.ja=function(d){this.behavior=d;this.b=d.b};d.ja.prototype.M=function(){};d.aa=function(d,q){this.type=d;this.behavior=d.behavior;this.e=q;this.b=d.b};var t=d.aa.prototype;t.M=function(){this.e.ca.solidEnabled=0!==this.A[0]};t.Eb=function(){};d.k=new function(){};d.W=new function(){}})();
function hc(){return[Y,jc,kc,nc,X,lc,mc,Z,pc,qc,sc,oc,ic,rc,W.prototype.k.Hq,Z.prototype.k.Jq,W.prototype.k.yq,pc.prototype.W.hk,X.prototype.W.or,X.prototype.W.nr,W.prototype.k.Cq,lc.prototype.W.en,X.prototype.W.sr,oc.prototype.W.hk,oc.prototype.W.dn,W.prototype.W.rr,X.prototype.W.qr,X.prototype.Ja.Dq,X.prototype.Ja.Eq,X.prototype.W.mr,X.prototype.Ja.sq,X.prototype.k.Iq,Z.prototype.k.fk,W.prototype.W.rq,X.prototype.Ja.gn,X.prototype.Ja.hn,X.prototype.W.Aq,W.prototype.W.Br,W.prototype.W.zq,X.prototype.W.pr,
Y.prototype.W.xq,W.prototype.W.lr,Y.prototype.W.Ar,W.prototype.k.Wm,W.prototype.W.Mq]};
